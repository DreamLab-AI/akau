const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-QL_RxLH5.js","assets/vendor-react-Dgwvv9qw.js"])))=>i.map(i=>d[i]);
import{r as e,a as t,R as r,b as s}from"./vendor-react-Dgwvv9qw.js";let Ve;let __tla=(async()=>{!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var a={exports:{}},n={},i=e,o=Symbol.for("react.element"),l=Symbol.for("react.fragment"),c=Object.prototype.hasOwnProperty,d=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,h={key:!0,ref:!0,__self:!0,__source:!0};function m(e,t,r){var s,a={},n=null,i=null;for(s in void 0!==r&&(n=""+r),void 0!==t.key&&(n=""+t.key),void 0!==t.ref&&(i=t.ref),t)c.call(t,s)&&!h.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps)void 0===a[s]&&(a[s]=t[s]);return{$$typeof:o,type:e,key:n,ref:i,props:a,_owner:d.current}}n.Fragment=l,n.jsx=m,n.jsxs=m,a.exports=n;var u,x=a.exports,p={},b=t;function g(){return g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},g.apply(this,arguments)}p.createRoot=b.createRoot,p.hydrateRoot=b.hydrateRoot,function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(u||(u={}));const f="popstate";function v(e){return void 0===e&&(e={}),function(e,t,r,s){void 0===s&&(s={});let{window:a=document.defaultView,v5Compat:n=!1}=s,i=a.history,o=u.Pop,l=null,c=d();null==c&&(c=0,i.replaceState(g({},i.state,{idx:c}),""));function d(){return(i.state||{idx:null}).idx}function h(){o=u.Pop;let e=d(),t=null==e?null:e-c;c=e,l&&l({action:o,location:b.location,delta:t})}function m(e,t){o=u.Push;let r=w(b.location,e,t);c=d()+1;let s=N(r,c),h=b.createHref(r);try{i.pushState(s,"",h)}catch(m){if(m instanceof DOMException&&"DataCloneError"===m.name)throw m;a.location.assign(h)}n&&l&&l({action:o,location:b.location,delta:1})}function x(e,t){o=u.Replace;let r=w(b.location,e,t);c=d();let s=N(r,c),a=b.createHref(r);i.replaceState(s,"",a),n&&l&&l({action:o,location:b.location,delta:0})}function p(e){let t="null"!==a.location.origin?a.location.origin:a.location.href,r="string"==typeof e?e:S(e);return r=r.replace(/ $/,"%20"),y(t,"No window.location.(origin|href) available to create URL for href: "+r),new URL(r,t)}let b={get action(){return o},get location(){return e(a,i)},listen(e){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(f,h),l=e,()=>{a.removeEventListener(f,h),l=null}},createHref:e=>t(a,e),createURL:p,encodeLocation(e){let t=p(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:m,replace:x,go:e=>i.go(e)};return b}(function(e,t){let{pathname:r,search:s,hash:a}=e.location;return w("",{pathname:r,search:s,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"==typeof t?t:S(t)},0,e)}function y(e,t){if(!1===e||null==e)throw new Error(t)}function j(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(r){}}}function N(e,t){return{usr:e.state,key:e.key,idx:t}}function w(e,t,r,s){return void 0===r&&(r=null),g({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof t?k(t):t,{state:r,key:t&&t.key||s||Math.random().toString(36).substr(2,8)})}function S(e){let{pathname:t="/",search:r="",hash:s=""}=e;return r&&"?"!==r&&(t+="?"===r.charAt(0)?r:"?"+r),s&&"#"!==s&&(t+="#"===s.charAt(0)?s:"#"+s),t}function k(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}var C;function E(e,t,r){return void 0===r&&(r="/"),function(e,t,r){let s="string"==typeof t?k(t):t,a=$(s.pathname||"/",r);if(null==a)return null;let n=P(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let r=e.length===t.length&&e.slice(0,-1).every((e,r)=>e===t[r]);return r?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(n);let i=null;for(let o=0;null==i&&o<n.length;++o){let e=z(a);i=O(n[o],e)}return i}(e,t,r)}function P(e,t,r,s){void 0===t&&(t=[]),void 0===r&&(r=[]),void 0===s&&(s="");let a=(e,a,n)=>{let i={relativePath:void 0===n?e.path||"":n,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};i.relativePath.startsWith("/")&&(y(i.relativePath.startsWith(s),'Absolute route path "'+i.relativePath+'" nested under path "'+s+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),i.relativePath=i.relativePath.slice(s.length));let o=q([s,i.relativePath]),l=r.concat(i);e.children&&e.children.length>0&&(y(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),P(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:I(o,e.index),routesMeta:l})};return e.forEach((e,t)=>{var r;if(""!==e.path&&null!=(r=e.path)&&r.includes("?"))for(let s of M(e.path))a(e,t,s);else a(e,t)}),t}function M(e){let t=e.split("/");if(0===t.length)return[];let[r,...s]=t,a=r.endsWith("?"),n=r.replace(/\?$/,"");if(0===s.length)return a?[n,""]:[n];let i=M(s.join("/")),o=[];return o.push(...i.map(e=>""===e?n:[n,e].join("/"))),a&&o.push(...i),o.map(t=>e.startsWith("/")&&""===t?"/":t)}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(C||(C={}));const D=/^:[\w-]+$/,B=3,T=2,R=1,A=10,U=-2,_=e=>"*"===e;function I(e,t){let r=e.split("/"),s=r.length;return r.some(_)&&(s+=U),t&&(s+=T),r.filter(e=>!_(e)).reduce((e,t)=>e+(D.test(t)?B:""===t?R:A),s)}function O(e,t,r){let{routesMeta:s}=e,a={},n="/",i=[];for(let o=0;o<s.length;++o){let e=s[o],r=o===s.length-1,l="/"===n?t:t.slice(n.length)||"/",c=F({path:e.relativePath,caseSensitive:e.caseSensitive,end:r},l),d=e.route;if(!c)return null;Object.assign(a,c.params),i.push({params:a,pathname:q([n,c.pathname]),pathnameBase:J(q([n,c.pathnameBase])),route:d}),"/"!==c.pathnameBase&&(n=q([n,c.pathnameBase]))}return i}function F(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[r,s]=function(e,t,r){void 0===t&&(t=!1);void 0===r&&(r=!0);j("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,r)=>(s.push({paramName:t,isOptional:null!=r}),r?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(s.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))");let n=new RegExp(a,t?void 0:"i");return[n,s]}(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let n=a[0],i=n.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:s.reduce((e,t,r)=>{let{paramName:s,isOptional:a}=t;if("*"===s){let e=o[r]||"";i=n.slice(0,n.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[r];return e[s]=a&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:n,pathnameBase:i,pattern:e}}function z(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return j(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function $(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,s=e.charAt(r);return s&&"/"!==s?null:e.slice(r)||"/"}const L=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function G(e,t){void 0===t&&(t="/");let r,{pathname:s,search:a="",hash:n=""}="string"==typeof e?k(e):e;if(s)if(i=s,L.test(i))r=s;else{if(s.includes("//")){let e=s;s=s.replace(/\/\/+/g,"/"),j(!1,"Pathnames cannot have embedded double slashes - normalizing "+e+" -> "+s)}r=s.startsWith("/")?H(s.substring(1),"/"):H(s,t)}else r=t;var i;return{pathname:r,search:Y(a),hash:X(n)}}function H(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)}),r.length>1?r.join("/"):"/"}function W(e,t,r,s){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the `to."+r+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function V(e,t){let r=function(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}(e);return t?r.map((e,t)=>t===r.length-1?e.pathname:e.pathnameBase):r.map(e=>e.pathnameBase)}function K(e,t,r,s){let a;void 0===s&&(s=!1),"string"==typeof e?a=k(e):(a=g({},e),y(!a.pathname||!a.pathname.includes("?"),W("?","pathname","search",a)),y(!a.pathname||!a.pathname.includes("#"),W("#","pathname","hash",a)),y(!a.search||!a.search.includes("#"),W("#","search","hash",a)));let n,i=""===e||""===a.pathname,o=i?"/":a.pathname;if(null==o)n=r;else{let e=t.length-1;if(!s&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;a.pathname=t.join("/")}n=e>=0?t[e]:"/"}let l=G(a,n),c=o&&"/"!==o&&o.endsWith("/"),d=(i||"."===o)&&r.endsWith("/");return l.pathname.endsWith("/")||!c&&!d||(l.pathname+="/"),l}const q=e=>e.join("/").replace(/\/\/+/g,"/"),J=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Y=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",X=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";const Q=["post","put","patch","delete"];new Set(Q);const Z=["get",...Q];function ee(){return ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},ee.apply(this,arguments)}new Set(Z);const te=e.createContext(null),re=e.createContext(null),se=e.createContext(null),ae=e.createContext(null),ne=e.createContext({outlet:null,matches:[],isDataRoute:!1}),ie=e.createContext(null);function oe(){return null!=e.useContext(ae)}function le(){return oe()||y(!1),e.useContext(ae).location}function ce(t){e.useContext(se).static||e.useLayoutEffect(t)}function de(){let{isDataRoute:t}=e.useContext(ne);return t?function(){let{router:t}=function(){let t=e.useContext(te);return t||y(!1),t}(ge.UseNavigateStable),r=ve(fe.UseNavigateStable),s=e.useRef(!1);return ce(()=>{s.current=!0}),e.useCallback(function(e,a){void 0===a&&(a={}),s.current&&("number"==typeof e?t.navigate(e):t.navigate(e,ee({fromRouteId:r},a)))},[t,r])}():function(){oe()||y(!1);let t=e.useContext(te),{basename:r,future:s,navigator:a}=e.useContext(se),{matches:n}=e.useContext(ne),{pathname:i}=le(),o=JSON.stringify(V(n,s.v7_relativeSplatPath)),l=e.useRef(!1);return ce(()=>{l.current=!0}),e.useCallback(function(e,s){if(void 0===s&&(s={}),!l.current)return;if("number"==typeof e)return void a.go(e);let n=K(e,JSON.parse(o),i,"path"===s.relative);null==t&&"/"!==r&&(n.pathname="/"===n.pathname?r:q([r,n.pathname])),(s.replace?a.replace:a.push)(n,s.state,s)},[r,a,o,i,t])}()}function he(t,r){let{relative:s}=void 0===r?{}:r,{future:a}=e.useContext(se),{matches:n}=e.useContext(ne),{pathname:i}=le(),o=JSON.stringify(V(n,a.v7_relativeSplatPath));return e.useMemo(()=>K(t,JSON.parse(o),i,"path"===s),[t,o,i,s])}function me(t,r){return function(t,r,s,a){oe()||y(!1);let{navigator:n}=e.useContext(se),{matches:i}=e.useContext(ne),o=i[i.length-1],l=o?o.params:{};!o||o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d,h=le();if(r){var m;let e="string"==typeof r?k(r):r;"/"===c||(null==(m=e.pathname)?void 0:m.startsWith(c))||y(!1),d=e}else d=h;let x=d.pathname||"/",p=x;if("/"!==c){let e=c.replace(/^\//,"").split("/");p="/"+x.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=E(t,{pathname:p}),g=function(t,r,s,a){var n;void 0===r&&(r=[]);void 0===s&&(s=null);void 0===a&&(a=null);if(null==t){var i;if(!s)return null;if(s.errors)t=s.matches;else{if(!(null!=(i=a)&&i.v7_partialHydration&&0===r.length&&!s.initialized&&s.matches.length>0))return null;t=s.matches}}let o=t,l=null==(n=s)?void 0:n.errors;if(null!=l){let e=o.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||y(!1),o=o.slice(0,Math.min(o.length,e+1))}let c=!1,d=-1;if(s&&a&&a.v7_partialHydration)for(let e=0;e<o.length;e++){let t=o[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(d=e),t.route.id){let{loaderData:e,errors:r}=s,a=t.route.loader&&void 0===e[t.route.id]&&(!r||void 0===r[t.route.id]);if(t.route.lazy||a){c=!0,o=d>=0?o.slice(0,d+1):[o[0]];break}}}return o.reduceRight((t,a,n)=>{let i,h=!1,m=null,u=null;var x;s&&(i=l&&a.route.id?l[a.route.id]:void 0,m=a.route.errorElement||xe,c&&(d<0&&0===n?(ye[x="route-fallback"]||(ye[x]=!0),h=!0,u=null):d===n&&(h=!0,u=a.route.hydrateFallbackElement||null)));let p=r.concat(o.slice(0,n+1)),b=()=>{let r;return r=i?m:h?u:a.route.Component?e.createElement(a.route.Component,null):a.route.element?a.route.element:t,e.createElement(be,{match:a,routeContext:{outlet:t,matches:p,isDataRoute:null!=s},children:r})};return s&&(a.route.ErrorBoundary||a.route.errorElement||0===n)?e.createElement(pe,{location:s.location,revalidation:s.revalidation,component:m,error:i,children:b(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):b()},null)}(b&&b.map(e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:q([c,n.encodeLocation?n.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:q([c,n.encodeLocation?n.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),i,s,a);if(r&&g)return e.createElement(ae.Provider,{value:{location:ee({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:u.Pop}},g);return g}(t,r)}function ue(){let t=function(){var t;let r=e.useContext(ie),s=function(){let t=e.useContext(re);return t||y(!1),t}(),a=ve();if(void 0!==r)return r;return null==(t=s.errors)?void 0:t[a]}(),r=function(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),s=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return e.createElement(e.Fragment,null,e.createElement("h2",null,"Unexpected Application Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},r),s?e.createElement("pre",{style:a},s):null,null)}const xe=e.createElement(ue,null);class pe extends e.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?e.createElement(ne.Provider,{value:this.props.routeContext},e.createElement(ie.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function be(t){let{routeContext:r,match:s,children:a}=t,n=e.useContext(te);return n&&n.static&&n.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=s.route.id),e.createElement(ne.Provider,{value:r},a)}var ge=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ge||{}),fe=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(fe||{});function ve(t){let r=function(){let t=e.useContext(ne);return t||y(!1),t}(),s=r.matches[r.matches.length-1];return s.route.id||y(!1),s.route.id}const ye={};function je(e){y(!1)}function Ne(t){let{basename:r="/",children:s=null,location:a,navigationType:n=u.Pop,navigator:i,static:o=!1,future:l}=t;oe()&&y(!1);let c=r.replace(/^\/*/,"/"),d=e.useMemo(()=>({basename:c,navigator:i,static:o,future:ee({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);"string"==typeof a&&(a=k(a));let{pathname:h="/",search:m="",hash:x="",state:p=null,key:b="default"}=a,g=e.useMemo(()=>{let e=$(h,c);return null==e?null:{location:{pathname:e,search:m,hash:x,state:p,key:b},navigationType:n}},[c,h,m,x,p,b,n]);return null==g?null:e.createElement(se.Provider,{value:d},e.createElement(ae.Provider,{children:s,value:g}))}function we(e){let{children:t,location:r}=e;return me(Se(t),r)}function Se(t,r){void 0===r&&(r=[]);let s=[];return e.Children.forEach(t,(t,a)=>{if(!e.isValidElement(t))return;let n=[...r,a];if(t.type===e.Fragment)return void s.push.apply(s,Se(t.props.children,n));t.type!==je&&y(!1),t.props.index&&t.props.children&&y(!1);let i={id:t.props.id||n.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(i.children=Se(t.props.children,n)),s.push(i)}),s}function ke(){return ke=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},ke.apply(this,arguments)}new Promise(()=>{});const Ce=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(yt){}const Ee=r.startTransition;function Pe(t){let{basename:r,children:s,future:a,window:n}=t,i=e.useRef();null==i.current&&(i.current=v({window:n,v5Compat:!0}));let o=i.current,[l,c]=e.useState({action:o.action,location:o.location}),{v7_startTransition:d}=a||{},h=e.useCallback(e=>{d&&Ee?Ee(()=>c(e)):c(e)},[c,d]);return e.useLayoutEffect(()=>o.listen(h),[o,h]),e.useEffect(()=>{return null==(e=a)||e.v7_startTransition,void(null==e||e.v7_relativeSplatPath);var e},[a]),e.createElement(Ne,{basename:r,children:s,location:l.location,navigationType:l.action,navigator:o,future:a})}const Me="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,De=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Be=e.forwardRef(function(t,r){let s,{onClick:a,relative:n,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:h,viewTransition:m}=t,u=function(e,t){if(null==e)return{};var r,s,a={},n=Object.keys(e);for(s=0;s<n.length;s++)r=n[s],t.indexOf(r)>=0||(a[r]=e[r]);return a}(t,Ce),{basename:x}=e.useContext(se),p=!1;if("string"==typeof d&&De.test(d)&&(s=d,Me))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),r=$(t.pathname,x);t.origin===e.origin&&null!=r?d=r+t.search+t.hash:p=!0}catch(yt){}let b=function(t,r){let{relative:s}=void 0===r?{}:r;oe()||y(!1);let{basename:a,navigator:n}=e.useContext(se),{hash:i,pathname:o,search:l}=he(t,{relative:s}),c=o;return"/"!==a&&(c="/"===o?a:q([a,o])),n.createHref({pathname:c,search:l,hash:i})}(d,{relative:n}),g=function(t,r){let{target:s,replace:a,state:n,preventScrollReset:i,relative:o,viewTransition:l}=void 0===r?{}:r,c=de(),d=le(),h=he(t,{relative:o});return e.useCallback(e=>{if(function(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(e,s)){e.preventDefault();let r=void 0!==a?a:S(d)===S(h);c(t,{replace:r,state:n,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,h,a,n,s,t,i,o,l])}(d,{replace:o,state:l,target:c,preventScrollReset:h,relative:n,viewTransition:m});return e.createElement("a",ke({},u,{href:s||b,onClick:p||i?a:function(e){a&&a(e),e.defaultPrevented||g(e)},ref:r,target:c}))});var Te,Re,Ae,Ue;(Re=Te||(Te={})).UseScrollRestoration="useScrollRestoration",Re.UseSubmit="useSubmit",Re.UseSubmitFetcher="useSubmitFetcher",Re.UseFetcher="useFetcher",Re.useViewTransitionState="useViewTransitionState",(Ue=Ae||(Ae={})).UseFetcher="useFetcher",Ue.UseFetchers="useFetchers",Ue.UseScrollRestoration="useScrollRestoration";const _e={"BTC-USD":"bitcoin","ETH-USD":"ethereum","SOL-USD":"solana","MATIC-USD":"matic-network","AVAX-USD":"avalanche-2","LINK-USD":"chainlink"},Ie=["AAPL-USD","NVDA-USD","MSFT-USD","GOOGL-USD","META-USD","TSLA-USD"],Oe=["CARBON-USD","BIODIV-USD"];let Fe,ze,$e,Le,Ge,He,We;Fe=new class{subscribers=new Set;eventHandlers=new Map;connected=!1;updateIntervals=[];useMockData=!1;prices={};mockPrices={"BTC-USD":97500,"ETH-USD":3680,"SOL-USD":238,"MATIC-USD":.52,"AVAX-USD":45,"LINK-USD":18.5,"BTC-RGB":97500,"ETH-RGB":3680,"AAPL-USD":232,"NVDA-USD":142,"MSFT-USD":428,"GOOGL-USD":175,"META-USD":605,"TSLA-USD":352,"CARBON-USD":42.5,"BIODIV-USD":15.75};async connect(){if(this.connected)return;this.connected=!0,this.emit("connect"),await this.fetchCoinGeckoData();const e=setInterval(()=>{this.fetchCoinGeckoData()},3e4),t=setInterval(()=>{this.updateStockPrices()},5e3),r=setInterval(()=>{this.updateEnvTokenPrices()},1e4),s=setInterval(()=>{Object.keys(this.prices).forEach(e=>{this.broadcastOrderBook(e)})},2e3),a=setInterval(()=>{const e=Object.keys(this.prices);if(e.length>0){const t=e[Math.floor(Math.random()*e.length)];this.broadcastTrade(t)}},1500);this.updateIntervals.push(e,t,r,s,a)}disconnect(){this.connected&&(this.connected=!1,this.updateIntervals.forEach(e=>clearInterval(e)),this.updateIntervals=[],this.emit("disconnect"))}subscribe(e){this.subscribers.add(e)}unsubscribe(e){this.subscribers.delete(e)}on(e,t){this.eventHandlers.has(e)||this.eventHandlers.set(e,new Set),this.eventHandlers.get(e).add(t)}off(e,t){this.eventHandlers.get(e)?.delete(t)}emit(e,...t){this.eventHandlers.get(e)?.forEach(r=>{try{r(...t)}catch(s){console.error(`Error in event handler for ${e}:`,s)}})}async fetchCoinGeckoData(){try{const e=Object.values(_e).join(","),t=await fetch(`https://api.coingecko.com/api/v3/simple/price?ids=${e}&vs_currencies=usd&include_24hr_change=true&include_24hr_vol=true`,{headers:{Accept:"application/json"}});if(!t.ok)throw new Error(`CoinGecko API error: ${t.status}`);const r=await t.json();for(const[s,a]of Object.entries(_e))if(r[a]){const e=r[a].usd,t=r[a].usd_24h_change||0,n=r[a].usd_24h_vol||0;this.prices[s]={price:e,change24h:t,volume24h:n,high24h:e*(1+Math.abs(t)/100*.3),low24h:e*(1-Math.abs(t)/100*.3),lastUpdate:Date.now()};const i=s.replace("-USD","-RGB");this.prices[i]={...this.prices[s]},this.broadcastPriceUpdate(s),this.broadcastPriceUpdate(i)}this.useMockData=!1}catch(e){console.warn("CoinGecko API unavailable, using mock data:",e),this.useMockData=!0,this.initializeMockData()}}initializeMockData(){for(const[e,t]of Object.entries(this.mockPrices))this.prices[e]||(this.prices[e]={price:t,change24h:10*(Math.random()-.5),volume24h:1e9*Math.random()+1e8,high24h:1.05*t,low24h:.95*t,lastUpdate:Date.now()}),this.broadcastPriceUpdate(e)}updateStockPrices(){Ie.forEach(e=>{const t=this.mockPrices[e]||100,r=this.prices[e];if(r){const s=.002*t,a=.001*(t-r.price)+(Math.random()-.5)*s;this.prices[e]={...r,price:Math.max(r.price+a,.5*t),lastUpdate:Date.now()}}else this.prices[e]={price:t,change24h:5*(Math.random()-.5),volume24h:5e7*Math.random()+1e7,high24h:1.03*t,low24h:.97*t,lastUpdate:Date.now()};this.broadcastPriceUpdate(e)})}updateEnvTokenPrices(){Oe.forEach(e=>{const t=this.mockPrices[e]||10,r=this.prices[e];if(r){const s=(Math.random()-.5)*t*.001;this.prices[e]={...r,price:Math.max(r.price+s,.8*t),lastUpdate:Date.now()}}else this.prices[e]={price:t,change24h:2*(Math.random()-.5),volume24h:5e6*Math.random()+1e6,high24h:1.02*t,low24h:.98*t,lastUpdate:Date.now()};this.broadcastPriceUpdate(e)})}broadcastPriceUpdate(e){const t=this.prices[e];if(!t)return;const r={type:"price_update",pair:e,price:t.price,change24h:t.change24h,volume24h:t.volume24h,high24h:t.high24h,low24h:t.low24h};this.broadcast(r)}broadcastOrderBook(e){const t=this.prices[e];if(!t)return;const r=t.price,s=[],a=[];for(let i=0;i<20;i++){const e=r*(.9995-3e-4*i),t=r*(1.0005+3e-4*i),n=5*Math.random()+.1;s.push([e,n]),a.push([t,n])}const n={type:"orderbook",pair:e,bids:s,asks:a};this.broadcast(n)}broadcastTrade(e){const t=this.prices[e];if(!t)return;const r=t.price*(1+.001*(Math.random()-.5)),s=2*Math.random()+.01,a=Math.random()>.5?"buy":"sell",n={type:"trade",pair:e,id:`trade-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,price:r,size:s,side:a,timestamp:Date.now()};this.broadcast(n)}broadcast(e){this.subscribers.forEach(t=>{try{t(e)}catch(r){console.error("Error in subscriber:",r)}})}getCurrentPrices(){return{...this.prices}}isUsingMockData(){return this.useMockData}};ze=e.createContext(void 0);$e=({children:t})=>{const[r,s]=e.useState({selectedPair:"BTC-USD",prices:{},orderBooks:{},trades:{},positions:[],isConnected:!1,error:null}),a=e.useCallback(e=>{s(t=>({...t,selectedPair:e}))},[]),n=e.useCallback(()=>{s(e=>({...e,error:null})),Fe.connect()},[]);e.useEffect(()=>{const e=e=>{s(t=>{const r={...t};switch(e.type){case"price_update":void 0!==e.price&&void 0!==e.change24h&&void 0!==e.volume24h&&void 0!==e.high24h&&void 0!==e.low24h&&(r.prices={...t.prices,[e.pair]:{price:e.price,change24h:e.change24h,volume24h:e.volume24h,high24h:e.high24h,low24h:e.low24h}});break;case"orderbook":e.bids&&e.asks&&(r.orderBooks={...t.orderBooks,[e.pair]:{bids:e.bids.map((t,r)=>({price:t[0],size:t[1],total:e.bids.slice(0,r+1).reduce((e,t)=>e+t[1],0)})),asks:e.asks.map((t,r)=>({price:t[0],size:t[1],total:e.asks.slice(0,r+1).reduce((e,t)=>e+t[1],0)}))}});break;case"trade":if(e.id&&void 0!==e.price&&void 0!==e.size&&e.side&&void 0!==e.timestamp){const s=t.trades[e.pair]||[];r.trades={...t.trades,[e.pair]:[{id:e.id,pair:e.pair,price:e.price,size:e.size,side:e.side,timestamp:e.timestamp},...s.slice(0,99)]}}break;case"position_update":if(void 0!==e.size&&void 0!==e.entryPrice&&void 0!==e.currentPrice&&void 0!==e.pnl&&void 0!==e.pnlPercent){const s=t.positions.find(t=>t.pair===e.pair);r.positions=s?t.positions.map(t=>t.pair===e.pair?{...t,size:e.size,entryPrice:e.entryPrice,currentPrice:e.currentPrice,pnl:e.pnl,pnlPercent:e.pnlPercent}:t):[...t.positions,{pair:e.pair,size:e.size,entryPrice:e.entryPrice,currentPrice:e.currentPrice,pnl:e.pnl,pnlPercent:e.pnlPercent}]}}return r})},t=()=>{s(e=>({...e,isConnected:!0,error:null}))},r=()=>{s(e=>({...e,isConnected:!1}))},a=e=>{s(t=>({...t,error:e.message,isConnected:!1}))};return Fe.subscribe(e),Fe.on("connect",t),Fe.on("disconnect",r),Fe.on("error",a),Fe.connect(),()=>{Fe.unsubscribe(e),Fe.off("connect",t),Fe.off("disconnect",r),Fe.off("error",a),Fe.disconnect()}},[]);const i={...r,selectPair:a,refreshData:n};return x.jsx(ze.Provider,{value:i,children:t})};Le=()=>{const t=e.useContext(ze);if(!t)throw new Error("useMarket must be used within MarketProvider");return t};Ge=e.createContext(void 0);He=({children:t})=>{const[r,s]=e.useState({openOrders:[],orderHistory:[],isSubmitting:!1}),a={...r,placeOrder:e.useCallback(async e=>{s(e=>({...e,isSubmitting:!0}));try{await new Promise(e=>setTimeout(e,500));const t={id:`order-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,pair:e.pair,type:e.type,side:e.side,size:e.size,price:e.price,status:"market"===e.type?"filled":"open",filledSize:"market"===e.type?e.size:0,timestamp:Date.now()};return s(r=>({...r,isSubmitting:!1,openOrders:"limit"===e.type?[...r.openOrders,t]:r.openOrders,orderHistory:[t,...r.orderHistory]})),t}catch(t){throw s(e=>({...e,isSubmitting:!1})),t}},[]),cancelOrder:e.useCallback(async e=>{s(e=>({...e,isSubmitting:!0}));try{await new Promise(e=>setTimeout(e,300)),s(t=>{const r=t.openOrders.find(t=>t.id===e);if(!r)return{...t,isSubmitting:!1};const s={...r,status:"cancelled"};return{...t,isSubmitting:!1,openOrders:t.openOrders.filter(t=>t.id!==e),orderHistory:[s,...t.orderHistory]}})}catch(t){throw s(e=>({...e,isSubmitting:!1})),t}},[]),clearHistory:e.useCallback(()=>{s(e=>({...e,orderHistory:[]}))},[])};return x.jsx(Ge.Provider,{value:a,children:t})};We={};Ve=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),r=e?.nonce||e?.getAttribute("nonce");s=Promise.allSettled(t.map(e=>{if((e=function(e){return"/akau/"+e}(e))in We)return;We[e]=!0;const t=e.endsWith(".css"),s=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${s}`))return;const a=document.createElement("link");return a.rel=t?"stylesheet":"modulepreload",t||(a.as="script"),a.crossOrigin="",a.href=e,r&&a.setAttribute("nonce",r),document.head.appendChild(a),t?new Promise((t,r)=>{a.addEventListener("load",t),a.addEventListener("error",()=>r(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function a(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return s.then(t=>{for(const e of t||[])"rejected"===e.status&&a(e.reason);return e().catch(a)})};class Ke{config;walletManager=null;walletState=null;listeners=new Set;isInitialized=!1;constructor(e){this.config={useMockMode:!0,...e}}subscribe(e){return this.listeners.add(e),()=>this.listeners.delete(e)}emit(e){this.listeners.forEach(t=>t(e))}async createWallet(e){if(this.config.useMockMode)return this.createMockWallet(e);try{const t=await Ve(()=>import("./index-QL_RxLH5.js").then(async m=>{await m.__tla;return m}),__vite__mapDeps([0,1])),{WalletManager:r}=t,s=t.createWallet,a=await s(this.config.network,e);return this.walletManager=new r({xpub_van:a.account_xpub_vanilla,xpub_col:a.account_xpub_colored,master_fingerprint:a.master_fingerprint,mnemonic:a.mnemonic,network:this.config.network,rgb_node_endpoint:this.config.rgbNodeEndpoint}),await this.walletManager.registerWallet(),this.walletState={descriptor:a.account_xpub_vanilla,publicKey:a.master_fingerprint,network:this.config.network,assets:[],lastSync:Date.now()},this.isInitialized=!0,this.emit({type:"wallet_created",wallet:this.walletState}),this.walletState}catch(t){const e=t instanceof Error?t:new Error(String(t));throw this.emit({type:"error",error:e}),e}}async issueRGB20(e){if(this.config.useMockMode)return this.issueMockAsset("RGB20",e);if(!this.walletManager)throw new Error("Wallet not initialized");try{const t=await this.walletManager.issueAssetNia({ticker:e.ticker,name:e.name,amounts:[Number(e.amount)],precision:e.precision}),r={contractId:t.asset?.assetId||`rgb:${Date.now()}`,schema:"RGB20",ticker:e.ticker,name:e.name,precision:e.precision,balance:e.amount,metadata:e.metadata||{},issuer:this.walletState?.publicKey||"",timestamp:Date.now()};return this.walletState&&(this.walletState.assets.push(r),this.walletState.lastSync=Date.now()),this.emit({type:"asset_issued",asset:r}),r}catch(t){const e=t instanceof Error?t:new Error(String(t));throw this.emit({type:"error",error:e}),e}}async getAssetBalance(e){if(this.config.useMockMode)return this.getMockBalance(e);if(!this.walletManager)throw new Error("Wallet not initialized");try{const t=await this.walletManager.getAssetBalance(e),r=BigInt(t.spendable||0);return this.emit({type:"balance_updated",assetId:e,balance:r}),r}catch(t){const e=t instanceof Error?t:new Error(String(t));throw this.emit({type:"error",error:e}),e}}async listAssets(){if(this.config.useMockMode)return this.walletState?.assets||[];if(!this.walletManager)throw new Error("Wallet not initialized");try{const e=await this.walletManager.listAssets();return e.nia?.map(e=>({contractId:e.assetId,schema:"RGB20",ticker:e.ticker,name:e.name,precision:e.precision,balance:BigInt(e.balance?.spendable||0),metadata:{},issuer:e.issuedSupply?"self":"other",timestamp:Date.now()}))||[]}catch(e){const t=e instanceof Error?e:new Error(String(e));throw this.emit({type:"error",error:t}),t}}async transfer(e){if(this.config.useMockMode)return this.createMockTransfer(e);if(!this.walletManager)throw new Error("Wallet not initialized");try{const t=await this.walletManager.sendBegin({asset_id:e.assetId,amount:Number(e.amount),recipient_id:e.recipient,fee_rate:e.feeRate||1}),r=this.walletManager.signPsbt(t),s=await this.walletManager.sendEnd({signed_psbt:r}),a={txid:s.txid||`tx_${Date.now()}`,assetId:e.assetId,amount:e.amount,sender:this.walletState?.publicKey||"",recipient:e.recipient,psbt:r,consignment:s.consignment||"",status:"pending",timestamp:Date.now()};return this.emit({type:"transfer_created",transaction:a}),a}catch(t){const e=t instanceof Error?t:new Error(String(t));throw this.emit({type:"error",error:e}),e}}async createReceiveInvoice(e){if(this.config.useMockMode)return`rgb:mock_invoice_${Date.now()}`;if(!this.walletManager)throw new Error("Wallet not initialized");try{return(await this.walletManager.receiveAsset(e)).recipient_id}catch(t){const e=t instanceof Error?t:new Error(String(t));throw this.emit({type:"error",error:e}),e}}async getBitcoinAddress(){if(this.config.useMockMode)return"tb1qmock_bitcoin_address_for_development";if(!this.walletManager)throw new Error("Wallet not initialized");try{return await this.walletManager.getAddress()}catch(e){const t=e instanceof Error?e:new Error(String(e));throw this.emit({type:"error",error:t}),t}}async getBitcoinBalance(){if(this.config.useMockMode)return{confirmed:1e5,unconfirmed:0};if(!this.walletManager)throw new Error("Wallet not initialized");try{return await this.walletManager.getBtcBalance()}catch(e){const t=e instanceof Error?e:new Error(String(e));throw this.emit({type:"error",error:t}),t}}async createBackup(e){if(this.config.useMockMode)return JSON.stringify({encrypted:!0,mock:!0,timestamp:Date.now()});if(!this.walletManager)throw new Error("Wallet not initialized");try{return await this.walletManager.createBackup(e)}catch(t){const e=t instanceof Error?t:new Error(String(t));throw this.emit({type:"error",error:e}),e}}async restoreFromBackup(e,t){if(this.config.useMockMode)return this.createMockWallet("restored_mock_mnemonic");try{const r=await Ve(()=>import("./index-QL_RxLH5.js").then(async m=>{await m.__tla;return m}),__vite__mapDeps([0,1])),{WalletManager:s}=r;return this.walletManager=new s({network:this.config.network,rgb_node_endpoint:this.config.rgbNodeEndpoint}),"function"==typeof this.walletManager.restoreFromBackup&&await this.walletManager.restoreFromBackup(e,t),this.walletState={descriptor:"restored",publicKey:"restored",network:this.config.network,assets:[],lastSync:Date.now()},this.isInitialized=!0,this.emit({type:"wallet_restored",wallet:this.walletState}),this.walletState}catch(r){const e=r instanceof Error?r:new Error(String(r));throw this.emit({type:"error",error:e}),e}}getWalletState(){return this.walletState}isMockMode(){return this.config.useMockMode||!1}dispose(){this.walletManager=null,this.walletState=null,this.isInitialized=!1,this.listeners.clear()}async createMockWallet(e){return await new Promise(e=>setTimeout(e,500)),this.walletState={descriptor:"wpkh([mock_fingerprint/84'/1'/0']tpub_mock_descriptor)",publicKey:"mock_public_key_"+e.split(" ")[0],network:this.config.network,assets:[],lastSync:Date.now()},this.isInitialized=!0,this.emit({type:"wallet_created",wallet:this.walletState}),this.walletState}async issueMockAsset(e,t){await new Promise(e=>setTimeout(e,300));const r={contractId:`rgb:mock_${e.toLowerCase()}_${Date.now()}`,schema:e,ticker:t.ticker,name:t.name,precision:t.precision,balance:t.amount,metadata:t.metadata||{},issuer:this.walletState?.publicKey||"mock_issuer",timestamp:Date.now()};return this.walletState&&(this.walletState.assets.push(r),this.walletState.lastSync=Date.now()),this.emit({type:"asset_issued",asset:r}),r}async getMockBalance(e){const t=this.walletState?.assets.find(t=>t.contractId===e);return t?.balance||0n}async createMockTransfer(e){await new Promise(e=>setTimeout(e,400));const t={txid:`mock_tx_${Date.now()}`,assetId:e.assetId,amount:e.amount,sender:this.walletState?.publicKey||"mock_sender",recipient:e.recipient,psbt:"mock_psbt_base64",consignment:"mock_consignment_base64",status:"pending",timestamp:Date.now()},r=this.walletState?.assets.find(t=>t.contractId===e.assetId);return r&&(r.balance-=e.amount),this.emit({type:"transfer_created",transaction:t}),t}}class qe{rgbService;constructor(e){this.rgbService=e}async issueCarbonCredits(e){const t=`CC-${e.community.communityId.substring(0,4).toUpperCase()}`,r={type:"environmental_credit",standard:"carbon_credit",carbonTonnes:e.carbonTonnes,communityId:e.community.communityId,communityName:e.community.communityName,projectDescription:e.project.projectDescription,verificationProof:e.verification.verificationReportHash||e.verification.verificationReportUrl,culturalCoBenefits:e.culturalCoBenefits,geographicCoordinates:e.project.geographicCoordinates,validUntil:e.validUntil?.toISOString(),issuedAt:(new Date).toISOString(),vintage:e.vintage,verifier:e.verification.verifierOrganization,methodology:e.verification.methodology,verificationDate:e.verification.verificationDate.toISOString()},s=BigInt(Math.floor(1e3*e.carbonTonnes));return await this.rgbService.issueRGB20({ticker:t,name:`${e.community.communityName} Carbon Credit ${e.vintage}`,amount:s,precision:3,metadata:r})}async issueBiodiversityCredits(e){const t=`BD-${e.community.communityId.substring(0,4).toUpperCase()}`,r={type:"environmental_credit",standard:"biodiversity_credit",communityId:e.community.communityId,communityName:e.community.communityName,projectDescription:e.project.projectDescription,verificationProof:e.verification.verificationReportHash,geographicCoordinates:e.project.geographicCoordinates,issuedAt:(new Date).toISOString(),speciesProtected:e.speciesProtected,habitatHectares:e.habitatHectares,biodiversityScore:e.biodiversityScore,verifier:e.verification.verifierOrganization,methodology:e.verification.methodology},s=BigInt(Math.floor(100*e.habitatHectares));return await this.rgbService.issueRGB20({ticker:t,name:`${e.community.communityName} Biodiversity Credit`,amount:s,precision:2,metadata:r})}async issueCommunityBenefitToken(e,t){const r=`CB-${e.communityId.substring(0,4).toUpperCase()}`,s={type:"community_token",communityId:e.communityId,communityName:e.communityName,issuedAt:(new Date).toISOString(),purpose:"community_benefit_distribution"};return await this.rgbService.issueRGB20({ticker:r,name:`${e.communityName} Community Benefit Token`,amount:t,precision:8,metadata:s})}async getEnvironmentalAssets(){return(await this.rgbService.listAssets()).filter(e=>"environmental_credit"===e.metadata?.type||"community_token"===e.metadata?.type)}async getCarbonBalance(e){const t=await this.rgbService.getAssetBalance(e);return Number(t)/1e3}async transferCarbonCredits(e){const t=BigInt(Math.floor(1e3*e.tonnes)),r=e.communityBenefitPercent??25,s=e.tonnes*(r/100);return{transfer:await this.rgbService.transfer({assetId:e.assetId,amount:t,recipient:e.recipient}),communityBenefit:s}}async verifyTokenAuthenticity(e){const t=(await this.rgbService.listAssets()).find(t=>t.contractId===e);if(!t)return{isValid:!1,metadata:null,verificationDetails:"Asset not found in wallet"};const r=!!(t.metadata?.type&&t.metadata?.communityId&&t.metadata?.verificationProof);return{isValid:r,metadata:t.metadata,verificationDetails:r?`Verified: ${t.metadata?.communityName} - ${t.metadata?.standard||t.metadata?.type}`:"Missing required verification metadata"}}}const Je=e.createContext(null);function Ye({children:t,config:r}){const[s]=e.useState(()=>function(e){return new Ke({network:"regtest",rgbNodeEndpoint:"http://127.0.0.1:8000",useMockMode:!0,...e})}({network:r?.network||"regtest",rgbNodeEndpoint:r?.rgbNodeEndpoint||"http://127.0.0.1:8000",useMockMode:r?.useMockMode??!0})),[a,n]=e.useState(null),[i,o]=e.useState("disconnected"),[l,c]=e.useState(null),[d,h]=e.useState(null),[m,u]=e.useState([]),[p,b]=e.useState([]),[g,f]=e.useState({confirmed:0,unconfirmed:0});e.useEffect(()=>{const e=s.subscribe(e=>{switch(e.type){case"wallet_created":case"wallet_restored":h(e.wallet),o("connected"),c(null),n(function(e){return new qe(e)}(s));break;case"asset_issued":u(t=>[...t,e.asset]);break;case"transfer_created":b(t=>[...t,e.transaction]);break;case"balance_updated":u(t=>t.map(t=>t.contractId===e.assetId?{...t,balance:e.balance}:t));break;case"error":c(e.error.message),"connecting"===i&&o("error")}});return()=>{e(),s.dispose()}},[s]);const v=e.useCallback(async e=>{o("connecting"),c(null);try{await s.createWallet(e),await C(),await E()}catch(t){throw o("error"),c(t instanceof Error?t.message:"Failed to create wallet"),t}},[s]),y=e.useCallback(async(e,t)=>{o("connecting"),c(null);try{await s.restoreFromBackup(e,t),await C(),await E()}catch(r){throw o("error"),c(r instanceof Error?r.message:"Failed to restore wallet"),r}},[s]),j=e.useCallback(()=>{s.dispose(),o("disconnected"),h(null),u([]),b([]),f({confirmed:0,unconfirmed:0}),n(null)},[s]),N=e.useCallback(async e=>await s.issueRGB20(e),[s]),w=e.useCallback(async e=>await s.transfer(e),[s]),S=e.useCallback(async e=>await s.createReceiveInvoice(e),[s]),k=e.useCallback(async e=>await s.createBackup(e),[s]),C=e.useCallback(async()=>{try{const e=await s.listAssets();u(e)}catch(e){console.error("Failed to refresh assets:",e)}},[s]),E=e.useCallback(async()=>{try{const e=await s.getBitcoinBalance();f(e)}catch(e){console.error("Failed to refresh balance:",e)}},[s]),P={status:i,error:l,wallet:d,assets:m,transactions:p,btcBalance:g,isMockMode:s.isMockMode(),createWallet:v,restoreWallet:y,disconnect:j,issueAsset:N,transfer:w,createInvoice:S,createBackup:k,refreshAssets:C,refreshBalance:E,environmentalService:a};return x.jsx(Je.Provider,{value:P,children:t})}function Xe(){const[t,r]=e.useState(!1),[s,a]=e.useState(null),[n,i]=e.useState(!1),[o,l]=e.useState(!1),[c,d]=e.useState(!1);e.useEffect(()=>{i(!!window.nostr)},[]);const h=()=>{o?(r(!0),d(!1)):alert("This platform is for wholesale clients only (Australian regulatory requirement). Please confirm you meet this criteria.")},m=()=>{r(!1),a(null),l(!1)};return c&&s?x.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",role:"dialog","aria-modal":"true","aria-labelledby":"wholesale-title",children:x.jsxs("div",{className:"card max-w-md mx-4",children:[x.jsx("h2",{id:"wholesale-title",className:"text-xl font-semibold mb-4",children:"Wholesale Client Confirmation"}),x.jsx("p",{className:"text-[var(--color-text-secondary)] mb-4",children:"Under Australian law (Corporations Act 2001), this platform is only available to wholesale clients. Wholesale clients include:"}),x.jsxs("ul",{className:"list-disc list-inside text-sm text-[var(--color-text-secondary)] mb-6 space-y-1",children:[x.jsx("li",{children:"Professional investors"}),x.jsx("li",{children:"Entities with net assets of at least $2.5M or gross income of at least $250K"}),x.jsx("li",{children:"Persons investing at least $500K"}),x.jsx("li",{children:"Sophisticated investors (as certified by an accountant)"})]}),x.jsxs("label",{className:"flex items-start gap-3 mb-6 cursor-pointer",children:[x.jsx("input",{type:"checkbox",checked:o,onChange:e=>l(e.target.checked),className:"mt-1 w-4 h-4","aria-describedby":"wholesale-description"}),x.jsx("span",{id:"wholesale-description",className:"text-sm",children:"I confirm that I am a wholesale client as defined under Section 761G of the Corporations Act 2001 (Cth)"})]}),x.jsxs("div",{className:"flex gap-3",children:[x.jsx("button",{onClick:h,disabled:!o,className:"btn-primary flex-1",children:"Confirm & Connect"}),x.jsx("button",{onClick:()=>{d(!1),a(null)},className:"btn-secondary",children:"Cancel"})]})]})}):t&&s?x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-[var(--color-bg-tertiary)] rounded-md",children:[x.jsx("div",{className:"w-2 h-2 rounded-full bg-[var(--color-success)]",role:"status","aria-label":"Connected"}),x.jsx("span",{className:"text-sm font-mono",title:s,children:(u=s,`${u.slice(0,8)}...${u.slice(-8)}`)})]}),x.jsx("button",{onClick:m,className:"btn-secondary text-sm","aria-label":"Disconnect from Nostr",children:"Disconnect"})]}):x.jsxs("div",{children:[x.jsx("button",{onClick:async()=>{if(window.nostr)try{const e=await window.nostr.getPublicKey();a(e),d(!0)}catch(e){console.error("Failed to connect to Nostr:",e),alert("Failed to connect. Please check your Nostr extension settings.")}else alert("Nostr extension (NIP-07) not detected. Please install Alby, nos2x, or similar.")},disabled:!n,className:"btn-primary","aria-label":"Connect with Nostr",children:n?"Connect with Nostr":"Nostr Extension Required"}),!n&&x.jsx("p",{className:"text-xs text-[var(--color-error)] mt-1",children:"Install Alby or nos2x extension"})]});var u}const Qe=({name:e,size:t=24,className:r=""})=>x.jsx("img",{src:`/akau/icons/akau/icon-${e}.png`,alt:e,width:t,height:t,className:`inline-block ${r}`,style:{imageRendering:"crisp-edges"}});function Ze(){const t=le(),[r,s]=e.useState(!1),[a,n]=e.useState(!1);e.useEffect(()=>{n(!!window.nostr);const e=localStorage.getItem("nostr_session");if(e)try{JSON.parse(e).expires_at>Date.now()&&s(!0)}catch{}const t=e=>{"nostr_session"===e.key&&s(!!e.newValue)};return window.addEventListener("storage",t),()=>window.removeEventListener("storage",t)},[]);const i={nostr:r,neural:!1,exchange:!1},o=e=>t.pathname===e,l=({connected:e,label:t})=>x.jsxs("div",{className:"flex items-center gap-2",title:`${t}: ${e?"Connected":"Disconnected"}`,children:[x.jsx("div",{className:"w-2 h-2 rounded-full "+(e?"bg-[var(--color-success)]":"bg-[var(--color-error)]"),role:"status","aria-label":`${t} ${e?"connected":"disconnected"}`}),x.jsx("span",{className:"text-sm text-[var(--color-text-secondary)] hidden md:inline",children:t})]});return x.jsx("header",{className:"bg-[var(--color-bg-secondary)] border-b border-[var(--color-border)] px-6 py-4",children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center gap-6",children:[x.jsxs(Be,{to:"/",className:"flex items-center gap-3",children:[x.jsx("img",{src:"/akau/icons/akau/icon-logo-akau.png",alt:"AKAU Global",width:48,height:48,className:"inline-block",style:{imageRendering:"crisp-edges"}}),x.jsx("h1",{className:"text-xl font-semibold text-gradient-teal",children:"AKAU Global"})]}),x.jsxs("nav",{className:"hidden md:flex items-center gap-1",role:"navigation","aria-label":"Main navigation",children:[x.jsxs(Be,{to:"/",className:"flex items-center gap-2 px-3 py-2 rounded-md transition-colors "+(o("/")?"bg-[var(--color-bg-tertiary)] text-[var(--color-text-primary)]":"text-[var(--color-text-secondary)] hover:bg-[var(--color-bg-tertiary)] hover:text-[var(--color-text-primary)]"),children:[x.jsx(Qe,{name:"dashboard",size:20}),x.jsx("span",{children:"Dashboard"})]}),x.jsxs(Be,{to:"/trade",className:"flex items-center gap-2 px-3 py-2 rounded-md transition-colors "+(o("/trade")?"bg-[var(--color-bg-tertiary)] text-[var(--color-text-primary)]":"text-[var(--color-text-secondary)] hover:bg-[var(--color-bg-tertiary)] hover:text-[var(--color-text-primary)]"),children:[x.jsx(Qe,{name:"trade-exchange",size:20}),x.jsx("span",{children:"Trade"})]})]})]}),x.jsxs("div",{className:"flex items-center gap-6",children:[x.jsx("div",{className:"hidden lg:flex items-center gap-4 px-4 py-2 bg-[var(--color-bg-tertiary)] rounded border border-[var(--color-border)]",children:x.jsxs("div",{className:"text-right",children:[x.jsx("div",{className:"text-xs text-[var(--color-text-secondary)]",children:"Total Balance"}),x.jsx("div",{className:"text-sm font-mono font-semibold text-[var(--color-sky-blue)]",children:i.nostr?"$0.00":"â€”"})]})}),x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx(l,{connected:i.nostr,label:"Nostr"}),x.jsx(l,{connected:i.neural,label:"Neural"}),x.jsx(l,{connected:i.exchange,label:"Exchange"})]}),x.jsx(Xe,{})]})]})})}const et=({name:e,size:t=24,className:r=""})=>x.jsx("img",{src:`/akau/icons/akau/icon-${e}.png`,alt:e,width:t,height:t,className:`inline-block ${r}`,style:{imageRendering:"crisp-edges"}});function tt(){const e=le(),{prices:t,isConnected:r}=Le(),s=t=>e.pathname===t,a=({to:e,label:t,iconName:r})=>x.jsxs(Be,{to:e,className:"flex items-center gap-3 px-4 py-3 rounded-md transition-colors "+(s(e)?"bg-[var(--color-bg-tertiary)] text-[var(--color-text-primary)]":"text-[var(--color-text-secondary)] hover:bg-[var(--color-bg-tertiary)] hover:text-[var(--color-text-primary)]"),"aria-current":s(e)?"page":void 0,children:[x.jsx(et,{name:r,size:20}),x.jsx("span",{className:"font-medium",children:t})]});return x.jsxs("aside",{className:"w-64 bg-[var(--color-bg-secondary)] border-r border-[var(--color-border)] p-4 overflow-y-auto",role:"navigation","aria-label":"Sidebar navigation",children:[x.jsxs("nav",{className:"space-y-2 mb-6",children:[x.jsx(a,{to:"/",label:"Dashboard",iconName:"dashboard"}),x.jsx(a,{to:"/trade",label:"Trade",iconName:"trade-exchange"}),x.jsx(a,{to:"/assets",label:"Assets",iconName:"market"})]}),x.jsxs("div",{className:"card mb-4",children:[x.jsxs("div",{className:"flex items-center justify-between mb-3",children:[x.jsxs("h3",{className:"text-sm font-semibold text-[var(--color-text-secondary)] flex items-center gap-2",children:[x.jsx(et,{name:"watchlist",size:16}),"Watchlist"]}),x.jsx("button",{className:"text-xs text-[var(--color-sky-blue)] hover:underline",children:"Edit"})]}),x.jsx("div",{className:"space-y-2",children:[{symbol:"BTC",pair:"BTC-USD"},{symbol:"ETH",pair:"ETH-USD"},{symbol:"RGB",pair:"BTC-RGB"}].map(({symbol:e,pair:r})=>{const s=t[r];return x.jsxs("div",{className:"flex justify-between items-center py-1.5 px-2 bg-[var(--color-bg-tertiary)] rounded hover:bg-[var(--color-bg-primary)] transition-colors cursor-pointer",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-sm font-semibold",children:e}),x.jsx("div",{className:"text-xs text-[var(--color-text-secondary)]",children:"USD"})]}),x.jsx("div",{className:"text-right",children:s?x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"text-sm font-mono",children:["$",s.price.toLocaleString("en-AU",{minimumFractionDigits:0,maximumFractionDigits:0})]}),x.jsxs("div",{className:"text-xs "+(s.change24h>=0?"text-forest-600":"text-terracotta-600"),children:[s.change24h>=0?"+":"",s.change24h.toFixed(1),"%"]})]}):x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-sm font-mono text-[var(--color-text-secondary)]",children:"â€”"}),x.jsx("div",{className:"text-xs text-[var(--color-text-secondary)]",children:"â€”"})]})})]},e)})})]}),x.jsxs("div",{className:"card mb-4",children:[x.jsxs("h3",{className:"text-sm font-semibold mb-3 text-[var(--color-text-secondary)] flex items-center gap-2",children:[x.jsx(et,{name:"portfolio",size:16}),"Portfolio"]}),x.jsxs("div",{className:"space-y-2",children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"text-sm",children:"Total Value"}),x.jsx("span",{className:"font-semibold text-[var(--color-sky-blue)]",children:"â€”"})]}),x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"text-sm",children:"24h Change"}),x.jsx("span",{className:"font-semibold text-[var(--color-text-secondary)]",children:"â€”"})]}),x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"text-sm",children:"Positions"}),x.jsx("span",{className:"font-semibold",children:"0"})]})]})]}),x.jsxs("div",{className:"card mb-4",children:[x.jsxs("h3",{className:"text-sm font-semibold mb-3 text-[var(--color-text-secondary)] flex items-center gap-2",children:[x.jsx(et,{name:"trade-exchange",size:16}),"Quick Trade"]}),x.jsxs("div",{className:"space-y-2",children:[x.jsxs("button",{className:"w-full py-2 bg-[var(--color-success)] hover:bg-[var(--color-success)]/90 text-white rounded text-sm font-semibold transition-colors flex items-center justify-center gap-2",children:[x.jsx(et,{name:"buy",size:16}),"Buy"]}),x.jsxs("button",{className:"w-full py-2 bg-[var(--color-error)] hover:bg-[var(--color-error)]/90 text-white rounded text-sm font-semibold transition-colors flex items-center justify-center gap-2",children:[x.jsx(et,{name:"sell",size:16}),"Sell"]})]})]}),x.jsxs("div",{className:"card",children:[x.jsxs("h3",{className:"text-sm font-semibold mb-3 text-[var(--color-text-secondary)] flex items-center gap-2",children:[x.jsx(et,{name:"neural-brain",size:16}),"Neural Engine"]}),x.jsxs("div",{className:"space-y-2",children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"text-sm",children:"Status"}),x.jsxs("span",{className:"inline-flex items-center gap-1",children:[x.jsx("span",{className:"w-2 h-2 rounded-full bg-[var(--color-text-secondary)]",role:"status","aria-label":"Inactive"}),x.jsx("span",{className:"text-sm text-[var(--color-text-secondary)]",children:"Inactive"})]})]}),x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"text-sm",children:"Signals"}),x.jsx("span",{className:"font-semibold",children:"0"})]}),x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"text-sm",children:"Accuracy"}),x.jsx("span",{className:"font-semibold text-[var(--color-text-secondary)]",children:"â€”"})]})]})]}),x.jsxs("div",{className:"mt-6 p-3 bg-[var(--color-bg-tertiary)] rounded-md text-xs text-[var(--color-text-secondary)]",children:[x.jsx("p",{className:"mb-2",children:x.jsx("strong",{className:"text-gradient-teal",children:"AKAU Global"})}),x.jsx("p",{children:"Neural-powered trading with environmental tokens and community focus"})]})]})}const rt=({name:e,size:t=24,className:r=""})=>x.jsx("img",{src:`/akau/icons/akau/icon-${e}.png`,alt:e,width:t,height:t,className:`inline-block ${r}`,style:{imageRendering:"crisp-edges"}}),st=()=>{const t=e.useRef(null);return e.useEffect(()=>{const e=t.current;if(!e)return;const r=e.getContext("2d");if(!r)return;const s=e.width,a=e.height,n=120,i=(e,t,r)=>{const s=[r];for(let i=1;i<n;i++){const r=(Math.random()-.42)*e-t;s.push(Math.max(38,Math.min(a-15,s[i-1]+r)))}return s},o=i(9,.35,.75*a),l=i(7,.28,.65*a),c=i(8,.32,.55*a);r.clearRect(0,0,s,a),r.strokeStyle="rgba(77, 184, 206, 0.08)",r.lineWidth=1;for(let t=48;t<a;t+=40)r.beginPath(),r.moveTo(0,t),r.lineTo(s,t),r.stroke();const d=(e,t)=>{const n=r.createLinearGradient(0,0,0,a);n.addColorStop(0,t.replace(")",", 0.15)").replace("rgb","rgba")),n.addColorStop(1,"transparent"),r.beginPath(),r.moveTo(0,e[0]);for(let a=1;a<e.length;a++){const t=a/119*s;r.lineTo(t,e[a])}r.lineTo(s,a),r.lineTo(0,a),r.closePath(),r.fillStyle=n,r.fill()},h=(e,t)=>{r.shadowColor=t,r.shadowBlur=12,r.beginPath(),r.strokeStyle=t,r.lineWidth=2.5,r.lineCap="round",r.lineJoin="round";for(let i=0;i<e.length;i++){const t=i/119*s,a=e[i];0===i?r.moveTo(t,a):r.lineTo(t,a)}r.stroke(),r.shadowBlur=0;const a=1*s,n=e[e.length-1];r.beginPath(),r.arc(a-2,n,4,0,2*Math.PI),r.fillStyle=t,r.fill(),r.beginPath(),r.arc(a-2,n,6,0,2*Math.PI),r.strokeStyle=t,r.lineWidth=1.5,r.stroke()};d(o,"rgb(109, 196, 217)"),d(l,"rgb(141, 216, 232)"),d(c,"rgb(77, 184, 206)"),h(o,"#6DC4D9"),h(l,"#8DD8E8"),h(c,"#4DB8CE")},[]),x.jsxs("div",{className:"relative",children:[x.jsxs("div",{className:"flex items-center justify-center gap-4 mb-2 text-xs",children:[x.jsxs("span",{className:"flex items-center gap-1.5",children:[x.jsx("span",{className:"w-3 h-0.5 rounded bg-[#6DC4D9]"}),x.jsx("span",{className:"text-[#6DC4D9]",children:"credit"})]}),x.jsxs("span",{className:"flex items-center gap-1.5",children:[x.jsx("span",{className:"w-3 h-0.5 rounded bg-[#8DD8E8]"}),x.jsx("span",{className:"text-[#8DD8E8]",children:"company"})]}),x.jsxs("span",{className:"flex items-center gap-1.5",children:[x.jsx("span",{className:"w-3 h-0.5 rounded bg-[#4DB8CE]"}),x.jsx("span",{className:"text-[#4DB8CE]",children:"community"})]})]}),x.jsx("canvas",{ref:t,width:400,height:160,className:"w-full h-40"})]})};function at(){const{prices:e,positions:t,isConnected:r}=Le(),s=t.reduce((e,t)=>e+t.currentPrice*t.size,0),a=t.reduce((e,t)=>e+t.pnl,0),n=s>0?a/s*100:0,i=t.length;return x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("h1",{className:"text-3xl font-bold text-gradient-teal",children:"Dashboard"}),x.jsx("div",{className:"text-sm text-muted-foreground",children:(new Date).toLocaleDateString("en-AU",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 tile-stagger",children:[x.jsxs("div",{className:"card-glass tile-pop-in hover:border-[var(--color-sky-blue)]/50 transition-colors",children:[x.jsxs("div",{className:"flex items-start justify-between mb-2",children:[x.jsx("h3",{className:"text-sm font-semibold text-[var(--color-text-secondary)]",children:"Portfolio Value"}),x.jsx(rt,{name:"portfolio",size:24})]}),r?x.jsxs(x.Fragment,{children:[x.jsxs("p",{className:"text-3xl font-bold text-[var(--color-sky-blue)] mb-1",children:["$",s.toLocaleString("en-AU",{minimumFractionDigits:2})]}),x.jsx("p",{className:"text-sm text-[var(--color-text-secondary)]",children:"AUD"})]}):x.jsxs(x.Fragment,{children:[x.jsx("p",{className:"text-3xl font-bold text-[var(--color-text-secondary)] mb-1",children:"â€”"}),x.jsx("p",{className:"text-sm text-[var(--color-text-secondary)]",children:"Connect to view"})]})]}),x.jsxs("div",{className:"card-glass tile-pop-in hover:border-[var(--color-sky-blue)]/50 transition-colors",children:[x.jsxs("div",{className:"flex items-start justify-between mb-2",children:[x.jsx("h3",{className:"text-sm font-semibold text-[var(--color-text-secondary)]",children:"24h P&L"}),x.jsx(rt,{name:"chart-line",size:24})]}),r?x.jsxs(x.Fragment,{children:[x.jsxs("p",{className:"text-3xl font-bold mb-1 "+(a>=0?"text-[var(--color-success)]":"text-[var(--color-error)]"),children:[a>=0?"+":"","$",Math.abs(a).toLocaleString("en-AU",{minimumFractionDigits:2})]}),x.jsxs("p",{className:"text-sm "+(n>=0?"text-[var(--color-success)]":"text-[var(--color-error)]"),children:[n>=0?"+":"",n.toFixed(2),"%"]})]}):x.jsxs(x.Fragment,{children:[x.jsx("p",{className:"text-3xl font-bold text-[var(--color-text-secondary)] mb-1",children:"â€”"}),x.jsx("p",{className:"text-sm text-[var(--color-text-secondary)]",children:"Connect to view"})]})]}),x.jsxs("div",{className:"card-glass tile-pop-in hover:border-[var(--color-sky-blue)]/50 transition-colors",children:[x.jsxs("div",{className:"flex items-start justify-between mb-2",children:[x.jsx("h3",{className:"text-sm font-semibold text-[var(--color-text-secondary)]",children:"Active Positions"}),x.jsx(rt,{name:"order-book-spread",size:24})]}),x.jsx("p",{className:"text-3xl font-bold mb-1",children:i}),x.jsx("p",{className:"text-sm text-[var(--color-text-secondary)]",children:0===i?"No open positions":"positions open"})]}),x.jsxs("div",{className:"card-glass tile-pop-in hover:border-[var(--color-sky-blue)]/50 transition-colors",children:[x.jsxs("div",{className:"flex items-start justify-between mb-2",children:[x.jsx("h3",{className:"text-sm font-semibold text-[var(--color-text-secondary)]",children:"Neural Signals"}),x.jsx(rt,{name:"price-alert",size:24})]}),x.jsx("p",{className:"text-3xl font-bold mb-1",children:0}),x.jsx("p",{className:"text-sm text-[var(--color-text-secondary)]",children:"Engine inactive"})]})]}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 tile-stagger",children:[x.jsxs("div",{className:"card tile-pop-in section-fade-in section-delay-1",children:[x.jsxs("div",{className:"flex items-center justify-between mb-4",children:[x.jsx("h2",{className:"text-xl font-semibold",children:"Market Overview"}),x.jsx("button",{className:"text-sm text-[var(--color-sky-blue)] hover:underline",children:"View All"})]}),x.jsx("div",{className:"space-y-3",children:[{symbol:"BTC-USD",display:"BTC/USD"},{symbol:"ETH-USD",display:"ETH/USD"},{symbol:"BTC-RGB",display:"BTC/RGB"}].map(({symbol:t,display:r})=>{const s=e[t];return x.jsxs("div",{className:"group flex items-center justify-between p-3 bg-[var(--color-bg-tertiary)]/80 rounded-lg hover:bg-[var(--color-bg-tertiary)] transition-all duration-200 cursor-pointer border border-transparent hover:border-[var(--akau-teal-600)]/30 hover:shadow-md hover:shadow-[var(--akau-teal-500)]/5",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-[var(--akau-teal-500)] to-[var(--akau-cyan-500)] rounded-full flex items-center justify-center text-sm font-bold text-white shadow-sm group-hover:shadow-md group-hover:shadow-[var(--akau-teal-500)]/30 transition-shadow",children:r.split("/")[0].slice(0,1)}),x.jsxs("div",{children:[x.jsx("div",{className:"font-semibold",children:r}),x.jsx("div",{className:"text-xs text-[var(--color-text-secondary)]",children:"Spot"})]})]}),x.jsx("div",{className:"text-right",children:s?x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"font-mono font-semibold",children:["$",s.price.toLocaleString("en-AU",{minimumFractionDigits:2,maximumFractionDigits:2})]}),x.jsxs("div",{className:"text-xs "+(s.change24h>=0?"text-forest-600":"text-terracotta-600"),children:[s.change24h>=0?"+":"",s.change24h.toFixed(2),"%"]})]}):x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"font-mono font-semibold text-[var(--color-text-secondary)]",children:"Loading..."}),x.jsx("div",{className:"text-xs text-[var(--color-text-secondary)]",children:"Connecting"})]})})]},t)})})]}),x.jsxs("div",{className:"card tile-pop-in section-fade-in section-delay-2",children:[x.jsxs("div",{className:"flex items-center justify-between mb-4",children:[x.jsxs("h2",{className:"text-xl font-semibold flex items-center gap-2",children:[x.jsx(rt,{name:"price-alert",size:24}),x.jsx("span",{children:"Neural Alerts"})]}),x.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-[var(--color-bg-tertiary)] rounded text-xs",children:[x.jsx("span",{className:"w-2 h-2 rounded-full bg-[var(--color-text-secondary)]"}),x.jsx("span",{children:"Inactive"})]})]}),x.jsx("div",{className:"h-64 flex items-center justify-center text-[var(--color-text-secondary)]",children:x.jsxs("div",{className:"text-center",children:[x.jsx(rt,{name:"neural-brain",size:48,className:"mb-3 opacity-50"}),x.jsx("p",{className:"font-semibold mb-2",children:"Neural Engine Offline"}),x.jsx("p",{className:"text-sm mb-4",children:"Activate to receive AI-powered trading signals"}),x.jsx("button",{className:"btn-secondary text-sm",children:"Activate Neural Engine"})]})})]})]}),x.jsxs("div",{className:"card section-fade-in section-delay-2",children:[x.jsxs("div",{className:"flex items-center justify-between mb-4",children:[x.jsx("h2",{className:"text-xl font-semibold",children:"Recent Trades"}),x.jsx("button",{className:"text-sm text-[var(--color-sky-blue)] hover:underline",children:"View All"})]}),x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full text-sm",children:[x.jsx("thead",{className:"bg-[var(--color-bg-tertiary)] border-b border-[var(--color-border)]",children:x.jsxs("tr",{children:[x.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Time"}),x.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Symbol"}),x.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Type"}),x.jsx("th",{className:"px-4 py-3 text-right font-semibold",children:"Price"}),x.jsx("th",{className:"px-4 py-3 text-right font-semibold",children:"Amount"}),x.jsx("th",{className:"px-4 py-3 text-right font-semibold",children:"Total"}),x.jsx("th",{className:"px-4 py-3 text-right font-semibold",children:"Status"})]})}),x.jsx("tbody",{children:x.jsx("tr",{children:x.jsx("td",{colSpan:7,className:"px-4 py-8 text-center text-[var(--color-text-secondary)]",children:"No recent trades"})})})]})})]}),x.jsxs("div",{className:"card section-fade-in section-delay-3",children:[x.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[x.jsx(rt,{name:"asset-lic",size:24}),x.jsx("span",{children:"Environmental Tokens"})]}),x.jsxs("div",{className:"text-[var(--color-text-secondary)]",children:[x.jsx("p",{className:"mb-4",children:"Support environmental and Indigenous community initiatives through tokenized carbon credits and regenerative projects."}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.jsxs("div",{className:"group p-4 bg-gradient-to-br from-[var(--color-bg-tertiary)]/60 to-[var(--color-bg-tertiary)]/30 backdrop-blur-sm rounded-lg hover:from-[var(--akau-teal-600)]/20 hover:to-transparent transition-all duration-300 cursor-pointer border border-[var(--color-border)]/30 hover:border-[var(--akau-teal-500)]/50 hover:shadow-lg hover:shadow-[var(--akau-teal-500)]/10",children:[x.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[x.jsx(rt,{name:"asset-carbon",size:20,className:"opacity-70 group-hover:opacity-100 transition-opacity"}),x.jsx("h3",{className:"font-semibold text-[var(--akau-teal-300)] group-hover:text-[var(--akau-teal-200)] transition-colors",children:"Carbon Credits"})]}),x.jsx("p",{className:"text-sm mb-3 opacity-80",children:"Blue carbon offset tokens"}),x.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-[var(--color-border)]/20",children:[x.jsx("span",{className:"text-xs opacity-60",children:"Balance:"}),x.jsx("span",{className:"font-mono text-[var(--akau-cyan-400)]",children:"0 CCT"})]})]}),x.jsxs("div",{className:"p-4 bg-gradient-to-br from-[var(--color-bg-tertiary)]/60 to-[var(--color-bg-tertiary)]/30 backdrop-blur-sm rounded-lg border border-[var(--color-border)]/30",children:[x.jsx("h3",{className:"font-semibold mb-1 text-[var(--akau-teal-400)]",children:"Credit Growth"}),x.jsx(st,{})]})]})]})]}),x.jsxs("div",{className:"card-glass border-primary/30",children:[x.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2 text-gradient-teal",children:[x.jsx(rt,{name:"help",size:28}),x.jsx("span",{children:"About AKAU Global"})]}),x.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"An Environmental Carbon Exchange, where we lead the way in transforming the blue carbon credit market. Join us in creating sustainable solutions for a greener future."}),x.jsxs("div",{className:"flex flex-wrap gap-2",children:[x.jsx("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-primary/10 text-primary text-xs border border-primary/30 hover:bg-primary/20 hover:border-primary/50 transition-colors cursor-default",children:"Neural Trading"}),x.jsx("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-bullish/10 text-bullish text-xs border border-bullish/30 hover:bg-bullish/20 hover:border-bullish/50 transition-colors cursor-default",children:"Environmental Tokens"}),x.jsx("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-accent/10 text-accent text-xs border border-accent/30 hover:bg-accent/20 hover:border-accent/50 transition-colors cursor-default",children:"RGB Protocol"}),x.jsx("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-secondary/30 text-secondary-foreground text-xs border border-secondary hover:bg-secondary/50 transition-colors cursor-default",children:"Nostr Auth"})]})]}),x.jsxs("div",{className:"card-glass border-primary/30",children:[x.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2 text-gradient-teal",children:[x.jsx(rt,{name:"neural-brain",size:28}),x.jsx("span",{children:"Platform Features"})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[x.jsxs("div",{className:"group p-3 bg-gradient-to-br from-primary/15 to-primary/5 rounded-lg border border-primary/30 hover:border-primary/50 transition-all duration-200 hover:shadow-lg hover:shadow-primary/10 cursor-pointer",children:[x.jsx("div",{className:"text-2xl font-bold text-primary group-hover:scale-105 transition-transform origin-left",children:"AI"}),x.jsx("div",{className:"text-xs text-muted-foreground",children:"Neural Trading Signals"})]}),x.jsxs("div",{className:"group p-3 bg-gradient-to-br from-bullish/15 to-bullish/5 rounded-lg border border-bullish/30 hover:border-bullish/50 transition-all duration-200 hover:shadow-lg hover:shadow-bullish/10 cursor-pointer",children:[x.jsx("div",{className:"text-2xl font-bold text-bullish group-hover:scale-105 transition-transform origin-left",children:"RGB"}),x.jsx("div",{className:"text-xs text-muted-foreground",children:"Smart Assets Protocol"})]}),x.jsxs("div",{className:"group p-3 bg-gradient-to-br from-accent/15 to-accent/5 rounded-lg border border-accent/30 hover:border-accent/50 transition-all duration-200 hover:shadow-lg hover:shadow-accent/10 cursor-pointer",children:[x.jsx("div",{className:"text-2xl font-bold text-accent group-hover:scale-105 transition-transform origin-left",children:"WASM"}),x.jsx("div",{className:"text-xs text-muted-foreground",children:"High-performance Engine"})]})]})]})]})}class nt{priceStates=new Map;baseVolatility=.02;basePrices={"BTC-RGB":45e3,"ETH-RGB":2500,"CARBON-RGB":10,"ENV-TOKEN":5};constructor(){Object.entries(this.basePrices).forEach(([e,t])=>{this.priceStates.set(e,{currentPrice:t,trend:0,volatility:this.baseVolatility,volume:this.getBaseVolume(e)})})}getBaseVolume(e){return{"BTC-RGB":100,"ETH-RGB":500,"CARBON-RGB":1e4,"ENV-TOKEN":5e3}[e]||1e3}generatePriceTick(e){const t=this.priceStates.get(e);if(!t)return this.basePrices[e]||100;const r=1/86400,s=t.trend*r,a=this.gaussianRandom()*t.volatility*Math.sqrt(r),n=t.currentPrice*(s+a);t.currentPrice+=n,t.currentPrice=Math.max(t.currentPrice,.5*this.basePrices[e]),t.currentPrice=Math.min(t.currentPrice,2*this.basePrices[e]),t.trend*=.999,Math.random()<.01&&(t.trend=.5*(Math.random()-.5));const i=1+10*Math.abs(n/t.currentPrice);return t.volume=this.getBaseVolume(e)*i*(.5+Math.random()),t.currentPrice}generateCandlestick(e,t=6e4){const r=this.priceStates.get(e);if(!r)return{timestamp:Date.now(),open:100,high:105,low:95,close:100,volume:1e3};const s=r.currentPrice;let a=s,n=s,i=0;const o=Math.floor(t/1e3);for(let c=0;c<o;c++){const t=this.generatePriceTick(e);a=Math.max(a,t),n=Math.min(n,t),i+=r.volume}const l=r.currentPrice;return{timestamp:Date.now(),open:s,high:a,low:n,close:l,volume:i/o}}generateHistoricalData(e,t,r=6e4){const s=[],a=Date.now();for(let n=t-1;n>=0;n--){const t=a-n*r,i=this.generateCandlestick(e,r);i.timestamp=t,s.push(i)}return s}gaussianRandom(){let e=0,t=0;for(;0===e;)e=Math.random();for(;0===t;)t=Math.random();return Math.sqrt(-2*Math.log(e))*Math.cos(2*Math.PI*t)}generateNewsEvent(){if(Math.random()>.01)return null;const e=[{title:"Major Carbon Credit Partnership Announced",sentiment:"positive",affectedPairs:["CARBON-RGB","ENV-TOKEN"]},{title:"Environmental Token Adoption Surges",sentiment:"positive",affectedPairs:["ENV-TOKEN"]},{title:"Regulatory Concerns Over Digital Assets",sentiment:"negative",affectedPairs:["BTC-RGB","ETH-RGB"]},{title:"Bitcoin Network Upgrade Completed",sentiment:"positive",affectedPairs:["BTC-RGB"]},{title:"Ethereum Staking Reaches New Milestone",sentiment:"positive",affectedPairs:["ETH-RGB"]},{title:"Market Volatility Increases Amid Economic Data",sentiment:"negative",affectedPairs:["BTC-RGB","ETH-RGB","CARBON-RGB","ENV-TOKEN"]}],t=e[Math.floor(Math.random()*e.length)],r=Math.random()<.2?"high":Math.random()<.5?"medium":"low";return t.affectedPairs.forEach(e=>{const s=this.priceStates.get(e);if(s){const e="high"===r?2:"medium"===r?1.5:1,a="positive"===t.sentiment?1:-1;s.trend+=.3*Math.random()*a*e,s.volatility=this.baseVolatility*(1+.5*e)}}),{id:Math.random().toString(36).substr(2,9),timestamp:Date.now(),title:t.title,impact:r,sentiment:t.sentiment,affectedPairs:t.affectedPairs}}getCurrentPrice(e){return this.priceStates.get(e)?.currentPrice||this.basePrices[e]||100}getSpread(e){return .001+.004*Math.random()}}class it{dataGenerator;priceSubscribers=new Map;orderBookSubscribers=new Map;tradeSubscribers=new Map;candleSubscribers=new Map;newsSubscribers=new Set;snapshotSubscribers=new Map;intervals=[];tradeHistory=new Map;candleHistory=new Map;pairs=["BTC-RGB","ETH-RGB","CARBON-RGB","ENV-TOKEN"];constructor(){this.dataGenerator=new nt,this.initializeHistoricalData(),this.start()}initializeHistoricalData(){this.pairs.forEach(e=>{const t=this.dataGenerator.generateHistoricalData(e,100,6e4);this.candleHistory.set(e,t),this.tradeHistory.set(e,[])})}start(){const e=setInterval(()=>{this.pairs.forEach(e=>{const t=this.dataGenerator.generatePriceTick(e);this.broadcastPrice(e,t),this.updateSnapshot(e,t),Math.random()<.3&&this.generateTrade(e,t)})},1e3),t=setInterval(()=>{this.pairs.forEach(e=>{const t=this.generateOrderBook(e);this.broadcastOrderBook(e,t)})},500),r=setInterval(()=>{this.pairs.forEach(e=>{const t=this.dataGenerator.generateCandlestick(e,6e4),r=this.candleHistory.get(e)||[];r.push(t),r.length>100&&r.shift(),this.candleHistory.set(e,r),this.broadcastCandle(e,t)})},6e4),s=setInterval(()=>{const e=this.dataGenerator.generateNewsEvent();e&&this.broadcastNews(e)},5e3);this.intervals.push(e,t,r,s)}stop(){this.intervals.forEach(e=>clearInterval(e)),this.intervals=[]}generateOrderBook(e){const t=this.dataGenerator.getCurrentPrice(e),r=this.dataGenerator.getSpread(e),s=t*(1-r/2),a=t*(1+r/2),n=[],i=[];for(let o=0;o<10;o++){const e=s*(1-.001*o),t=a*(1+.001*o),r=1+5*Math.random(),l=r*(1+.2*o),c=r*(1+.2*o);n.push({price:parseFloat(e.toFixed(2)),quantity:parseFloat(l.toFixed(4)),total:parseFloat((e*l).toFixed(2))}),i.push({price:parseFloat(t.toFixed(2)),quantity:parseFloat(c.toFixed(4)),total:parseFloat((t*c).toFixed(2))})}return{bids:n,asks:i,timestamp:Date.now()}}generateTrade(e,t){const r={id:Math.random().toString(36).substr(2,9),timestamp:Date.now(),price:parseFloat(t.toFixed(2)),quantity:parseFloat((2*Math.random()+.1).toFixed(4)),side:Math.random()>.5?"buy":"sell"},s=this.tradeHistory.get(e)||[];s.push(r),s.length>100&&s.shift(),this.tradeHistory.set(e,s),this.broadcastTrade(e,r)}updateSnapshot(e,t){const r=this.candleHistory.get(e)||[];if(0===r.length)return;const s=r.slice(-1440),a=s[0]?.open||t,n=Math.max(...s.map(e=>e.high),t),i=Math.min(...s.map(e=>e.low),t),o={pair:e,price:t,change24h:(t-a)/a*100,volume24h:s.reduce((e,t)=>e+t.volume,0),high24h:n,low24h:i,timestamp:Date.now()};this.broadcastSnapshot(e,o)}subscribePrice(e,t){return this.priceSubscribers.has(e)||this.priceSubscribers.set(e,new Set),this.priceSubscribers.get(e).add(t),t(this.dataGenerator.getCurrentPrice(e)),()=>{this.priceSubscribers.get(e)?.delete(t)}}subscribeOrderBook(e,t){return this.orderBookSubscribers.has(e)||this.orderBookSubscribers.set(e,new Set),this.orderBookSubscribers.get(e).add(t),t(this.generateOrderBook(e)),()=>{this.orderBookSubscribers.get(e)?.delete(t)}}subscribeTrades(e,t){return this.tradeSubscribers.has(e)||this.tradeSubscribers.set(e,new Set),this.tradeSubscribers.get(e).add(t),()=>{this.tradeSubscribers.get(e)?.delete(t)}}subscribeCandles(e,t){return this.candleSubscribers.has(e)||this.candleSubscribers.set(e,new Set),this.candleSubscribers.get(e).add(t),()=>{this.candleSubscribers.get(e)?.delete(t)}}subscribeNews(e){return this.newsSubscribers.add(e),()=>{this.newsSubscribers.delete(e)}}subscribeSnapshot(e,t){return this.snapshotSubscribers.has(e)||this.snapshotSubscribers.set(e,new Set),this.snapshotSubscribers.get(e).add(t),()=>{this.snapshotSubscribers.get(e)?.delete(t)}}broadcastPrice(e,t){this.priceSubscribers.get(e)?.forEach(e=>e(t))}broadcastOrderBook(e,t){this.orderBookSubscribers.get(e)?.forEach(e=>e(t))}broadcastTrade(e,t){this.tradeSubscribers.get(e)?.forEach(e=>e(t))}broadcastCandle(e,t){this.candleSubscribers.get(e)?.forEach(e=>e(t))}broadcastNews(e){this.newsSubscribers.forEach(t=>t(e))}broadcastSnapshot(e,t){this.snapshotSubscribers.get(e)?.forEach(e=>e(t))}getTradeHistory(e){return this.tradeHistory.get(e)||[]}getCandleHistory(e){return this.candleHistory.get(e)||[]}getCurrentPrice(e){return this.dataGenerator.getCurrentPrice(e)}}let ot=null;const lt=(ot||(ot=new it),ot);function ct({symbol:t,timeframe:r}){const s=e.useRef(null),a=t.replace("/","-").replace("-USD","-RGB"),n=function(t){const[r,s]=e.useState([]);return e.useEffect(()=>{const e=lt.getCandleHistory(t);return s(e),lt.subscribeCandles(t,e=>{s(t=>[...t,e])})},[t]),r}(a);!function(t){const[r,s]=e.useState(0);e.useEffect(()=>lt.subscribePrice(t,s),[t])}(a);const[i,o]=e.useState({width:0,height:0}),l=n.map(e=>({time:e.timestamp,open:e.open,high:e.high,low:e.low,close:e.close,volume:e.volume}));return e.useEffect(()=>{const e=s.current?.parentElement;if(!e)return;const t=()=>{o({width:e.clientWidth,height:e.clientHeight})},r=new ResizeObserver(t);return r.observe(e),t(),()=>r.disconnect()},[]),e.useEffect(()=>{const e=s.current;if(!e||0===l.length)return;const t=e.getContext("2d");if(!t)return;const r=window.devicePixelRatio||1;e.width=i.width*r,e.height=i.height*r,t.scale(r,r),t.clearRect(0,0,i.width,i.height);const a=.8*i.height,n=.2*i.height,o=60,c=80,d=20,h=40,m=l.flatMap(e=>[e.high,e.low]),u=Math.max(...m),x=Math.min(...m),p=u-x,b=Math.max(2,(i.width-o-c)/l.length-2);t.strokeStyle="rgba(0, 0, 0, 0.08)",t.lineWidth=1;for(let s=0;s<=5;s++){const e=d+s/5*(a-d-h);t.beginPath(),t.moveTo(o,e),t.lineTo(i.width-c,e),t.stroke()}l.forEach((e,r)=>{const s=o+r*(b+2),n=e.close>=e.open,i=d+(u-e.high)/p*(a-d-h),l=d+(u-e.low)/p*(a-d-h),c=d+(u-e.open)/p*(a-d-h),m=d+(u-e.close)/p*(a-d-h);t.strokeStyle=n?"rgba(34, 197, 94, 0.8)":"rgba(239, 68, 68, 0.8)",t.lineWidth=1,t.beginPath(),t.moveTo(s+b/2,i),t.lineTo(s+b/2,l),t.stroke(),t.fillStyle=n?"rgba(34, 197, 94, 0.9)":"rgba(239, 68, 68, 0.9)";const x=Math.min(c,m),g=Math.abs(m-c);t.fillRect(s,x,b,Math.max(1,g))}),t.fillStyle="rgba(0, 0, 0, 0.6)",t.font="11px monospace",t.textAlign="left";for(let s=0;s<=5;s++){const e=u-p*s/5,r=d+s/5*(a-d-h);t.fillText(e.toFixed(2),i.width-c+10,r+4)}const g=Math.max(...l.map(e=>e.volume));l.forEach((e,r)=>{const s=o+r*(b+2),i=e.volume/g*(n-10),l=a+n-i;t.fillStyle=e.close>=e.open?"rgba(34, 197, 94, 0.4)":"rgba(239, 68, 68, 0.4)",t.fillRect(s,l,b,i)})},[l,i]),x.jsxs("div",{className:"w-full h-full bg-[var(--color-bg-tertiary)] rounded relative",children:[x.jsx("canvas",{ref:s,style:{width:i.width,height:i.height},className:"block"}),0===l.length&&x.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-[var(--color-text-secondary)]",children:x.jsxs("div",{className:"text-center",children:[x.jsx("p",{className:"text-lg mb-2",children:"\uD83D\uDCCA"}),x.jsx("p",{children:"Waiting for market data..."}),x.jsxs("p",{className:"text-sm mt-1",children:[t," â€¢ ",r]})]})})]})}function dt({symbol:t,onPriceClick:r}){const[s,a]=e.useState([]),[n,i]=e.useState([]),[o,l]=e.useState(0);e.useEffect(()=>{},[t]);const c=Math.max(...s.map(e=>e.total),...n.map(e=>e.total)),d=({entry:e,isBid:t})=>{const s=e.total/c*100;return x.jsxs("div",{className:"relative flex justify-between items-center py-1 px-2 text-xs font-mono cursor-pointer hover:bg-[var(--color-bg-primary)]/50 transition-colors",onClick:()=>r?.(e.price),children:[x.jsx("div",{className:"absolute inset-0 opacity-20",style:{background:t?`linear-gradient(to right, transparent ${100-s}%, var(--color-success) ${100-s}%)`:`linear-gradient(to left, transparent ${100-s}%, var(--color-error) ${100-s}%)`}}),x.jsx("span",{className:t?"text-[var(--color-success)] z-10":"text-[var(--color-error)] z-10",children:e.price.toFixed(2)}),x.jsx("span",{className:"text-[var(--color-text-secondary)] z-10",children:e.amount.toFixed(4)}),x.jsx("span",{className:"text-[var(--color-text-secondary)] z-10",children:e.total.toFixed(2)})]})};return x.jsxs("div",{className:"flex flex-col h-full",children:[x.jsxs("div",{className:"flex justify-between items-center px-2 py-2 text-xs font-mono text-[var(--color-text-secondary)] border-b border-[var(--color-border)]",children:[x.jsx("span",{children:"Price"}),x.jsx("span",{children:"Amount"}),x.jsx("span",{children:"Total"})]}),x.jsx("div",{className:"flex-1 overflow-y-auto scrollbar-thin",children:n.length>0?x.jsx("div",{className:"flex flex-col-reverse",children:n.slice(0,15).map((e,t)=>x.jsx(d,{entry:e,isBid:!1},`ask-${t}`))}):x.jsx("div",{className:"flex items-center justify-center h-full text-[var(--color-text-secondary)] text-sm",children:"No asks"})}),x.jsx("div",{className:"px-2 py-3 bg-[var(--color-bg-secondary)] border-y border-[var(--color-border)]",children:x.jsxs("div",{className:"flex justify-between items-center text-xs font-mono",children:[x.jsx("span",{className:"text-[var(--color-text-secondary)]",children:"Spread"}),o>0?x.jsxs(x.Fragment,{children:[x.jsx("span",{className:"font-semibold",children:o.toFixed(2)}),x.jsxs("span",{className:"text-[var(--color-text-secondary)]",children:["(",(o/((s[0]?.price||0)+(n[0]?.price||0))/2*100).toFixed(2),"%)"]})]}):x.jsx("span",{className:"text-[var(--color-text-secondary)]",children:"â€”"})]})}),x.jsx("div",{className:"flex-1 overflow-y-auto scrollbar-thin",children:s.length>0?s.slice(0,15).map((e,t)=>x.jsx(d,{entry:e,isBid:!0},`bid-${t}`)):x.jsx("div",{className:"flex items-center justify-center h-full text-[var(--color-text-secondary)] text-sm",children:"No bids"})})]})}function ht({symbol:t,side:r,onSideChange:s,initialPrice:a,balance:n=0,disabled:i=!1}){const[o,l]=e.useState("limit"),[c,d]=e.useState(a?.toString()||""),[h,m]=e.useState(""),[u,p]=e.useState("0.00"),b=(e,t)=>{const r=parseFloat(e)||0,s=parseFloat(t)||0;p((r*s).toFixed(2))},g=e=>{m(e),b(e,c)};return x.jsxs("form",{onSubmit:e=>{e.preventDefault(),i||console.log("Order submitted:",{symbol:t,side:r,orderType:o,price:"limit"===o?c:"market",amount:h,total:u})},className:"space-y-4",children:[x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsx("button",{type:"button",onClick:()=>s("buy"),className:"py-2.5 rounded font-semibold transition-colors "+("buy"===r?"bg-[var(--color-success)] text-white":"bg-[var(--color-bg-tertiary)] text-[var(--color-text-secondary)] hover:bg-[var(--color-success)]/20"),children:"Buy"}),x.jsx("button",{type:"button",onClick:()=>s("sell"),className:"py-2.5 rounded font-semibold transition-colors "+("sell"===r?"bg-[var(--color-error)] text-white":"bg-[var(--color-bg-tertiary)] text-[var(--color-text-secondary)] hover:bg-[var(--color-error)]/20"),children:"Sell"})]}),x.jsxs("div",{className:"flex gap-2 border-b border-[var(--color-border)]",children:[x.jsx("button",{type:"button",onClick:()=>l("limit"),className:"pb-2 px-1 text-sm font-medium transition-colors "+("limit"===o?"text-[var(--color-text-primary)] border-b-2 border-[var(--color-sky-blue)]":"text-[var(--color-text-secondary)] hover:text-[var(--color-text-primary)]"),children:"Limit"}),x.jsx("button",{type:"button",onClick:()=>l("market"),className:"pb-2 px-1 text-sm font-medium transition-colors "+("market"===o?"text-[var(--color-text-primary)] border-b-2 border-[var(--color-sky-blue)]":"text-[var(--color-text-secondary)] hover:text-[var(--color-text-primary)]"),children:"Market"})]}),"limit"===o&&x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium mb-2",children:"Price"}),x.jsxs("div",{className:"relative",children:[x.jsx("input",{type:"number",step:"0.01",value:c,onChange:e=>{return t=e.target.value,d(t),void b(h,t);var t},placeholder:"0.00",disabled:i,className:"w-full px-3 py-2 bg-[var(--color-bg-tertiary)] border border-[var(--color-border)] rounded focus:outline-none focus:border-[var(--color-sky-blue)] font-mono"}),x.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-sm text-[var(--color-text-secondary)]",children:"USD"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium mb-2",children:"Amount"}),x.jsxs("div",{className:"relative",children:[x.jsx("input",{type:"number",step:"0.0001",value:h,onChange:e=>g(e.target.value),placeholder:"0.0000",disabled:i,className:"w-full px-3 py-2 bg-[var(--color-bg-tertiary)] border border-[var(--color-border)] rounded focus:outline-none focus:border-[var(--color-sky-blue)] font-mono"}),x.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-sm text-[var(--color-text-secondary)]",children:t.split("/")[0]})]}),x.jsx("div",{className:"flex gap-2 mt-2",children:[25,50,75,100].map(e=>x.jsxs("button",{type:"button",onClick:()=>(e=>{if(!n)return;const t=(n*e/100).toString();g(t)})(e),disabled:i||!n,className:"flex-1 py-1 text-xs bg-[var(--color-bg-tertiary)] border border-[var(--color-border)] rounded hover:bg-[var(--color-bg-primary)] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[e,"%"]},e))})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium mb-2",children:"Total"}),x.jsxs("div",{className:"relative",children:[x.jsx("input",{type:"text",value:u,readOnly:!0,className:"w-full px-3 py-2 bg-[var(--color-bg-secondary)] border border-[var(--color-border)] rounded font-mono text-[var(--color-text-secondary)]"}),x.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-sm text-[var(--color-text-secondary)]",children:"USD"})]})]}),x.jsxs("div",{className:"flex justify-between text-sm",children:[x.jsx("span",{className:"text-[var(--color-text-secondary)]",children:"Available"}),x.jsxs("span",{className:"font-mono",children:[n.toFixed(4)," ","buy"===r?"USD":t.split("/")[0]]})]}),x.jsx("button",{type:"submit",disabled:i||!h||"limit"===o&&!c,className:"w-full py-3 rounded font-semibold transition-colors disabled:opacity-50 disabled:cursor-not-allowed "+("buy"===r?"bg-[var(--color-success)] hover:bg-[var(--color-success)]/90 text-white":"bg-[var(--color-error)] hover:bg-[var(--color-error)]/90 text-white"),children:i?"Connect to Trade":`${"buy"===r?"Buy":"Sell"} ${t.split("/")[0]}`}),i&&x.jsx("p",{className:"text-xs text-[var(--color-text-secondary)] text-center",children:"Connect your Nostr identity to begin trading"})]})}function mt({positions:t=[],onClosePosition:r,onSetStopLoss:s,onSetTakeProfit:a}){const[n,i]=e.useState(null),[o,l]=e.useState(null),[c,d]=e.useState(null),[h,m]=e.useState(""),[u,p]=e.useState("");return 0===t.length?x.jsxs("div",{className:"text-center py-12 text-[var(--color-text-secondary)]",children:[x.jsx("p",{className:"text-lg mb-2",children:"No open positions"}),x.jsx("p",{className:"text-sm",children:"Your active positions will appear here"})]}):x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full text-sm",children:[x.jsx("thead",{className:"bg-[var(--color-bg-tertiary)] border-b border-[var(--color-border)]",children:x.jsxs("tr",{children:[x.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Symbol"}),x.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Side"}),x.jsx("th",{className:"px-4 py-3 text-right font-semibold",children:"Entry"}),x.jsx("th",{className:"px-4 py-3 text-right font-semibold",children:"Current"}),x.jsx("th",{className:"px-4 py-3 text-right font-semibold",children:"Amount"}),x.jsx("th",{className:"px-4 py-3 text-right font-semibold",children:"Leverage"}),x.jsx("th",{className:"px-4 py-3 text-right font-semibold",children:"P&L"}),x.jsx("th",{className:"px-4 py-3 text-center font-semibold",children:"Actions"})]})}),x.jsx("tbody",{children:t.map(e=>x.jsxs(x.Fragment,{children:[x.jsxs("tr",{className:"border-b border-[var(--color-border)] hover:bg-[var(--color-bg-tertiary)]/50 transition-colors cursor-pointer",onClick:()=>i(n===e.id?null:e.id),children:[x.jsx("td",{className:"px-4 py-3 font-mono font-semibold",children:e.symbol}),x.jsx("td",{className:"px-4 py-3",children:x.jsx("span",{className:"inline-block px-2 py-1 rounded text-xs font-semibold "+("long"===e.side?"bg-[var(--color-success)]/20 text-[var(--color-success)]":"bg-[var(--color-error)]/20 text-[var(--color-error)]"),children:e.side.toUpperCase()})}),x.jsxs("td",{className:"px-4 py-3 text-right font-mono",children:["$",e.entryPrice.toFixed(2)]}),x.jsxs("td",{className:"px-4 py-3 text-right font-mono",children:["$",e.currentPrice.toFixed(2)]}),x.jsx("td",{className:"px-4 py-3 text-right font-mono",children:e.amount.toFixed(4)}),x.jsx("td",{className:"px-4 py-3 text-right",children:x.jsxs("span",{className:"inline-block px-2 py-0.5 bg-[var(--color-bg-tertiary)] rounded text-xs",children:[e.leverage,"x"]})}),x.jsxs("td",{className:"px-4 py-3 text-right",children:[x.jsxs("div",{className:"font-mono font-semibold "+(e.pnl>=0?"text-[var(--color-success)]":"text-[var(--color-error)]"),children:[e.pnl>=0?"+":"",e.pnl.toFixed(2)]}),x.jsxs("div",{className:"text-xs "+(e.pnlPercentage>=0?"text-[var(--color-success)]":"text-[var(--color-error)]"),children:["(",e.pnlPercentage>=0?"+":"",e.pnlPercentage.toFixed(2),"%)"]})]}),x.jsx("td",{className:"px-4 py-3 text-center",children:x.jsx("button",{onClick:t=>{t.stopPropagation(),r?.(e.id)},className:"px-3 py-1 bg-[var(--color-error)] hover:bg-[var(--color-error)]/90 text-white rounded text-xs font-semibold transition-colors",children:"Close"})})]},e.id),n===e.id&&x.jsx("tr",{className:"bg-[var(--color-bg-tertiary)]/30",children:x.jsx("td",{colSpan:8,className:"px-4 py-4",children:x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.liquidationPrice&&x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-[var(--color-text-secondary)] mb-1",children:"Liquidation Price"}),x.jsxs("div",{className:"text-lg font-mono font-semibold text-[var(--color-error)]",children:["$",e.liquidationPrice.toFixed(2)]})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-[var(--color-text-secondary)] mb-1",children:"Stop Loss"}),o===e.id?x.jsxs("div",{className:"flex gap-2",children:[x.jsx("input",{type:"number",step:"0.01",value:h,onChange:e=>m(e.target.value),placeholder:"Price",className:"flex-1 px-2 py-1 bg-[var(--color-bg-primary)] border border-[var(--color-border)] rounded text-sm font-mono",autoFocus:!0}),x.jsx("button",{onClick:()=>(e=>{const t=parseFloat(h);t>0&&s&&(s(e,t),l(null),m(""))})(e.id),className:"px-2 py-1 bg-[var(--color-success)] text-white rounded text-xs",children:"Set"}),x.jsx("button",{onClick:()=>{l(null),m("")},className:"px-2 py-1 bg-[var(--color-bg-secondary)] rounded text-xs",children:"Cancel"})]}):x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"text-lg font-mono font-semibold",children:e.stopLoss?`$${e.stopLoss.toFixed(2)}`:"â€”"}),x.jsx("button",{onClick:()=>{l(e.id),m(e.stopLoss?.toString()||"")},className:"text-xs text-[var(--color-sky-blue)] hover:underline",children:e.stopLoss?"Edit":"Set"})]})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-[var(--color-text-secondary)] mb-1",children:"Take Profit"}),c===e.id?x.jsxs("div",{className:"flex gap-2",children:[x.jsx("input",{type:"number",step:"0.01",value:u,onChange:e=>p(e.target.value),placeholder:"Price",className:"flex-1 px-2 py-1 bg-[var(--color-bg-primary)] border border-[var(--color-border)] rounded text-sm font-mono",autoFocus:!0}),x.jsx("button",{onClick:()=>(e=>{const t=parseFloat(u);t>0&&a&&(a(e,t),d(null),p(""))})(e.id),className:"px-2 py-1 bg-[var(--color-success)] text-white rounded text-xs",children:"Set"}),x.jsx("button",{onClick:()=>{d(null),p("")},className:"px-2 py-1 bg-[var(--color-bg-secondary)] rounded text-xs",children:"Cancel"})]}):x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"text-lg font-mono font-semibold",children:e.takeProfit?`$${e.takeProfit.toFixed(2)}`:"â€”"}),x.jsx("button",{onClick:()=>{d(e.id),p(e.takeProfit?.toString()||"")},className:"text-xs text-[var(--color-sky-blue)] hover:underline",children:e.takeProfit?"Edit":"Set"})]})]})]})})})]}))})]})})}const ut=({name:e,size:t=24,className:r=""})=>x.jsx("img",{src:`/akau/icons/akau/icon-${e}.png`,alt:e,width:t,height:t,className:`inline-block ${r}`,style:{imageRendering:"crisp-edges"}});function xt(){const[t,r]=e.useState("BTC/USD"),[s,a]=e.useState("15m"),[n,i]=e.useState("buy"),[o,l]=e.useState();return x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[x.jsx(ut,{name:"trade-exchange",size:32}),"Trading Interface"]}),x.jsxs("select",{value:t,onChange:e=>r(e.target.value),className:"px-4 py-2 bg-[var(--color-bg-secondary)] border border-[var(--color-border)] rounded text-lg font-semibold focus:outline-none focus:border-[var(--color-sky-blue)]",children:[x.jsx("option",{value:"BTC/USD",children:"BTC/USD"}),x.jsx("option",{value:"ETH/USD",children:"ETH/USD"}),x.jsx("option",{value:"SOL/USD",children:"SOL/USD"})]})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:"text-sm text-[var(--color-text-secondary)]",children:"Market Status:"}),x.jsxs("span",{className:"inline-flex items-center gap-1",children:[x.jsx("span",{className:"w-2 h-2 rounded-full bg-[var(--color-text-secondary)]"}),x.jsx("span",{className:"text-sm font-semibold",children:"Disconnected"})]})]})]}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[x.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[x.jsxs("div",{className:"card",children:[x.jsxs("div",{className:"flex items-center justify-between mb-4",children:[x.jsxs("h2",{className:"text-xl font-semibold flex items-center gap-2",children:[x.jsx(ut,{name:"chart-line",size:20}),"Price Chart"]}),x.jsx("div",{className:"flex items-center gap-2",children:x.jsxs("select",{value:s,onChange:e=>a(e.target.value),className:"px-3 py-1.5 bg-[var(--color-bg-tertiary)] border border-[var(--color-border)] rounded text-sm focus:outline-none focus:border-[var(--color-sky-blue)]",children:[x.jsx("option",{value:"1m",children:"1m"}),x.jsx("option",{value:"5m",children:"5m"}),x.jsx("option",{value:"15m",children:"15m"}),x.jsx("option",{value:"1h",children:"1h"}),x.jsx("option",{value:"4h",children:"4h"}),x.jsx("option",{value:"1d",children:"1d"})]})})]}),x.jsx("div",{className:"h-[500px]",children:x.jsx(ct,{symbol:t,timeframe:s})})]}),x.jsxs("div",{className:"card",children:[x.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[x.jsx(ut,{name:"order-book-spread",size:20}),"Order Book"]}),x.jsx("div",{className:"h-96",children:x.jsx(dt,{symbol:t,onPriceClick:e=>{l(e)}})})]}),x.jsxs("div",{className:"card",children:[x.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[x.jsx(ut,{name:"portfolio",size:20}),"Open Positions"]}),x.jsx(mt,{positions:[],onClosePosition:e=>console.log("Close position:",e),onSetStopLoss:(e,t)=>console.log("Set SL:",e,t),onSetTakeProfit:(e,t)=>console.log("Set TP:",e,t)})]})]}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"card",children:[x.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[x.jsx(ut,{name:"trade-exchange",size:20}),"Place Order"]}),x.jsx(ht,{symbol:t,side:n,onSideChange:i,initialPrice:o,balance:0,disabled:!0})]}),x.jsxs("div",{className:"card",children:[x.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[x.jsx(ut,{name:"neural-brain",size:20}),x.jsx("span",{children:"Neural Signals"})]}),x.jsxs("div",{className:"space-y-3",children:[x.jsxs("div",{className:"flex justify-between items-center text-sm",children:[x.jsx("span",{className:"text-[var(--color-text-secondary)]",children:"Engine Status"}),x.jsxs("span",{className:"inline-flex items-center gap-1",children:[x.jsx("span",{className:"w-2 h-2 rounded-full bg-[var(--color-text-secondary)]"}),x.jsx("span",{className:"font-semibold",children:"Inactive"})]})]}),x.jsxs("div",{className:"flex justify-between items-center text-sm",children:[x.jsx("span",{className:"text-[var(--color-text-secondary)]",children:"Active Signals"}),x.jsx("span",{className:"font-semibold",children:"0"})]}),x.jsxs("div",{className:"flex justify-between items-center text-sm",children:[x.jsx("span",{className:"text-[var(--color-text-secondary)]",children:"Confidence"}),x.jsx("span",{className:"font-semibold text-[var(--color-text-secondary)]",children:"â€”"})]}),x.jsxs("div",{className:"flex justify-between items-center text-sm",children:[x.jsx("span",{className:"text-[var(--color-text-secondary)]",children:"Win Rate"}),x.jsx("span",{className:"font-semibold text-[var(--color-text-secondary)]",children:"â€”"})]}),x.jsx("button",{className:"btn-secondary w-full text-sm mt-4",disabled:!0,children:"Activate Neural Engine"})]})]}),x.jsxs("div",{className:"card",children:[x.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[x.jsx(ut,{name:"watchlist",size:20}),"Market Stats"]}),x.jsxs("div",{className:"space-y-3 text-sm",children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"text-[var(--color-text-secondary)]",children:"24h Volume"}),x.jsx("span",{className:"font-mono text-[var(--color-text-secondary)]",children:"â€”"})]}),x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"text-[var(--color-text-secondary)]",children:"24h High"}),x.jsx("span",{className:"font-mono text-[var(--color-text-secondary)]",children:"â€”"})]}),x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"text-[var(--color-text-secondary)]",children:"24h Low"}),x.jsx("span",{className:"font-mono text-[var(--color-text-secondary)]",children:"â€”"})]}),x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"text-[var(--color-text-secondary)]",children:"Open Interest"}),x.jsx("span",{className:"font-mono text-[var(--color-text-secondary)]",children:"â€”"})]})]})]})]})]}),x.jsxs("div",{className:"card",children:[x.jsxs("div",{className:"flex items-center justify-between mb-4",children:[x.jsxs("h2",{className:"text-xl font-semibold flex items-center gap-2",children:[x.jsx(ut,{name:"history",size:20}),"Trade History"]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{className:"text-sm text-[var(--color-sky-blue)] hover:underline",children:"Export"}),x.jsx("button",{className:"text-sm text-[var(--color-sky-blue)] hover:underline",children:"Filter"})]})]}),x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full text-sm",children:[x.jsx("thead",{className:"bg-[var(--color-bg-tertiary)] border-b border-[var(--color-border)]",children:x.jsxs("tr",{children:[x.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Time"}),x.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Symbol"}),x.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Side"}),x.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Type"}),x.jsx("th",{className:"px-4 py-3 text-right font-semibold",children:"Price"}),x.jsx("th",{className:"px-4 py-3 text-right font-semibold",children:"Amount"}),x.jsx("th",{className:"px-4 py-3 text-right font-semibold",children:"Total"}),x.jsx("th",{className:"px-4 py-3 text-right font-semibold",children:"Fee"}),x.jsx("th",{className:"px-4 py-3 text-center font-semibold",children:"Status"})]})}),x.jsx("tbody",{children:x.jsx("tr",{children:x.jsxs("td",{colSpan:9,className:"px-4 py-12 text-center text-[var(--color-text-secondary)]",children:[x.jsx("p",{className:"text-lg mb-2",children:"No trade history"}),x.jsx("p",{className:"text-sm",children:"Your completed trades will appear here"})]})})})]})})]})]})}const pt=({name:e,size:t=24,className:r=""})=>x.jsx("img",{src:`/akau/icons/akau/icon-${e}.png`,alt:e,width:t,height:t,className:`inline-block ${r}`,style:{imageRendering:"crisp-edges"}}),bt=[{id:"btc",name:"Bitcoin",symbol:"BTC",icon:"asset-btc",category:"crypto",price:97500,change24h:2.4,description:"Digital gold and store of value"},{id:"eth",name:"Ethereum",symbol:"ETH",icon:"asset-eth",category:"crypto",price:3650,change24h:1.8,description:"Smart contract platform"},{id:"usdt",name:"Tether",symbol:"USDT",icon:"asset-usdt",category:"crypto",price:1,change24h:.01,description:"USD-pegged stablecoin"},{id:"aapl",name:"Apple Inc.",symbol:"AAPL",icon:"asset-aapl",category:"stock",price:232,change24h:.85,description:"Consumer technology giant"},{id:"nvda",name:"NVIDIA",symbol:"NVDA",icon:"asset-nvda",category:"stock",price:142,change24h:3.2,description:"AI and GPU leader"},{id:"msft",name:"Microsoft",symbol:"MSFT",icon:"asset-msft",category:"stock",price:428,change24h:1.1,description:"Enterprise software & cloud"},{id:"googl",name:"Alphabet",symbol:"GOOGL",icon:"asset-googl",category:"stock",price:175,change24h:.65,description:"Search and cloud services"},{id:"meta",name:"Meta Platforms",symbol:"META",icon:"asset-meta",category:"stock",price:605,change24h:2.1,description:"Social media and metaverse"},{id:"tsla",name:"Tesla",symbol:"TSLA",icon:"asset-tsla",category:"stock",price:352,change24h:-1.2,description:"Electric vehicles and energy"},{id:"carbon",name:"Carbon Credits",symbol:"CARBON",icon:"asset-carbon",category:"environmental",price:42.5,change24h:.9,description:"Blue carbon offset tokens"},{id:"biodiversity",name:"Biodiversity",symbol:"BIODIV",icon:"asset-biodiversity",category:"environmental",price:15.75,change24h:1.5,description:"Species protection initiatives"},{id:"lic",name:"Land Impact",symbol:"LIC",icon:"asset-lic",category:"environmental",price:28.4,change24h:.3,description:"Indigenous community projects"}];function gt(){const[t,r]=e.useState("all"),[s,a]=e.useState(""),{prices:n}=Le(),i=bt.filter(e=>{const r="all"===t||e.category===t,a=e.name.toLowerCase().includes(s.toLowerCase())||e.symbol.toLowerCase().includes(s.toLowerCase());return r&&a}),o=e=>"all"===e?bt.length:bt.filter(t=>t.category===e).length;return x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold text-gradient-teal",children:"Assets"}),x.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Browse and trade digital assets"})]}),x.jsx("div",{className:"flex items-center gap-2",children:x.jsx(pt,{name:"buy",size:28,className:"opacity-70"})})]}),x.jsx("div",{className:"card-glass",children:x.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[x.jsxs("div",{className:"relative flex-1",children:[x.jsx(pt,{name:"search",size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 opacity-50"}),x.jsx("input",{type:"text",placeholder:"Search assets...",value:s,onChange:e=>a(e.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-[var(--color-bg-tertiary)] border border-[var(--color-border)] rounded-lg focus:outline-none focus:border-[var(--akau-teal-500)] transition-colors"})]}),x.jsx("div",{className:"flex gap-2",children:["all","crypto","stock","environmental"].map(e=>x.jsxs("button",{onClick:()=>r(e),className:"px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 "+(t===e?"bg-[var(--akau-teal-500)] text-white shadow-md shadow-[var(--akau-teal-500)]/20":"bg-[var(--color-bg-tertiary)] text-[var(--color-text-secondary)] hover:bg-[var(--color-bg-tertiary)]/80 hover:text-[var(--color-text-primary)]"),children:[e.charAt(0).toUpperCase()+e.slice(1),x.jsxs("span",{className:"ml-1.5 opacity-70",children:["(",o(e),")"]})]},e))})]})}),x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 tile-stagger",children:i.map(e=>{const t=n[`${e.symbol}-USD`]?.price,r=n[`${e.symbol}-USD`]?.change24h,s=t||e.price,a=r??e.change24h;return x.jsxs("div",{className:"group card-glass tile-pop-in hover:border-[var(--akau-teal-500)]/50 transition-all duration-300 cursor-pointer hover:shadow-lg hover:shadow-[var(--akau-teal-500)]/10 hover:-translate-y-0.5",children:[x.jsxs("div",{className:"flex items-start gap-4",children:[x.jsxs("div",{className:"relative",children:[x.jsx("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-[var(--color-bg-tertiary)] to-[var(--color-bg-tertiary)]/50 p-2 group-hover:from-[var(--akau-teal-600)]/20 group-hover:to-transparent transition-all duration-300 flex items-center justify-center",children:x.jsx(pt,{name:e.icon,size:40,className:"group-hover:scale-105 transition-transform"})}),x.jsx("span",{className:"absolute -bottom-1 -right-1 text-[10px] px-1.5 py-0.5 rounded-full font-medium "+("crypto"===e.category?"bg-[var(--akau-teal-500)]/20 text-[var(--akau-teal-400)]":"stock"===e.category?"bg-blue-500/20 text-blue-400":"bg-green-500/20 text-green-400"),children:"crypto"===e.category?"Crypto":"stock"===e.category?"Stock":"Eco"})]}),x.jsxs("div",{className:"flex-1 min-w-0",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("h3",{className:"font-semibold text-[var(--color-text-primary)] group-hover:text-[var(--akau-teal-300)] transition-colors",children:e.name}),x.jsx("span",{className:"text-xs font-mono text-[var(--color-text-secondary)]",children:e.symbol})]}),x.jsx("p",{className:"text-xs text-[var(--color-text-secondary)] mt-0.5 truncate",children:e.description}),x.jsxs("div",{className:"flex items-center justify-between mt-3 pt-3 border-t border-[var(--color-border)]/30",children:[x.jsx("div",{children:x.jsxs("span",{className:"text-lg font-bold font-mono text-[var(--akau-cyan-400)]",children:["$",s.toLocaleString("en-AU",{minimumFractionDigits:2,maximumFractionDigits:2})]})}),x.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 rounded-md text-xs font-medium "+(a>=0?"bg-green-500/10 text-green-400":"bg-red-500/10 text-red-400"),children:[x.jsx("span",{children:a>=0?"â†‘":"â†“"}),x.jsxs("span",{children:[Math.abs(a).toFixed(2),"%"]})]})]})]})]}),x.jsxs("div",{className:"flex gap-2 mt-4 pt-3 border-t border-[var(--color-border)]/30",children:[x.jsxs("button",{className:"flex-1 flex items-center justify-center gap-2 py-2 bg-gradient-to-r from-[var(--akau-teal-600)] to-[var(--akau-teal-500)] text-white rounded-lg text-sm font-medium hover:from-[var(--akau-teal-500)] hover:to-[var(--akau-teal-400)] transition-all shadow-sm hover:shadow-md hover:shadow-[var(--akau-teal-500)]/20",children:[x.jsx(pt,{name:"buy",size:16}),"Buy"]}),x.jsxs("button",{className:"flex-1 flex items-center justify-center gap-2 py-2 bg-[var(--color-bg-tertiary)] text-[var(--color-text-secondary)] rounded-lg text-sm font-medium hover:bg-[var(--color-bg-tertiary)]/80 hover:text-[var(--color-text-primary)] transition-all border border-[var(--color-border)]/30",children:[x.jsx(pt,{name:"sell",size:16}),"Sell"]})]})]},e.id)})}),0===i.length&&x.jsxs("div",{className:"card-glass text-center py-12",children:[x.jsx(pt,{name:"search",size:48,className:"opacity-30 mx-auto mb-4"}),x.jsx("h3",{className:"text-lg font-semibold text-[var(--color-text-secondary)]",children:"No assets found"}),x.jsx("p",{className:"text-sm text-[var(--color-text-secondary)] mt-1",children:"Try adjusting your search or filters"})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 tile-stagger section-fade-in section-delay-2",children:[x.jsx("div",{className:"card-glass",children:x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"w-10 h-10 rounded-lg bg-[var(--akau-teal-500)]/20 flex items-center justify-center",children:x.jsx(pt,{name:"chart-line",size:24,className:"text-[var(--akau-teal-400)]"})}),x.jsxs("div",{children:[x.jsx("p",{className:"text-xs text-[var(--color-text-secondary)]",children:"Total Market Cap"}),x.jsx("p",{className:"text-lg font-bold font-mono text-[var(--akau-cyan-400)]",children:"$2.45T"})]})]})}),x.jsx("div",{className:"card-glass",children:x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"w-10 h-10 rounded-lg bg-green-500/20 flex items-center justify-center",children:x.jsx(pt,{name:"signal-bullish",size:24})}),x.jsxs("div",{children:[x.jsx("p",{className:"text-xs text-[var(--color-text-secondary)]",children:"24h Volume"}),x.jsx("p",{className:"text-lg font-bold font-mono text-green-400",children:"$89.2B"})]})]})}),x.jsx("div",{className:"card-glass",children:x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"w-10 h-10 rounded-lg bg-[var(--akau-teal-500)]/20 flex items-center justify-center",children:x.jsx(pt,{name:"asset-carbon",size:24})}),x.jsxs("div",{children:[x.jsx("p",{className:"text-xs text-[var(--color-text-secondary)]",children:"Carbon Credits Traded"}),x.jsx("p",{className:"text-lg font-bold font-mono text-[var(--akau-teal-400)]",children:"12.4K CCT"})]})]})})]})]})}function ft(){return x.jsx(Ye,{config:{useMockMode:!0,network:"regtest"},children:x.jsx($e,{children:x.jsx(He,{children:x.jsxs("div",{className:"min-h-screen flex flex-col",children:[x.jsx(Ze,{}),x.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[x.jsx(tt,{}),x.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:x.jsxs(we,{children:[x.jsx(je,{path:"/",element:x.jsx(at,{})}),x.jsx(je,{path:"/trade",element:x.jsx(xt,{})}),x.jsx(je,{path:"/assets",element:x.jsx(gt,{})})]})})]})]})})})})}function vt({children:t}){const r=de();return e.useEffect(()=>{const e=sessionStorage.getItem("spa-redirect");e&&(sessionStorage.removeItem("spa-redirect"),r("/"+e,{replace:!0}))},[r]),x.jsx(x.Fragment,{children:t})}p.createRoot(document.getElementById("root")).render(x.jsx(s.StrictMode,{children:x.jsx(Pe,{basename:"/akau/",children:x.jsx(vt,{children:x.jsx(ft,{})})})}))})();export{Ve as _,__tla};