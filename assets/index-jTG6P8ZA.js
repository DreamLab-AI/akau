const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-C0LKi7VS.js","assets/vendor-react-Dgwvv9qw.js"])))=>i.map(i=>d[i]);
import{r as e,a as t,R as s,b as r}from"./vendor-react-Dgwvv9qw.js";let qe;let __tla=(async()=>{!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var a={exports:{}},n={},o=e,i=Symbol.for("react.element"),l=Symbol.for("react.fragment"),c=Object.prototype.hasOwnProperty,d=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,m={key:!0,ref:!0,__self:!0,__source:!0};function h(e,t,s){var r,a={},n=null,o=null;for(r in void 0!==s&&(n=""+s),void 0!==t.key&&(n=""+t.key),void 0!==t.ref&&(o=t.ref),t)c.call(t,r)&&!m.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:n,ref:o,props:a,_owner:d.current}}n.Fragment=l,n.jsx=h,n.jsxs=h,a.exports=n;var u,x=a.exports,p={},g=t;function b(){return b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},b.apply(this,arguments)}p.createRoot=g.createRoot,p.hydrateRoot=g.hydrateRoot,function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(u||(u={}));const v="popstate";function f(e){return void 0===e&&(e={}),function(e,t,s,r){void 0===r&&(r={});let{window:a=document.defaultView,v5Compat:n=!1}=r,o=a.history,i=u.Pop,l=null,c=d();null==c&&(c=0,o.replaceState(b({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function m(){i=u.Pop;let e=d(),t=null==e?null:e-c;c=e,l&&l({action:i,location:g.location,delta:t})}function h(e,t){i=u.Push;let s=w(g.location,e,t);c=d()+1;let r=N(s,c),m=g.createHref(s);try{o.pushState(r,"",m)}catch(h){if(h instanceof DOMException&&"DataCloneError"===h.name)throw h;a.location.assign(m)}n&&l&&l({action:i,location:g.location,delta:1})}function x(e,t){i=u.Replace;let s=w(g.location,e,t);c=d();let r=N(s,c),a=g.createHref(s);o.replaceState(r,"",a),n&&l&&l({action:i,location:g.location,delta:0})}function p(e){let t="null"!==a.location.origin?a.location.origin:a.location.href,s="string"==typeof e?e:S(e);return s=s.replace(/ $/,"%20"),y(t,"No window.location.(origin|href) available to create URL for href: "+s),new URL(s,t)}let g={get action(){return i},get location(){return e(a,o)},listen(e){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(v,m),l=e,()=>{a.removeEventListener(v,m),l=null}},createHref:e=>t(a,e),createURL:p,encodeLocation(e){let t=p(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:h,replace:x,go:e=>o.go(e)};return g}(function(e,t){let{pathname:s,search:r,hash:a}=e.location;return w("",{pathname:s,search:r,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"==typeof t?t:S(t)},0,e)}function y(e,t){if(!1===e||null==e)throw new Error(t)}function j(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(s){}}}function N(e,t){return{usr:e.state,key:e.key,idx:t}}function w(e,t,s,r){return void 0===s&&(s=null),b({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof t?k(t):t,{state:s,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function S(e){let{pathname:t="/",search:s="",hash:r=""}=e;return s&&"?"!==s&&(t+="?"===s.charAt(0)?s:"?"+s),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function k(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substr(s),e=e.substr(0,s));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var C;function P(e,t,s){return void 0===s&&(s="/"),function(e,t,s){let r="string"==typeof t?k(t):t,a=_(r.pathname||"/",s);if(null==a)return null;let n=E(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let s=e.length===t.length&&e.slice(0,-1).every((e,s)=>e===t[s]);return s?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(n);let o=null;for(let i=0;null==o&&i<n.length;++i){let e=z(a);o=I(n[i],e)}return o}(e,t,s)}function E(e,t,s,r){void 0===t&&(t=[]),void 0===s&&(s=[]),void 0===r&&(r="");let a=(e,a,n)=>{let o={relativePath:void 0===n?e.path||"":n,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};o.relativePath.startsWith("/")&&(y(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));let i=Y([r,o.relativePath]),l=s.concat(o);e.children&&e.children.length>0&&(y(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+i+'".'),E(e.children,t,l,i)),(null!=e.path||e.index)&&t.push({path:i,score:F(i,e.index),routesMeta:l})};return e.forEach((e,t)=>{var s;if(""!==e.path&&null!=(s=e.path)&&s.includes("?"))for(let r of M(e.path))a(e,t,r);else a(e,t)}),t}function M(e){let t=e.split("/");if(0===t.length)return[];let[s,...r]=t,a=s.endsWith("?"),n=s.replace(/\?$/,"");if(0===r.length)return a?[n,""]:[n];let o=M(r.join("/")),i=[];return i.push(...o.map(e=>""===e?n:[n,e].join("/"))),a&&i.push(...o),i.map(t=>e.startsWith("/")&&""===t?"/":t)}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(C||(C={}));const D=/^:[\w-]+$/,T=3,A=2,R=1,B=10,U=-2,O=e=>"*"===e;function F(e,t){let s=e.split("/"),r=s.length;return s.some(O)&&(r+=U),t&&(r+=A),s.filter(e=>!O(e)).reduce((e,t)=>e+(D.test(t)?T:""===t?R:B),r)}function I(e,t,s){let{routesMeta:r}=e,a={},n="/",o=[];for(let i=0;i<r.length;++i){let e=r[i],s=i===r.length-1,l="/"===n?t:t.slice(n.length)||"/",c=L({path:e.relativePath,caseSensitive:e.caseSensitive,end:s},l),d=e.route;if(!c)return null;Object.assign(a,c.params),o.push({params:a,pathname:Y([n,c.pathname]),pathnameBase:K(Y([n,c.pathnameBase])),route:d}),"/"!==c.pathnameBase&&(n=Y([n,c.pathnameBase]))}return o}function L(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[s,r]=function(e,t,s){void 0===t&&(t=!1);void 0===s&&(s=!0);j("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,s)=>(r.push({paramName:t,isOptional:null!=s}),s?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))");let n=new RegExp(a,t?void 0:"i");return[n,r]}(e.path,e.caseSensitive,e.end),a=t.match(s);if(!a)return null;let n=a[0],o=n.replace(/(.)\/+$/,"$1"),i=a.slice(1);return{params:r.reduce((e,t,s)=>{let{paramName:r,isOptional:a}=t;if("*"===r){let e=i[s]||"";o=n.slice(0,n.length-e.length).replace(/(.)\/+$/,"$1")}const l=i[s];return e[r]=a&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:n,pathnameBase:o,pattern:e}}function z(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return j(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function _(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,r=e.charAt(s);return r&&"/"!==r?null:e.slice(s)||"/"}const $=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function H(e,t){void 0===t&&(t="/");let s,{pathname:r,search:a="",hash:n=""}="string"==typeof e?k(e):e;if(r)if(o=r,$.test(o))s=r;else{if(r.includes("//")){let e=r;r=r.replace(/\/\/+/g,"/"),j(!1,"Pathnames cannot have embedded double slashes - normalizing "+e+" -> "+r)}s=r.startsWith("/")?G(r.substring(1),"/"):G(r,t)}else s=t;var o;return{pathname:s,search:J(a),hash:X(n)}}function G(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?s.length>1&&s.pop():"."!==e&&s.push(e)}),s.length>1?s.join("/"):"/"}function W(e,t,s,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+s+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function q(e,t){let s=function(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}(e);return t?s.map((e,t)=>t===s.length-1?e.pathname:e.pathnameBase):s.map(e=>e.pathnameBase)}function V(e,t,s,r){let a;void 0===r&&(r=!1),"string"==typeof e?a=k(e):(a=b({},e),y(!a.pathname||!a.pathname.includes("?"),W("?","pathname","search",a)),y(!a.pathname||!a.pathname.includes("#"),W("#","pathname","hash",a)),y(!a.search||!a.search.includes("#"),W("#","search","hash",a)));let n,o=""===e||""===a.pathname,i=o?"/":a.pathname;if(null==i)n=s;else{let e=t.length-1;if(!r&&i.startsWith("..")){let t=i.split("/");for(;".."===t[0];)t.shift(),e-=1;a.pathname=t.join("/")}n=e>=0?t[e]:"/"}let l=H(a,n),c=i&&"/"!==i&&i.endsWith("/"),d=(o||"."===i)&&s.endsWith("/");return l.pathname.endsWith("/")||!c&&!d||(l.pathname+="/"),l}const Y=e=>e.join("/").replace(/\/\/+/g,"/"),K=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),J=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",X=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";const Q=["post","put","patch","delete"];new Set(Q);const Z=["get",...Q];function ee(){return ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},ee.apply(this,arguments)}new Set(Z);const te=e.createContext(null),se=e.createContext(null),re=e.createContext(null),ae=e.createContext(null),ne=e.createContext({outlet:null,matches:[],isDataRoute:!1}),oe=e.createContext(null);function ie(){return null!=e.useContext(ae)}function le(){return ie()||y(!1),e.useContext(ae).location}function ce(t){e.useContext(re).static||e.useLayoutEffect(t)}function de(){let{isDataRoute:t}=e.useContext(ne);return t?function(){let{router:t}=function(){let t=e.useContext(te);return t||y(!1),t}(be.UseNavigateStable),s=fe(ve.UseNavigateStable),r=e.useRef(!1);return ce(()=>{r.current=!0}),e.useCallback(function(e,a){void 0===a&&(a={}),r.current&&("number"==typeof e?t.navigate(e):t.navigate(e,ee({fromRouteId:s},a)))},[t,s])}():function(){ie()||y(!1);let t=e.useContext(te),{basename:s,future:r,navigator:a}=e.useContext(re),{matches:n}=e.useContext(ne),{pathname:o}=le(),i=JSON.stringify(q(n,r.v7_relativeSplatPath)),l=e.useRef(!1);return ce(()=>{l.current=!0}),e.useCallback(function(e,r){if(void 0===r&&(r={}),!l.current)return;if("number"==typeof e)return void a.go(e);let n=V(e,JSON.parse(i),o,"path"===r.relative);null==t&&"/"!==s&&(n.pathname="/"===n.pathname?s:Y([s,n.pathname])),(r.replace?a.replace:a.push)(n,r.state,r)},[s,a,i,o,t])}()}function me(t,s){let{relative:r}=void 0===s?{}:s,{future:a}=e.useContext(re),{matches:n}=e.useContext(ne),{pathname:o}=le(),i=JSON.stringify(q(n,a.v7_relativeSplatPath));return e.useMemo(()=>V(t,JSON.parse(i),o,"path"===r),[t,i,o,r])}function he(t,s){return function(t,s,r,a){ie()||y(!1);let{navigator:n}=e.useContext(re),{matches:o}=e.useContext(ne),i=o[o.length-1],l=i?i.params:{};!i||i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let d,m=le();if(s){var h;let e="string"==typeof s?k(s):s;"/"===c||(null==(h=e.pathname)?void 0:h.startsWith(c))||y(!1),d=e}else d=m;let x=d.pathname||"/",p=x;if("/"!==c){let e=c.replace(/^\//,"").split("/");p="/"+x.replace(/^\//,"").split("/").slice(e.length).join("/")}let g=P(t,{pathname:p}),b=function(t,s,r,a){var n;void 0===s&&(s=[]);void 0===r&&(r=null);void 0===a&&(a=null);if(null==t){var o;if(!r)return null;if(r.errors)t=r.matches;else{if(!(null!=(o=a)&&o.v7_partialHydration&&0===s.length&&!r.initialized&&r.matches.length>0))return null;t=r.matches}}let i=t,l=null==(n=r)?void 0:n.errors;if(null!=l){let e=i.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||y(!1),i=i.slice(0,Math.min(i.length,e+1))}let c=!1,d=-1;if(r&&a&&a.v7_partialHydration)for(let e=0;e<i.length;e++){let t=i[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(d=e),t.route.id){let{loaderData:e,errors:s}=r,a=t.route.loader&&void 0===e[t.route.id]&&(!s||void 0===s[t.route.id]);if(t.route.lazy||a){c=!0,i=d>=0?i.slice(0,d+1):[i[0]];break}}}return i.reduceRight((t,a,n)=>{let o,m=!1,h=null,u=null;var x;r&&(o=l&&a.route.id?l[a.route.id]:void 0,h=a.route.errorElement||xe,c&&(d<0&&0===n?(ye[x="route-fallback"]||(ye[x]=!0),m=!0,u=null):d===n&&(m=!0,u=a.route.hydrateFallbackElement||null)));let p=s.concat(i.slice(0,n+1)),g=()=>{let s;return s=o?h:m?u:a.route.Component?e.createElement(a.route.Component,null):a.route.element?a.route.element:t,e.createElement(ge,{match:a,routeContext:{outlet:t,matches:p,isDataRoute:null!=r},children:s})};return r&&(a.route.ErrorBoundary||a.route.errorElement||0===n)?e.createElement(pe,{location:r.location,revalidation:r.revalidation,component:h,error:o,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):g()},null)}(g&&g.map(e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:Y([c,n.encodeLocation?n.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:Y([c,n.encodeLocation?n.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),o,r,a);if(s&&b)return e.createElement(ae.Provider,{value:{location:ee({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:u.Pop}},b);return b}(t,s)}function ue(){let t=function(){var t;let s=e.useContext(oe),r=function(){let t=e.useContext(se);return t||y(!1),t}(),a=fe();if(void 0!==s)return s;return null==(t=r.errors)?void 0:t[a]}(),s=function(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return e.createElement(e.Fragment,null,e.createElement("h2",null,"Unexpected Application Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},s),r?e.createElement("pre",{style:a},r):null,null)}const xe=e.createElement(ue,null);class pe extends e.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?e.createElement(ne.Provider,{value:this.props.routeContext},e.createElement(oe.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ge(t){let{routeContext:s,match:r,children:a}=t,n=e.useContext(te);return n&&n.static&&n.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=r.route.id),e.createElement(ne.Provider,{value:s},a)}var be=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(be||{}),ve=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ve||{});function fe(t){let s=function(){let t=e.useContext(ne);return t||y(!1),t}(),r=s.matches[s.matches.length-1];return r.route.id||y(!1),r.route.id}const ye={};function je(e){y(!1)}function Ne(t){let{basename:s="/",children:r=null,location:a,navigationType:n=u.Pop,navigator:o,static:i=!1,future:l}=t;ie()&&y(!1);let c=s.replace(/^\/*/,"/"),d=e.useMemo(()=>({basename:c,navigator:o,static:i,future:ee({v7_relativeSplatPath:!1},l)}),[c,l,o,i]);"string"==typeof a&&(a=k(a));let{pathname:m="/",search:h="",hash:x="",state:p=null,key:g="default"}=a,b=e.useMemo(()=>{let e=_(m,c);return null==e?null:{location:{pathname:e,search:h,hash:x,state:p,key:g},navigationType:n}},[c,m,h,x,p,g,n]);return null==b?null:e.createElement(re.Provider,{value:d},e.createElement(ae.Provider,{children:r,value:b}))}function we(e){let{children:t,location:s}=e;return he(Se(t),s)}function Se(t,s){void 0===s&&(s=[]);let r=[];return e.Children.forEach(t,(t,a)=>{if(!e.isValidElement(t))return;let n=[...s,a];if(t.type===e.Fragment)return void r.push.apply(r,Se(t.props.children,n));t.type!==je&&y(!1),t.props.index&&t.props.children&&y(!1);let o={id:t.props.id||n.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(o.children=Se(t.props.children,n)),r.push(o)}),r}function ke(){return ke=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},ke.apply(this,arguments)}new Promise(()=>{});const Ce=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(Ot){}const Pe=s.startTransition;function Ee(t){let{basename:s,children:r,future:a,window:n}=t,o=e.useRef();null==o.current&&(o.current=f({window:n,v5Compat:!0}));let i=o.current,[l,c]=e.useState({action:i.action,location:i.location}),{v7_startTransition:d}=a||{},m=e.useCallback(e=>{d&&Pe?Pe(()=>c(e)):c(e)},[c,d]);return e.useLayoutEffect(()=>i.listen(m),[i,m]),e.useEffect(()=>{return null==(e=a)||e.v7_startTransition,void(null==e||e.v7_relativeSplatPath);var e},[a]),e.createElement(Ne,{basename:s,children:r,location:l.location,navigationType:l.action,navigator:i,future:a})}const Me="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,De=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Te=e.forwardRef(function(t,s){let r,{onClick:a,relative:n,reloadDocument:o,replace:i,state:l,target:c,to:d,preventScrollReset:m,viewTransition:h}=t,u=function(e,t){if(null==e)return{};var s,r,a={},n=Object.keys(e);for(r=0;r<n.length;r++)s=n[r],t.indexOf(s)>=0||(a[s]=e[s]);return a}(t,Ce),{basename:x}=e.useContext(re),p=!1;if("string"==typeof d&&De.test(d)&&(r=d,Me))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),s=_(t.pathname,x);t.origin===e.origin&&null!=s?d=s+t.search+t.hash:p=!0}catch(Ot){}let g=function(t,s){let{relative:r}=void 0===s?{}:s;ie()||y(!1);let{basename:a,navigator:n}=e.useContext(re),{hash:o,pathname:i,search:l}=me(t,{relative:r}),c=i;return"/"!==a&&(c="/"===i?a:Y([a,i])),n.createHref({pathname:c,search:l,hash:o})}(d,{relative:n}),b=function(t,s){let{target:r,replace:a,state:n,preventScrollReset:o,relative:i,viewTransition:l}=void 0===s?{}:s,c=de(),d=le(),m=me(t,{relative:i});return e.useCallback(e=>{if(function(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(e,r)){e.preventDefault();let s=void 0!==a?a:S(d)===S(m);c(t,{replace:s,state:n,preventScrollReset:o,relative:i,viewTransition:l})}},[d,c,m,a,n,r,t,o,i,l])}(d,{replace:i,state:l,target:c,preventScrollReset:m,relative:n,viewTransition:h});return e.createElement("a",ke({},u,{href:r||g,onClick:p||o?a:function(e){a&&a(e),e.defaultPrevented||b(e)},ref:s,target:c}))});var Ae,Re,Be,Ue;(Re=Ae||(Ae={})).UseScrollRestoration="useScrollRestoration",Re.UseSubmit="useSubmit",Re.UseSubmitFetcher="useSubmitFetcher",Re.UseFetcher="useFetcher",Re.useViewTransitionState="useViewTransitionState",(Ue=Be||(Be={})).UseFetcher="useFetcher",Ue.UseFetchers="useFetchers",Ue.UseScrollRestoration="useScrollRestoration";const Oe={"BTC-USD":"bitcoin","ETH-USD":"ethereum","SOL-USD":"solana","MATIC-USD":"matic-network","AVAX-USD":"avalanche-2","LINK-USD":"chainlink"},Fe=["AAPL-USD","NVDA-USD","MSFT-USD","GOOGL-USD","META-USD","TSLA-USD"],Ie=["CARBON-USD","BIODIV-USD"];let Le,ze,_e,$e,He,Ge,We;Le=new class{subscribers=new Set;eventHandlers=new Map;connected=!1;updateIntervals=[];useMockData=!1;prices={};mockPrices={"BTC-USD":97500,"ETH-USD":3680,"SOL-USD":238,"MATIC-USD":.52,"AVAX-USD":45,"LINK-USD":18.5,"BTC-RGB":97500,"ETH-RGB":3680,"AAPL-USD":232,"NVDA-USD":142,"MSFT-USD":428,"GOOGL-USD":175,"META-USD":605,"TSLA-USD":352,"CARBON-USD":42.5,"BIODIV-USD":15.75};async connect(){if(this.connected)return;this.connected=!0,this.emit("connect"),await this.fetchCoinGeckoData();const e=setInterval(()=>{this.fetchCoinGeckoData()},3e4),t=setInterval(()=>{this.updateStockPrices()},5e3),s=setInterval(()=>{this.updateEnvTokenPrices()},1e4),r=setInterval(()=>{Object.keys(this.prices).forEach(e=>{this.broadcastOrderBook(e)})},2e3),a=setInterval(()=>{const e=Object.keys(this.prices);if(e.length>0){const t=e[Math.floor(Math.random()*e.length)];this.broadcastTrade(t)}},1500);this.updateIntervals.push(e,t,s,r,a)}disconnect(){this.connected&&(this.connected=!1,this.updateIntervals.forEach(e=>clearInterval(e)),this.updateIntervals=[],this.emit("disconnect"))}subscribe(e){this.subscribers.add(e)}unsubscribe(e){this.subscribers.delete(e)}on(e,t){this.eventHandlers.has(e)||this.eventHandlers.set(e,new Set),this.eventHandlers.get(e).add(t)}off(e,t){this.eventHandlers.get(e)?.delete(t)}emit(e,...t){this.eventHandlers.get(e)?.forEach(s=>{try{s(...t)}catch(r){console.error(`Error in event handler for ${e}:`,r)}})}async fetchCoinGeckoData(){try{const e=Object.values(Oe).join(","),t=await fetch(`https://api.coingecko.com/api/v3/simple/price?ids=${e}&vs_currencies=usd&include_24hr_change=true&include_24hr_vol=true`,{headers:{Accept:"application/json"}});if(!t.ok)throw new Error(`CoinGecko API error: ${t.status}`);const s=await t.json();for(const[r,a]of Object.entries(Oe))if(s[a]){const e=s[a].usd,t=s[a].usd_24h_change||0,n=s[a].usd_24h_vol||0;this.prices[r]={price:e,change24h:t,volume24h:n,high24h:e*(1+Math.abs(t)/100*.3),low24h:e*(1-Math.abs(t)/100*.3),lastUpdate:Date.now()};const o=r.replace("-USD","-RGB");this.prices[o]={...this.prices[r]},this.broadcastPriceUpdate(r),this.broadcastPriceUpdate(o)}this.useMockData=!1}catch(e){console.warn("CoinGecko API unavailable, using mock data:",e),this.useMockData=!0,this.initializeMockData()}}initializeMockData(){for(const[e,t]of Object.entries(this.mockPrices))this.prices[e]||(this.prices[e]={price:t,change24h:10*(Math.random()-.5),volume24h:1e9*Math.random()+1e8,high24h:1.05*t,low24h:.95*t,lastUpdate:Date.now()}),this.broadcastPriceUpdate(e)}updateStockPrices(){Fe.forEach(e=>{const t=this.mockPrices[e]||100,s=this.prices[e];if(s){const r=.002*t,a=.001*(t-s.price)+(Math.random()-.5)*r;this.prices[e]={...s,price:Math.max(s.price+a,.5*t),lastUpdate:Date.now()}}else this.prices[e]={price:t,change24h:5*(Math.random()-.5),volume24h:5e7*Math.random()+1e7,high24h:1.03*t,low24h:.97*t,lastUpdate:Date.now()};this.broadcastPriceUpdate(e)})}updateEnvTokenPrices(){Ie.forEach(e=>{const t=this.mockPrices[e]||10,s=this.prices[e];if(s){const r=(Math.random()-.5)*t*.001;this.prices[e]={...s,price:Math.max(s.price+r,.8*t),lastUpdate:Date.now()}}else this.prices[e]={price:t,change24h:2*(Math.random()-.5),volume24h:5e6*Math.random()+1e6,high24h:1.02*t,low24h:.98*t,lastUpdate:Date.now()};this.broadcastPriceUpdate(e)})}broadcastPriceUpdate(e){const t=this.prices[e];if(!t)return;const s={type:"price_update",pair:e,price:t.price,change24h:t.change24h,volume24h:t.volume24h,high24h:t.high24h,low24h:t.low24h};this.broadcast(s)}broadcastOrderBook(e){const t=this.prices[e];if(!t)return;const s=t.price,r=[],a=[];for(let o=0;o<20;o++){const e=s*(.9995-3e-4*o),t=s*(1.0005+3e-4*o),n=5*Math.random()+.1;r.push([e,n]),a.push([t,n])}const n={type:"orderbook",pair:e,bids:r,asks:a};this.broadcast(n)}broadcastTrade(e){const t=this.prices[e];if(!t)return;const s=t.price*(1+.001*(Math.random()-.5)),r=2*Math.random()+.01,a=Math.random()>.5?"buy":"sell",n={type:"trade",pair:e,id:`trade-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,price:s,size:r,side:a,timestamp:Date.now()};this.broadcast(n)}broadcast(e){this.subscribers.forEach(t=>{try{t(e)}catch(s){console.error("Error in subscriber:",s)}})}getCurrentPrices(){return{...this.prices}}isUsingMockData(){return this.useMockData}};ze=e.createContext(void 0);_e=({children:t})=>{const[s,r]=e.useState({selectedPair:"BTC-USD",prices:{},orderBooks:{},trades:{},positions:[],isConnected:!1,error:null}),a=e.useCallback(e=>{r(t=>({...t,selectedPair:e}))},[]),n=e.useCallback(()=>{r(e=>({...e,error:null})),Le.connect()},[]);e.useEffect(()=>{const e=e=>{r(t=>{const s={...t};switch(e.type){case"price_update":void 0!==e.price&&void 0!==e.change24h&&void 0!==e.volume24h&&void 0!==e.high24h&&void 0!==e.low24h&&(s.prices={...t.prices,[e.pair]:{price:e.price,change24h:e.change24h,volume24h:e.volume24h,high24h:e.high24h,low24h:e.low24h}});break;case"orderbook":e.bids&&e.asks&&(s.orderBooks={...t.orderBooks,[e.pair]:{bids:e.bids.map((t,s)=>({price:t[0],size:t[1],total:e.bids.slice(0,s+1).reduce((e,t)=>e+t[1],0)})),asks:e.asks.map((t,s)=>({price:t[0],size:t[1],total:e.asks.slice(0,s+1).reduce((e,t)=>e+t[1],0)}))}});break;case"trade":if(e.id&&void 0!==e.price&&void 0!==e.size&&e.side&&void 0!==e.timestamp){const r=t.trades[e.pair]||[];s.trades={...t.trades,[e.pair]:[{id:e.id,pair:e.pair,price:e.price,size:e.size,side:e.side,timestamp:e.timestamp},...r.slice(0,99)]}}break;case"position_update":if(void 0!==e.size&&void 0!==e.entryPrice&&void 0!==e.currentPrice&&void 0!==e.pnl&&void 0!==e.pnlPercent){const r=t.positions.find(t=>t.pair===e.pair);s.positions=r?t.positions.map(t=>t.pair===e.pair?{...t,size:e.size,entryPrice:e.entryPrice,currentPrice:e.currentPrice,pnl:e.pnl,pnlPercent:e.pnlPercent}:t):[...t.positions,{pair:e.pair,size:e.size,entryPrice:e.entryPrice,currentPrice:e.currentPrice,pnl:e.pnl,pnlPercent:e.pnlPercent}]}}return s})},t=()=>{r(e=>({...e,isConnected:!0,error:null}))},s=()=>{r(e=>({...e,isConnected:!1}))},a=e=>{r(t=>({...t,error:e.message,isConnected:!1}))};return Le.subscribe(e),Le.on("connect",t),Le.on("disconnect",s),Le.on("error",a),Le.connect(),()=>{Le.unsubscribe(e),Le.off("connect",t),Le.off("disconnect",s),Le.off("error",a),Le.disconnect()}},[]);const o={...s,selectPair:a,refreshData:n};return x.jsx(ze.Provider,{value:o,children:t})};$e=()=>{const t=e.useContext(ze);if(!t)throw new Error("useMarket must be used within MarketProvider");return t};He=e.createContext(void 0);Ge=({children:t})=>{const[s,r]=e.useState({openOrders:[],orderHistory:[],isSubmitting:!1}),a={...s,placeOrder:e.useCallback(async e=>{r(e=>({...e,isSubmitting:!0}));try{await new Promise(e=>setTimeout(e,500));const t={id:`order-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,pair:e.pair,type:e.type,side:e.side,size:e.size,price:e.price,status:"market"===e.type?"filled":"open",filledSize:"market"===e.type?e.size:0,timestamp:Date.now()};return r(s=>({...s,isSubmitting:!1,openOrders:"limit"===e.type?[...s.openOrders,t]:s.openOrders,orderHistory:[t,...s.orderHistory]})),t}catch(t){throw r(e=>({...e,isSubmitting:!1})),t}},[]),cancelOrder:e.useCallback(async e=>{r(e=>({...e,isSubmitting:!0}));try{await new Promise(e=>setTimeout(e,300)),r(t=>{const s=t.openOrders.find(t=>t.id===e);if(!s)return{...t,isSubmitting:!1};const r={...s,status:"cancelled"};return{...t,isSubmitting:!1,openOrders:t.openOrders.filter(t=>t.id!==e),orderHistory:[r,...t.orderHistory]}})}catch(t){throw r(e=>({...e,isSubmitting:!1})),t}},[]),clearHistory:e.useCallback(()=>{r(e=>({...e,orderHistory:[]}))},[])};return x.jsx(He.Provider,{value:a,children:t})};We={};qe=function(e,t,s){let r=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),s=e?.nonce||e?.getAttribute("nonce");r=Promise.allSettled(t.map(e=>{if((e=function(e){return"/akau/"+e}(e))in We)return;We[e]=!0;const t=e.endsWith(".css"),r=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${r}`))return;const a=document.createElement("link");return a.rel=t?"stylesheet":"modulepreload",t||(a.as="script"),a.crossOrigin="",a.href=e,s&&a.setAttribute("nonce",s),document.head.appendChild(a),t?new Promise((t,s)=>{a.addEventListener("load",t),a.addEventListener("error",()=>s(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function a(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return r.then(t=>{for(const e of t||[])"rejected"===e.status&&a(e.reason);return e().catch(a)})};class Ve{config;walletManager=null;walletState=null;listeners=new Set;isInitialized=!1;constructor(e){this.config={useMockMode:!0,...e}}subscribe(e){return this.listeners.add(e),()=>this.listeners.delete(e)}emit(e){this.listeners.forEach(t=>t(e))}async createWallet(e){if(this.config.useMockMode)return this.createMockWallet(e);try{const t=await qe(()=>import("./index-C0LKi7VS.js").then(async m=>{await m.__tla;return m}),__vite__mapDeps([0,1])),{WalletManager:s}=t,r=t.createWallet,a=await r(this.config.network,e);return this.walletManager=new s({xpub_van:a.account_xpub_vanilla,xpub_col:a.account_xpub_colored,master_fingerprint:a.master_fingerprint,mnemonic:a.mnemonic,network:this.config.network,rgb_node_endpoint:this.config.rgbNodeEndpoint}),await this.walletManager.registerWallet(),this.walletState={descriptor:a.account_xpub_vanilla,publicKey:a.master_fingerprint,network:this.config.network,assets:[],lastSync:Date.now()},this.isInitialized=!0,this.emit({type:"wallet_created",wallet:this.walletState}),this.walletState}catch(t){const e=t instanceof Error?t:new Error(String(t));throw this.emit({type:"error",error:e}),e}}async issueRGB20(e){if(this.config.useMockMode)return this.issueMockAsset("RGB20",e);if(!this.walletManager)throw new Error("Wallet not initialized");try{const t=await this.walletManager.issueAssetNia({ticker:e.ticker,name:e.name,amounts:[Number(e.amount)],precision:e.precision}),s={contractId:t.asset?.assetId||`rgb:${Date.now()}`,schema:"RGB20",ticker:e.ticker,name:e.name,precision:e.precision,balance:e.amount,metadata:e.metadata||{},issuer:this.walletState?.publicKey||"",timestamp:Date.now()};return this.walletState&&(this.walletState.assets.push(s),this.walletState.lastSync=Date.now()),this.emit({type:"asset_issued",asset:s}),s}catch(t){const e=t instanceof Error?t:new Error(String(t));throw this.emit({type:"error",error:e}),e}}async getAssetBalance(e){if(this.config.useMockMode)return this.getMockBalance(e);if(!this.walletManager)throw new Error("Wallet not initialized");try{const t=await this.walletManager.getAssetBalance(e),s=BigInt(t.spendable||0);return this.emit({type:"balance_updated",assetId:e,balance:s}),s}catch(t){const e=t instanceof Error?t:new Error(String(t));throw this.emit({type:"error",error:e}),e}}async listAssets(){if(this.config.useMockMode)return this.walletState?.assets||[];if(!this.walletManager)throw new Error("Wallet not initialized");try{const e=await this.walletManager.listAssets();return e.nia?.map(e=>({contractId:e.assetId,schema:"RGB20",ticker:e.ticker,name:e.name,precision:e.precision,balance:BigInt(e.balance?.spendable||0),metadata:{},issuer:e.issuedSupply?"self":"other",timestamp:Date.now()}))||[]}catch(e){const t=e instanceof Error?e:new Error(String(e));throw this.emit({type:"error",error:t}),t}}async transfer(e){if(this.config.useMockMode)return this.createMockTransfer(e);if(!this.walletManager)throw new Error("Wallet not initialized");try{const t=await this.walletManager.sendBegin({asset_id:e.assetId,amount:Number(e.amount),recipient_id:e.recipient,fee_rate:e.feeRate||1}),s=this.walletManager.signPsbt(t),r=await this.walletManager.sendEnd({signed_psbt:s}),a={txid:r.txid||`tx_${Date.now()}`,assetId:e.assetId,amount:e.amount,sender:this.walletState?.publicKey||"",recipient:e.recipient,psbt:s,consignment:r.consignment||"",status:"pending",timestamp:Date.now()};return this.emit({type:"transfer_created",transaction:a}),a}catch(t){const e=t instanceof Error?t:new Error(String(t));throw this.emit({type:"error",error:e}),e}}async createReceiveInvoice(e){if(this.config.useMockMode)return`rgb:mock_invoice_${Date.now()}`;if(!this.walletManager)throw new Error("Wallet not initialized");try{return(await this.walletManager.receiveAsset(e)).recipient_id}catch(t){const e=t instanceof Error?t:new Error(String(t));throw this.emit({type:"error",error:e}),e}}async getBitcoinAddress(){if(this.config.useMockMode)return"tb1qmock_bitcoin_address_for_development";if(!this.walletManager)throw new Error("Wallet not initialized");try{return await this.walletManager.getAddress()}catch(e){const t=e instanceof Error?e:new Error(String(e));throw this.emit({type:"error",error:t}),t}}async getBitcoinBalance(){if(this.config.useMockMode)return{confirmed:1e5,unconfirmed:0};if(!this.walletManager)throw new Error("Wallet not initialized");try{return await this.walletManager.getBtcBalance()}catch(e){const t=e instanceof Error?e:new Error(String(e));throw this.emit({type:"error",error:t}),t}}async createBackup(e){if(this.config.useMockMode)return JSON.stringify({encrypted:!0,mock:!0,timestamp:Date.now()});if(!this.walletManager)throw new Error("Wallet not initialized");try{return await this.walletManager.createBackup(e)}catch(t){const e=t instanceof Error?t:new Error(String(t));throw this.emit({type:"error",error:e}),e}}async restoreFromBackup(e,t){if(this.config.useMockMode)return this.createMockWallet("restored_mock_mnemonic");try{const s=await qe(()=>import("./index-C0LKi7VS.js").then(async m=>{await m.__tla;return m}),__vite__mapDeps([0,1])),{WalletManager:r}=s;return this.walletManager=new r({network:this.config.network,rgb_node_endpoint:this.config.rgbNodeEndpoint}),"function"==typeof this.walletManager.restoreFromBackup&&await this.walletManager.restoreFromBackup(e,t),this.walletState={descriptor:"restored",publicKey:"restored",network:this.config.network,assets:[],lastSync:Date.now()},this.isInitialized=!0,this.emit({type:"wallet_restored",wallet:this.walletState}),this.walletState}catch(s){const e=s instanceof Error?s:new Error(String(s));throw this.emit({type:"error",error:e}),e}}getWalletState(){return this.walletState}isMockMode(){return this.config.useMockMode||!1}dispose(){this.walletManager=null,this.walletState=null,this.isInitialized=!1,this.listeners.clear()}async createMockWallet(e){return await new Promise(e=>setTimeout(e,500)),this.walletState={descriptor:"wpkh([mock_fingerprint/84'/1'/0']tpub_mock_descriptor)",publicKey:"mock_public_key_"+e.split(" ")[0],network:this.config.network,assets:[],lastSync:Date.now()},this.isInitialized=!0,this.emit({type:"wallet_created",wallet:this.walletState}),this.walletState}async issueMockAsset(e,t){await new Promise(e=>setTimeout(e,300));const s={contractId:`rgb:mock_${e.toLowerCase()}_${Date.now()}`,schema:e,ticker:t.ticker,name:t.name,precision:t.precision,balance:t.amount,metadata:t.metadata||{},issuer:this.walletState?.publicKey||"mock_issuer",timestamp:Date.now()};return this.walletState&&(this.walletState.assets.push(s),this.walletState.lastSync=Date.now()),this.emit({type:"asset_issued",asset:s}),s}async getMockBalance(e){const t=this.walletState?.assets.find(t=>t.contractId===e);return t?.balance||0n}async createMockTransfer(e){await new Promise(e=>setTimeout(e,400));const t={txid:`mock_tx_${Date.now()}`,assetId:e.assetId,amount:e.amount,sender:this.walletState?.publicKey||"mock_sender",recipient:e.recipient,psbt:"mock_psbt_base64",consignment:"mock_consignment_base64",status:"pending",timestamp:Date.now()},s=this.walletState?.assets.find(t=>t.contractId===e.assetId);return s&&(s.balance-=e.amount),this.emit({type:"transfer_created",transaction:t}),t}}class Ye{rgbService;constructor(e){this.rgbService=e}async issueCarbonCredits(e){const t=`CC-${e.community.communityId.substring(0,4).toUpperCase()}`,s={type:"environmental_credit",standard:"carbon_credit",carbonTonnes:e.carbonTonnes,communityId:e.community.communityId,communityName:e.community.communityName,projectDescription:e.project.projectDescription,verificationProof:e.verification.verificationReportHash||e.verification.verificationReportUrl,culturalCoBenefits:e.culturalCoBenefits,geographicCoordinates:e.project.geographicCoordinates,validUntil:e.validUntil?.toISOString(),issuedAt:(new Date).toISOString(),vintage:e.vintage,verifier:e.verification.verifierOrganization,methodology:e.verification.methodology,verificationDate:e.verification.verificationDate.toISOString()},r=BigInt(Math.floor(1e3*e.carbonTonnes));return await this.rgbService.issueRGB20({ticker:t,name:`${e.community.communityName} Carbon Credit ${e.vintage}`,amount:r,precision:3,metadata:s})}async issueBiodiversityCredits(e){const t=`BD-${e.community.communityId.substring(0,4).toUpperCase()}`,s={type:"environmental_credit",standard:"biodiversity_credit",communityId:e.community.communityId,communityName:e.community.communityName,projectDescription:e.project.projectDescription,verificationProof:e.verification.verificationReportHash,geographicCoordinates:e.project.geographicCoordinates,issuedAt:(new Date).toISOString(),speciesProtected:e.speciesProtected,habitatHectares:e.habitatHectares,biodiversityScore:e.biodiversityScore,verifier:e.verification.verifierOrganization,methodology:e.verification.methodology},r=BigInt(Math.floor(100*e.habitatHectares));return await this.rgbService.issueRGB20({ticker:t,name:`${e.community.communityName} Biodiversity Credit`,amount:r,precision:2,metadata:s})}async issueCommunityBenefitToken(e,t){const s=`CB-${e.communityId.substring(0,4).toUpperCase()}`,r={type:"community_token",communityId:e.communityId,communityName:e.communityName,issuedAt:(new Date).toISOString(),purpose:"community_benefit_distribution"};return await this.rgbService.issueRGB20({ticker:s,name:`${e.communityName} Community Benefit Token`,amount:t,precision:8,metadata:r})}async getEnvironmentalAssets(){return(await this.rgbService.listAssets()).filter(e=>"environmental_credit"===e.metadata?.type||"community_token"===e.metadata?.type)}async getCarbonBalance(e){const t=await this.rgbService.getAssetBalance(e);return Number(t)/1e3}async transferCarbonCredits(e){const t=BigInt(Math.floor(1e3*e.tonnes)),s=e.communityBenefitPercent??25,r=e.tonnes*(s/100);return{transfer:await this.rgbService.transfer({assetId:e.assetId,amount:t,recipient:e.recipient}),communityBenefit:r}}async verifyTokenAuthenticity(e){const t=(await this.rgbService.listAssets()).find(t=>t.contractId===e);if(!t)return{isValid:!1,metadata:null,verificationDetails:"Asset not found in wallet"};const s=!!(t.metadata?.type&&t.metadata?.communityId&&t.metadata?.verificationProof);return{isValid:s,metadata:t.metadata,verificationDetails:s?`Verified: ${t.metadata?.communityName} - ${t.metadata?.standard||t.metadata?.type}`:"Missing required verification metadata"}}}const Ke=e.createContext(null);function Je({children:t,config:s}){const[r]=e.useState(()=>function(e){return new Ve({network:"regtest",rgbNodeEndpoint:"http://127.0.0.1:8000",useMockMode:!0,...e})}({network:s?.network||"regtest",rgbNodeEndpoint:s?.rgbNodeEndpoint||"http://127.0.0.1:8000",useMockMode:s?.useMockMode??!0})),[a,n]=e.useState(null),[o,i]=e.useState("disconnected"),[l,c]=e.useState(null),[d,m]=e.useState(null),[h,u]=e.useState([]),[p,g]=e.useState([]),[b,v]=e.useState({confirmed:0,unconfirmed:0});e.useEffect(()=>{const e=r.subscribe(e=>{switch(e.type){case"wallet_created":case"wallet_restored":m(e.wallet),i("connected"),c(null),n(function(e){return new Ye(e)}(r));break;case"asset_issued":u(t=>[...t,e.asset]);break;case"transfer_created":g(t=>[...t,e.transaction]);break;case"balance_updated":u(t=>t.map(t=>t.contractId===e.assetId?{...t,balance:e.balance}:t));break;case"error":c(e.error.message),"connecting"===o&&i("error")}});return()=>{e(),r.dispose()}},[r]);const f=e.useCallback(async e=>{i("connecting"),c(null);try{await r.createWallet(e),await C(),await P()}catch(t){throw i("error"),c(t instanceof Error?t.message:"Failed to create wallet"),t}},[r]),y=e.useCallback(async(e,t)=>{i("connecting"),c(null);try{await r.restoreFromBackup(e,t),await C(),await P()}catch(s){throw i("error"),c(s instanceof Error?s.message:"Failed to restore wallet"),s}},[r]),j=e.useCallback(()=>{r.dispose(),i("disconnected"),m(null),u([]),g([]),v({confirmed:0,unconfirmed:0}),n(null)},[r]),N=e.useCallback(async e=>await r.issueRGB20(e),[r]),w=e.useCallback(async e=>await r.transfer(e),[r]),S=e.useCallback(async e=>await r.createReceiveInvoice(e),[r]),k=e.useCallback(async e=>await r.createBackup(e),[r]),C=e.useCallback(async()=>{try{const e=await r.listAssets();u(e)}catch(e){console.error("Failed to refresh assets:",e)}},[r]),P=e.useCallback(async()=>{try{const e=await r.getBitcoinBalance();v(e)}catch(e){console.error("Failed to refresh balance:",e)}},[r]),E={status:o,error:l,wallet:d,assets:h,transactions:p,btcBalance:b,isMockMode:r.isMockMode(),createWallet:f,restoreWallet:y,disconnect:j,issueAsset:N,transfer:w,createInvoice:S,createBackup:k,refreshAssets:C,refreshBalance:P,environmentalService:a};return x.jsx(Ke.Provider,{value:E,children:t})}function Xe(){const[t,s]=e.useState(!1),[r,a]=e.useState(null),[n,o]=e.useState(!1),[i,l]=e.useState(!1),[c,d]=e.useState(!1);e.useEffect(()=>{o(!!window.nostr)},[]);const m=()=>{i?(s(!0),d(!1)):alert("This platform is for wholesale clients only (Australian regulatory requirement). Please confirm you meet this criteria.")},h=()=>{s(!1),a(null),l(!1)};return c&&r?x.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",role:"dialog","aria-modal":"true","aria-labelledby":"wholesale-title",children:x.jsxs("div",{className:"card max-w-md mx-4",children:[x.jsx("h2",{id:"wholesale-title",className:"text-xl font-semibold mb-4",children:"Wholesale Client Confirmation"}),x.jsx("p",{className:"text-[var(--color-text-secondary)] mb-4",children:"Under Australian law (Corporations Act 2001), this platform is only available to wholesale clients. Wholesale clients include:"}),x.jsxs("ul",{className:"list-disc list-inside text-sm text-[var(--color-text-secondary)] mb-6 space-y-1",children:[x.jsx("li",{children:"Professional investors"}),x.jsx("li",{children:"Entities with net assets of at least $2.5M or gross income of at least $250K"}),x.jsx("li",{children:"Persons investing at least $500K"}),x.jsx("li",{children:"Sophisticated investors (as certified by an accountant)"})]}),x.jsxs("label",{className:"flex items-start gap-3 mb-6 cursor-pointer",children:[x.jsx("input",{type:"checkbox",checked:i,onChange:e=>l(e.target.checked),className:"mt-1 w-4 h-4","aria-describedby":"wholesale-description"}),x.jsx("span",{id:"wholesale-description",className:"text-sm",children:"I confirm that I am a wholesale client as defined under Section 761G of the Corporations Act 2001 (Cth)"})]}),x.jsxs("div",{className:"flex gap-3",children:[x.jsx("button",{onClick:m,disabled:!i,className:"btn-primary flex-1",children:"Confirm & Connect"}),x.jsx("button",{onClick:()=>{d(!1),a(null)},className:"btn-secondary",children:"Cancel"})]})]})}):t&&r?x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-[var(--color-bg-tertiary)] rounded-md",children:[x.jsx("div",{className:"w-2 h-2 rounded-full bg-[var(--color-success)]",role:"status","aria-label":"Connected"}),x.jsx("span",{className:"text-sm font-mono",title:r,children:(u=r,`${u.slice(0,8)}...${u.slice(-8)}`)})]}),x.jsx("button",{onClick:h,className:"btn-secondary text-sm","aria-label":"Disconnect from Nostr",children:"Disconnect"})]}):x.jsxs("div",{children:[x.jsx("button",{onClick:async()=>{if(window.nostr)try{const e=await window.nostr.getPublicKey();a(e),d(!0)}catch(e){console.error("Failed to connect to Nostr:",e),alert("Failed to connect. Please check your Nostr extension settings.")}else alert("Nostr extension (NIP-07) not detected. Please install Alby, nos2x, or similar.")},disabled:!n,className:"btn-primary","aria-label":"Connect with Nostr",children:n?"Connect with Nostr":"Nostr Extension Required"}),!n&&x.jsx("p",{className:"text-xs text-[var(--color-error)] mt-1",children:"Install Alby or nos2x extension"})]});var u}const Qe=({name:e,size:t=24,className:s=""})=>x.jsx("img",{src:`/akau/icons/akau/icon-${e}.png`,alt:e,width:t,height:t,className:`inline-block ${s}`,style:{imageRendering:"crisp-edges"}});function Ze(){const t=le(),[s,r]=e.useState(!1),[a,n]=e.useState(!1);e.useEffect(()=>{n(!!window.nostr);const e=localStorage.getItem("nostr_session");if(e)try{JSON.parse(e).expires_at>Date.now()&&r(!0)}catch{}const t=e=>{"nostr_session"===e.key&&r(!!e.newValue)};return window.addEventListener("storage",t),()=>window.removeEventListener("storage",t)},[]);const o={nostr:s,neural:!1,exchange:!1},i=e=>t.pathname===e,l=({connected:e,label:t})=>x.jsxs("div",{className:"flex items-center gap-2",title:`${t}: ${e?"Connected":"Disconnected"}`,children:[x.jsx("div",{className:"w-2 h-2 rounded-full "+(e?"bg-[var(--color-success)]":"bg-[var(--color-error)]"),role:"status","aria-label":`${t} ${e?"connected":"disconnected"}`}),x.jsx("span",{className:"text-sm text-[var(--color-text-secondary)] hidden md:inline",children:t})]});return x.jsx("header",{className:"bg-[var(--color-bg-secondary)] border-b border-[var(--color-border)] px-6 py-4",children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center gap-6",children:[x.jsxs(Te,{to:"/",className:"flex items-center gap-3",children:[x.jsx("img",{src:"/akau/icons/akau/icon-logo-akau.png",alt:"AKAU Global",width:48,height:48,className:"inline-block",style:{imageRendering:"crisp-edges"}}),x.jsx("h1",{className:"text-xl font-semibold text-gradient-teal",children:"AKAU Global"})]}),x.jsxs("nav",{className:"hidden md:flex items-center gap-1",role:"navigation","aria-label":"Main navigation",children:[x.jsxs(Te,{to:"/",className:"flex items-center gap-2 px-3 py-2 rounded-md transition-colors "+(i("/")?"bg-[var(--color-bg-tertiary)] text-[var(--color-text-primary)]":"text-[var(--color-text-secondary)] hover:bg-[var(--color-bg-tertiary)] hover:text-[var(--color-text-primary)]"),children:[x.jsx(Qe,{name:"dashboard",size:20}),x.jsx("span",{children:"Dashboard"})]}),x.jsxs(Te,{to:"/trade",className:"flex items-center gap-2 px-3 py-2 rounded-md transition-colors "+(i("/trade")?"bg-[var(--color-bg-tertiary)] text-[var(--color-text-primary)]":"text-[var(--color-text-secondary)] hover:bg-[var(--color-bg-tertiary)] hover:text-[var(--color-text-primary)]"),children:[x.jsx(Qe,{name:"trade-exchange",size:20}),x.jsx("span",{children:"Trade"})]})]})]}),x.jsxs("div",{className:"flex items-center gap-6",children:[x.jsx("div",{className:"hidden lg:flex items-center gap-4 px-4 py-2 bg-[var(--color-bg-tertiary)] rounded border border-[var(--color-border)]",children:x.jsxs("div",{className:"text-right",children:[x.jsx("div",{className:"text-xs text-[var(--color-text-secondary)]",children:"Total Balance"}),x.jsx("div",{className:"text-sm font-mono font-semibold text-[var(--color-sky-blue)]",children:o.nostr?"$0.00":"â€”"})]})}),x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx(l,{connected:o.nostr,label:"Nostr"}),x.jsx(l,{connected:o.neural,label:"Neural"}),x.jsx(l,{connected:o.exchange,label:"Exchange"})]}),x.jsx(Xe,{})]})]})})}const et=({name:e,size:t=24,className:s=""})=>x.jsx("img",{src:`/akau/icons/akau/icon-${e}.png`,alt:e,width:t,height:t,className:`inline-block ${s}`,style:{imageRendering:"crisp-edges"}});function tt(){const e=le(),{prices:t,isConnected:s}=$e(),r=t=>e.pathname===t,a=({to:e,label:t,iconName:s})=>x.jsxs(Te,{to:e,className:"flex items-center gap-3 px-4 py-3 rounded-md transition-colors "+(r(e)?"bg-[var(--color-bg-tertiary)] text-[var(--color-text-primary)]":"text-[var(--color-text-secondary)] hover:bg-[var(--color-bg-tertiary)] hover:text-[var(--color-text-primary)]"),"aria-current":r(e)?"page":void 0,children:[x.jsx(et,{name:s,size:20}),x.jsx("span",{className:"font-medium",children:t})]});return x.jsxs("aside",{className:"w-64 bg-[var(--color-bg-secondary)] border-r border-[var(--color-border)] p-4 overflow-y-auto",role:"navigation","aria-label":"Sidebar navigation",children:[x.jsxs("nav",{className:"space-y-2 mb-6",children:[x.jsx(a,{to:"/",label:"Dashboard",iconName:"dashboard"}),x.jsx(a,{to:"/trade",label:"Trade",iconName:"trade-exchange"}),x.jsx(a,{to:"/assets",label:"Assets",iconName:"market"}),x.jsx(a,{to:"/calculator",label:"Calculator",iconName:"asset-carbon"})]}),x.jsxs("div",{className:"card mb-4",children:[x.jsxs("div",{className:"flex items-center justify-between mb-3",children:[x.jsxs("h3",{className:"text-sm font-semibold text-[var(--color-text-secondary)] flex items-center gap-2",children:[x.jsx(et,{name:"watchlist",size:16}),"Watchlist"]}),x.jsx("button",{className:"text-xs text-[var(--color-sky-blue)] hover:underline",children:"Edit"})]}),x.jsx("div",{className:"space-y-2",children:[{symbol:"BTC",pair:"BTC-USD"},{symbol:"ETH",pair:"ETH-USD"},{symbol:"RGB",pair:"BTC-RGB"}].map(({symbol:e,pair:s})=>{const r=t[s];return x.jsxs("div",{className:"flex justify-between items-center py-1.5 px-2 bg-[var(--color-bg-tertiary)] rounded hover:bg-[var(--color-bg-primary)] transition-colors cursor-pointer",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-sm font-semibold",children:e}),x.jsx("div",{className:"text-xs text-[var(--color-text-secondary)]",children:"USD"})]}),x.jsx("div",{className:"text-right",children:r?x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"text-sm font-mono",children:["$",r.price.toLocaleString("en-AU",{minimumFractionDigits:0,maximumFractionDigits:0})]}),x.jsxs("div",{className:"text-xs "+(r.change24h>=0?"text-forest-600":"text-terracotta-600"),children:[r.change24h>=0?"+":"",r.change24h.toFixed(1),"%"]})]}):x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-sm font-mono text-[var(--color-text-secondary)]",children:"â€”"}),x.jsx("div",{className:"text-xs text-[var(--color-text-secondary)]",children:"â€”"})]})})]},e)})})]}),x.jsxs("div",{className:"card mb-4",children:[x.jsxs("h3",{className:"text-sm font-semibold mb-3 text-[var(--color-text-secondary)] flex items-center gap-2",children:[x.jsx(et,{name:"portfolio",size:16}),"Portfolio"]}),x.jsxs("div",{className:"space-y-2",children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"text-sm",children:"Total Value"}),x.jsx("span",{className:"font-semibold text-[var(--color-sky-blue)]",children:"â€”"})]}),x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"text-sm",children:"24h Change"}),x.jsx("span",{className:"font-semibold text-[var(--color-text-secondary)]",children:"â€”"})]}),x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"text-sm",children:"Positions"}),x.jsx("span",{className:"font-semibold",children:"0"})]})]})]}),x.jsxs("div",{className:"card mb-4",children:[x.jsxs("h3",{className:"text-sm font-semibold mb-3 text-[var(--color-text-secondary)] flex items-center gap-2",children:[x.jsx(et,{name:"trade-exchange",size:16}),"Quick Trade"]}),x.jsxs("div",{className:"space-y-2",children:[x.jsxs("button",{className:"w-full py-2 bg-[var(--color-success)] hover:bg-[var(--color-success)]/90 text-white rounded text-sm font-semibold transition-colors flex items-center justify-center gap-2",children:[x.jsx(et,{name:"buy",size:16}),"Buy"]}),x.jsxs("button",{className:"w-full py-2 bg-[var(--color-error)] hover:bg-[var(--color-error)]/90 text-white rounded text-sm font-semibold transition-colors flex items-center justify-center gap-2",children:[x.jsx(et,{name:"sell",size:16}),"Sell"]})]})]}),x.jsxs("div",{className:"card",children:[x.jsxs("h3",{className:"text-sm font-semibold mb-3 text-[var(--color-text-secondary)] flex items-center gap-2",children:[x.jsx(et,{name:"neural-brain",size:16}),"Neural Engine"]}),x.jsxs("div",{className:"space-y-2",children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"text-sm",children:"Status"}),x.jsxs("span",{className:"inline-flex items-center gap-1",children:[x.jsx("span",{className:"w-2 h-2 rounded-full bg-[var(--color-text-secondary)]",role:"status","aria-label":"Inactive"}),x.jsx("span",{className:"text-sm text-[var(--color-text-secondary)]",children:"Inactive"})]})]}),x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"text-sm",children:"Signals"}),x.jsx("span",{className:"font-semibold",children:"0"})]}),x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"text-sm",children:"Accuracy"}),x.jsx("span",{className:"font-semibold text-[var(--color-text-secondary)]",children:"â€”"})]})]})]}),x.jsxs("div",{className:"mt-6 p-3 bg-[var(--color-bg-tertiary)] rounded-md text-xs text-[var(--color-text-secondary)]",children:[x.jsx("p",{className:"mb-2",children:x.jsx("strong",{className:"text-gradient-teal",children:"AKAU Global"})}),x.jsx("p",{children:"Neural-powered trading with environmental tokens and community focus"})]})]})}const st=({name:e,size:t=24,className:s=""})=>x.jsx("img",{src:`/akau/icons/akau/icon-${e}.png`,alt:e,width:t,height:t,className:`inline-block ${s}`,style:{imageRendering:"crisp-edges"}}),rt=()=>{const t=e.useRef(null);return e.useEffect(()=>{const e=t.current;if(!e)return;const s=e.getContext("2d");if(!s)return;const r=e.width,a=e.height,n=120,o=(e,t,s)=>{const r=[s];for(let o=1;o<n;o++){const s=(Math.random()-.42)*e-t;r.push(Math.max(38,Math.min(a-15,r[o-1]+s)))}return r},i=o(9,.35,.75*a),l=o(7,.28,.65*a),c=o(8,.32,.55*a);s.clearRect(0,0,r,a),s.strokeStyle="rgba(77, 184, 206, 0.08)",s.lineWidth=1;for(let t=48;t<a;t+=40)s.beginPath(),s.moveTo(0,t),s.lineTo(r,t),s.stroke();const d=(e,t)=>{const n=s.createLinearGradient(0,0,0,a);n.addColorStop(0,t.replace(")",", 0.15)").replace("rgb","rgba")),n.addColorStop(1,"transparent"),s.beginPath(),s.moveTo(0,e[0]);for(let a=1;a<e.length;a++){const t=a/119*r;s.lineTo(t,e[a])}s.lineTo(r,a),s.lineTo(0,a),s.closePath(),s.fillStyle=n,s.fill()},m=(e,t)=>{s.shadowColor=t,s.shadowBlur=12,s.beginPath(),s.strokeStyle=t,s.lineWidth=2.5,s.lineCap="round",s.lineJoin="round";for(let o=0;o<e.length;o++){const t=o/119*r,a=e[o];0===o?s.moveTo(t,a):s.lineTo(t,a)}s.stroke(),s.shadowBlur=0;const a=1*r,n=e[e.length-1];s.beginPath(),s.arc(a-2,n,4,0,2*Math.PI),s.fillStyle=t,s.fill(),s.beginPath(),s.arc(a-2,n,6,0,2*Math.PI),s.strokeStyle=t,s.lineWidth=1.5,s.stroke()};d(i,"rgb(109, 196, 217)"),d(l,"rgb(141, 216, 232)"),d(c,"rgb(77, 184, 206)"),m(i,"#6DC4D9"),m(l,"#8DD8E8"),m(c,"#4DB8CE")},[]),x.jsxs("div",{className:"relative",children:[x.jsxs("div",{className:"flex items-center justify-center gap-4 mb-2 text-xs",children:[x.jsxs("span",{className:"flex items-center gap-1.5",children:[x.jsx("span",{className:"w-3 h-0.5 rounded bg-[#6DC4D9]"}),x.jsx("span",{className:"text-[#6DC4D9]",children:"credit"})]}),x.jsxs("span",{className:"flex items-center gap-1.5",children:[x.jsx("span",{className:"w-3 h-0.5 rounded bg-[#8DD8E8]"}),x.jsx("span",{className:"text-[#8DD8E8]",children:"company"})]}),x.jsxs("span",{className:"flex items-center gap-1.5",children:[x.jsx("span",{className:"w-3 h-0.5 rounded bg-[#4DB8CE]"}),x.jsx("span",{className:"text-[#4DB8CE]",children:"community"})]})]}),x.jsx("canvas",{ref:t,width:400,height:160,className:"w-full h-40"})]})};function at(){const{prices:e,positions:t,isConnected:s}=$e(),r=t.reduce((e,t)=>e+t.currentPrice*t.size,0),a=t.reduce((e,t)=>e+t.pnl,0),n=r>0?a/r*100:0,o=t.length;return x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("h1",{className:"text-3xl font-bold text-gradient-teal",children:"Dashboard"}),x.jsx("div",{className:"text-sm text-muted-foreground",children:(new Date).toLocaleDateString("en-AU",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 tile-stagger",children:[x.jsxs("div",{className:"card-glass tile-pop-in hover:border-[var(--color-sky-blue)]/50 transition-colors",children:[x.jsxs("div",{className:"flex items-start justify-between mb-2",children:[x.jsx("h3",{className:"text-sm font-semibold text-[var(--color-text-secondary)]",children:"Portfolio Value"}),x.jsx(st,{name:"portfolio",size:24})]}),s?x.jsxs(x.Fragment,{children:[x.jsxs("p",{className:"text-3xl font-bold text-[var(--color-sky-blue)] mb-1",children:["$",r.toLocaleString("en-AU",{minimumFractionDigits:2})]}),x.jsx("p",{className:"text-sm text-[var(--color-text-secondary)]",children:"AUD"})]}):x.jsxs(x.Fragment,{children:[x.jsx("p",{className:"text-3xl font-bold text-[var(--color-text-secondary)] mb-1",children:"â€”"}),x.jsx("p",{className:"text-sm text-[var(--color-text-secondary)]",children:"Connect to view"})]})]}),x.jsxs("div",{className:"card-glass tile-pop-in hover:border-[var(--color-sky-blue)]/50 transition-colors",children:[x.jsxs("div",{className:"flex items-start justify-between mb-2",children:[x.jsx("h3",{className:"text-sm font-semibold text-[var(--color-text-secondary)]",children:"24h P&L"}),x.jsx(st,{name:"chart-line",size:24})]}),s?x.jsxs(x.Fragment,{children:[x.jsxs("p",{className:"text-3xl font-bold mb-1 "+(a>=0?"text-[var(--color-success)]":"text-[var(--color-error)]"),children:[a>=0?"+":"","$",Math.abs(a).toLocaleString("en-AU",{minimumFractionDigits:2})]}),x.jsxs("p",{className:"text-sm "+(n>=0?"text-[var(--color-success)]":"text-[var(--color-error)]"),children:[n>=0?"+":"",n.toFixed(2),"%"]})]}):x.jsxs(x.Fragment,{children:[x.jsx("p",{className:"text-3xl font-bold text-[var(--color-text-secondary)] mb-1",children:"â€”"}),x.jsx("p",{className:"text-sm text-[var(--color-text-secondary)]",children:"Connect to view"})]})]}),x.jsxs("div",{className:"card-glass tile-pop-in hover:border-[var(--color-sky-blue)]/50 transition-colors",children:[x.jsxs("div",{className:"flex items-start justify-between mb-2",children:[x.jsx("h3",{className:"text-sm font-semibold text-[var(--color-text-secondary)]",children:"Active Positions"}),x.jsx(st,{name:"order-book-spread",size:24})]}),x.jsx("p",{className:"text-3xl font-bold mb-1",children:o}),x.jsx("p",{className:"text-sm text-[var(--color-text-secondary)]",children:0===o?"No open positions":"positions open"})]}),x.jsxs("div",{className:"card-glass tile-pop-in hover:border-[var(--color-sky-blue)]/50 transition-colors",children:[x.jsxs("div",{className:"flex items-start justify-between mb-2",children:[x.jsx("h3",{className:"text-sm font-semibold text-[var(--color-text-secondary)]",children:"Neural Signals"}),x.jsx(st,{name:"price-alert",size:24})]}),x.jsx("p",{className:"text-3xl font-bold mb-1",children:0}),x.jsx("p",{className:"text-sm text-[var(--color-text-secondary)]",children:"Engine inactive"})]})]}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 tile-stagger",children:[x.jsxs("div",{className:"card tile-pop-in section-fade-in section-delay-1",children:[x.jsxs("div",{className:"flex items-center justify-between mb-4",children:[x.jsx("h2",{className:"text-xl font-semibold",children:"Market Overview"}),x.jsx("button",{className:"text-sm text-[var(--color-sky-blue)] hover:underline",children:"View All"})]}),x.jsx("div",{className:"space-y-3",children:[{symbol:"BTC-USD",display:"BTC/USD"},{symbol:"ETH-USD",display:"ETH/USD"},{symbol:"BTC-RGB",display:"BTC/RGB"}].map(({symbol:t,display:s})=>{const r=e[t];return x.jsxs("div",{className:"group flex items-center justify-between p-3 bg-[var(--color-bg-tertiary)]/80 rounded-lg hover:bg-[var(--color-bg-tertiary)] transition-all duration-200 cursor-pointer border border-transparent hover:border-[var(--akau-teal-600)]/30 hover:shadow-md hover:shadow-[var(--akau-teal-500)]/5",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-[var(--akau-teal-500)] to-[var(--akau-cyan-500)] rounded-full flex items-center justify-center text-sm font-bold text-white shadow-sm group-hover:shadow-md group-hover:shadow-[var(--akau-teal-500)]/30 transition-shadow",children:s.split("/")[0].slice(0,1)}),x.jsxs("div",{children:[x.jsx("div",{className:"font-semibold",children:s}),x.jsx("div",{className:"text-xs text-[var(--color-text-secondary)]",children:"Spot"})]})]}),x.jsx("div",{className:"text-right",children:r?x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"font-mono font-semibold",children:["$",r.price.toLocaleString("en-AU",{minimumFractionDigits:2,maximumFractionDigits:2})]}),x.jsxs("div",{className:"text-xs "+(r.change24h>=0?"text-forest-600":"text-terracotta-600"),children:[r.change24h>=0?"+":"",r.change24h.toFixed(2),"%"]})]}):x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"font-mono font-semibold text-[var(--color-text-secondary)]",children:"Loading..."}),x.jsx("div",{className:"text-xs text-[var(--color-text-secondary)]",children:"Connecting"})]})})]},t)})})]}),x.jsxs("div",{className:"card tile-pop-in section-fade-in section-delay-2",children:[x.jsxs("div",{className:"flex items-center justify-between mb-4",children:[x.jsxs("h2",{className:"text-xl font-semibold flex items-center gap-2",children:[x.jsx(st,{name:"price-alert",size:24}),x.jsx("span",{children:"Neural Alerts"})]}),x.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-[var(--color-bg-tertiary)] rounded text-xs",children:[x.jsx("span",{className:"w-2 h-2 rounded-full bg-[var(--color-text-secondary)]"}),x.jsx("span",{children:"Inactive"})]})]}),x.jsx("div",{className:"h-64 flex items-center justify-center text-[var(--color-text-secondary)]",children:x.jsxs("div",{className:"text-center",children:[x.jsx(st,{name:"neural-brain",size:48,className:"mb-3 opacity-50"}),x.jsx("p",{className:"font-semibold mb-2",children:"Neural Engine Offline"}),x.jsx("p",{className:"text-sm mb-4",children:"Activate to receive AI-powered trading signals"}),x.jsx("button",{className:"btn-secondary text-sm",children:"Activate Neural Engine"})]})})]})]}),x.jsxs("div",{className:"card section-fade-in section-delay-2",children:[x.jsxs("div",{className:"flex items-center justify-between mb-4",children:[x.jsx("h2",{className:"text-xl font-semibold",children:"Recent Trades"}),x.jsx("button",{className:"text-sm text-[var(--color-sky-blue)] hover:underline",children:"View All"})]}),x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full text-sm",children:[x.jsx("thead",{className:"bg-[var(--color-bg-tertiary)] border-b border-[var(--color-border)]",children:x.jsxs("tr",{children:[x.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Time"}),x.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Symbol"}),x.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Type"}),x.jsx("th",{className:"px-4 py-3 text-right font-semibold",children:"Price"}),x.jsx("th",{className:"px-4 py-3 text-right font-semibold",children:"Amount"}),x.jsx("th",{className:"px-4 py-3 text-right font-semibold",children:"Total"}),x.jsx("th",{className:"px-4 py-3 text-right font-semibold",children:"Status"})]})}),x.jsx("tbody",{children:x.jsx("tr",{children:x.jsx("td",{colSpan:7,className:"px-4 py-8 text-center text-[var(--color-text-secondary)]",children:"No recent trades"})})})]})})]}),x.jsxs("div",{className:"card section-fade-in section-delay-3",children:[x.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[x.jsx(st,{name:"asset-lic",size:24}),x.jsx("span",{children:"Environmental Tokens"})]}),x.jsxs("div",{className:"text-[var(--color-text-secondary)]",children:[x.jsx("p",{className:"mb-4",children:"Support environmental and Indigenous community initiatives through tokenized carbon credits and regenerative projects."}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.jsxs("div",{className:"group p-4 bg-gradient-to-br from-[var(--color-bg-tertiary)]/60 to-[var(--color-bg-tertiary)]/30 backdrop-blur-sm rounded-lg hover:from-[var(--akau-teal-600)]/20 hover:to-transparent transition-all duration-300 cursor-pointer border border-[var(--color-border)]/30 hover:border-[var(--akau-teal-500)]/50 hover:shadow-lg hover:shadow-[var(--akau-teal-500)]/10",children:[x.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[x.jsx(st,{name:"asset-carbon",size:20,className:"opacity-70 group-hover:opacity-100 transition-opacity"}),x.jsx("h3",{className:"font-semibold text-[var(--akau-teal-300)] group-hover:text-[var(--akau-teal-200)] transition-colors",children:"Carbon Credits"})]}),x.jsx("p",{className:"text-sm mb-3 opacity-80",children:"Blue carbon offset tokens"}),x.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-[var(--color-border)]/20",children:[x.jsx("span",{className:"text-xs opacity-60",children:"Balance:"}),x.jsx("span",{className:"font-mono text-[var(--akau-cyan-400)]",children:"0 CCT"})]})]}),x.jsxs("div",{className:"p-4 bg-gradient-to-br from-[var(--color-bg-tertiary)]/60 to-[var(--color-bg-tertiary)]/30 backdrop-blur-sm rounded-lg border border-[var(--color-border)]/30",children:[x.jsx("h3",{className:"font-semibold mb-1 text-[var(--akau-teal-400)]",children:"Credit Growth"}),x.jsx(rt,{})]})]})]})]}),x.jsxs("div",{className:"card-glass border-primary/30",children:[x.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2 text-gradient-teal",children:[x.jsx(st,{name:"help",size:28}),x.jsx("span",{children:"About AKAU Global"})]}),x.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"An Environmental Carbon Exchange, where we lead the way in transforming the blue carbon credit market. Join us in creating sustainable solutions for a greener future."}),x.jsxs("div",{className:"flex flex-wrap gap-2",children:[x.jsx("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-primary/10 text-primary text-xs border border-primary/30 hover:bg-primary/20 hover:border-primary/50 transition-colors cursor-default",children:"Neural Trading"}),x.jsx("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-bullish/10 text-bullish text-xs border border-bullish/30 hover:bg-bullish/20 hover:border-bullish/50 transition-colors cursor-default",children:"Environmental Tokens"}),x.jsx("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-accent/10 text-accent text-xs border border-accent/30 hover:bg-accent/20 hover:border-accent/50 transition-colors cursor-default",children:"RGB Protocol"}),x.jsx("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-secondary/30 text-secondary-foreground text-xs border border-secondary hover:bg-secondary/50 transition-colors cursor-default",children:"Nostr Auth"})]})]}),x.jsxs("div",{className:"card-glass border-primary/30",children:[x.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2 text-gradient-teal",children:[x.jsx(st,{name:"neural-brain",size:28}),x.jsx("span",{children:"Platform Features"})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[x.jsxs("div",{className:"group p-3 bg-gradient-to-br from-primary/15 to-primary/5 rounded-lg border border-primary/30 hover:border-primary/50 transition-all duration-200 hover:shadow-lg hover:shadow-primary/10 cursor-pointer",children:[x.jsx("div",{className:"text-2xl font-bold text-primary group-hover:scale-105 transition-transform origin-left",children:"AI"}),x.jsx("div",{className:"text-xs text-muted-foreground",children:"Neural Trading Signals"})]}),x.jsxs("div",{className:"group p-3 bg-gradient-to-br from-bullish/15 to-bullish/5 rounded-lg border border-bullish/30 hover:border-bullish/50 transition-all duration-200 hover:shadow-lg hover:shadow-bullish/10 cursor-pointer",children:[x.jsx("div",{className:"text-2xl font-bold text-bullish group-hover:scale-105 transition-transform origin-left",children:"RGB"}),x.jsx("div",{className:"text-xs text-muted-foreground",children:"Smart Assets Protocol"})]}),x.jsxs("div",{className:"group p-3 bg-gradient-to-br from-accent/15 to-accent/5 rounded-lg border border-accent/30 hover:border-accent/50 transition-all duration-200 hover:shadow-lg hover:shadow-accent/10 cursor-pointer",children:[x.jsx("div",{className:"text-2xl font-bold text-accent group-hover:scale-105 transition-transform origin-left",children:"WASM"}),x.jsx("div",{className:"text-xs text-muted-foreground",children:"High-performance Engine"})]})]})]})]})}class nt{priceStates=new Map;baseVolatility=.02;basePrices={"BTC-RGB":45e3,"ETH-RGB":2500,"CARBON-RGB":10,"ENV-TOKEN":5};constructor(){Object.entries(this.basePrices).forEach(([e,t])=>{this.priceStates.set(e,{currentPrice:t,trend:0,volatility:this.baseVolatility,volume:this.getBaseVolume(e)})})}getBaseVolume(e){return{"BTC-RGB":100,"ETH-RGB":500,"CARBON-RGB":1e4,"ENV-TOKEN":5e3}[e]||1e3}generatePriceTick(e){const t=this.priceStates.get(e);if(!t)return this.basePrices[e]||100;const s=1/86400,r=t.trend*s,a=this.gaussianRandom()*t.volatility*Math.sqrt(s),n=t.currentPrice*(r+a);t.currentPrice+=n,t.currentPrice=Math.max(t.currentPrice,.5*this.basePrices[e]),t.currentPrice=Math.min(t.currentPrice,2*this.basePrices[e]),t.trend*=.999,Math.random()<.01&&(t.trend=.5*(Math.random()-.5));const o=1+10*Math.abs(n/t.currentPrice);return t.volume=this.getBaseVolume(e)*o*(.5+Math.random()),t.currentPrice}generateCandlestick(e,t=6e4){const s=this.priceStates.get(e);if(!s)return{timestamp:Date.now(),open:100,high:105,low:95,close:100,volume:1e3};const r=s.currentPrice;let a=r,n=r,o=0;const i=Math.floor(t/1e3);for(let c=0;c<i;c++){const t=this.generatePriceTick(e);a=Math.max(a,t),n=Math.min(n,t),o+=s.volume}const l=s.currentPrice;return{timestamp:Date.now(),open:r,high:a,low:n,close:l,volume:o/i}}generateHistoricalData(e,t,s=6e4){const r=[],a=Date.now();for(let n=t-1;n>=0;n--){const t=a-n*s,o=this.generateCandlestick(e,s);o.timestamp=t,r.push(o)}return r}gaussianRandom(){let e=0,t=0;for(;0===e;)e=Math.random();for(;0===t;)t=Math.random();return Math.sqrt(-2*Math.log(e))*Math.cos(2*Math.PI*t)}generateNewsEvent(){if(Math.random()>.01)return null;const e=[{title:"Major Carbon Credit Partnership Announced",sentiment:"positive",affectedPairs:["CARBON-RGB","ENV-TOKEN"]},{title:"Environmental Token Adoption Surges",sentiment:"positive",affectedPairs:["ENV-TOKEN"]},{title:"Regulatory Concerns Over Digital Assets",sentiment:"negative",affectedPairs:["BTC-RGB","ETH-RGB"]},{title:"Bitcoin Network Upgrade Completed",sentiment:"positive",affectedPairs:["BTC-RGB"]},{title:"Ethereum Staking Reaches New Milestone",sentiment:"positive",affectedPairs:["ETH-RGB"]},{title:"Market Volatility Increases Amid Economic Data",sentiment:"negative",affectedPairs:["BTC-RGB","ETH-RGB","CARBON-RGB","ENV-TOKEN"]}],t=e[Math.floor(Math.random()*e.length)],s=Math.random()<.2?"high":Math.random()<.5?"medium":"low";return t.affectedPairs.forEach(e=>{const r=this.priceStates.get(e);if(r){const e="high"===s?2:"medium"===s?1.5:1,a="positive"===t.sentiment?1:-1;r.trend+=.3*Math.random()*a*e,r.volatility=this.baseVolatility*(1+.5*e)}}),{id:Math.random().toString(36).substr(2,9),timestamp:Date.now(),title:t.title,impact:s,sentiment:t.sentiment,affectedPairs:t.affectedPairs}}getCurrentPrice(e){return this.priceStates.get(e)?.currentPrice||this.basePrices[e]||100}getSpread(e){return .001+.004*Math.random()}}class ot{dataGenerator;priceSubscribers=new Map;orderBookSubscribers=new Map;tradeSubscribers=new Map;candleSubscribers=new Map;newsSubscribers=new Set;snapshotSubscribers=new Map;intervals=[];tradeHistory=new Map;candleHistory=new Map;pairs=["BTC-RGB","ETH-RGB","CARBON-RGB","ENV-TOKEN"];constructor(){this.dataGenerator=new nt,this.initializeHistoricalData(),this.start()}initializeHistoricalData(){this.pairs.forEach(e=>{const t=this.dataGenerator.generateHistoricalData(e,100,6e4);this.candleHistory.set(e,t),this.tradeHistory.set(e,[])})}start(){const e=setInterval(()=>{this.pairs.forEach(e=>{const t=this.dataGenerator.generatePriceTick(e);this.broadcastPrice(e,t),this.updateSnapshot(e,t),Math.random()<.3&&this.generateTrade(e,t)})},1e3),t=setInterval(()=>{this.pairs.forEach(e=>{const t=this.generateOrderBook(e);this.broadcastOrderBook(e,t)})},500),s=setInterval(()=>{this.pairs.forEach(e=>{const t=this.dataGenerator.generateCandlestick(e,6e4),s=this.candleHistory.get(e)||[];s.push(t),s.length>100&&s.shift(),this.candleHistory.set(e,s),this.broadcastCandle(e,t)})},6e4),r=setInterval(()=>{const e=this.dataGenerator.generateNewsEvent();e&&this.broadcastNews(e)},5e3);this.intervals.push(e,t,s,r)}stop(){this.intervals.forEach(e=>clearInterval(e)),this.intervals=[]}generateOrderBook(e){const t=this.dataGenerator.getCurrentPrice(e),s=this.dataGenerator.getSpread(e),r=t*(1-s/2),a=t*(1+s/2),n=[],o=[];for(let i=0;i<10;i++){const e=r*(1-.001*i),t=a*(1+.001*i),s=1+5*Math.random(),l=s*(1+.2*i),c=s*(1+.2*i);n.push({price:parseFloat(e.toFixed(2)),quantity:parseFloat(l.toFixed(4)),total:parseFloat((e*l).toFixed(2))}),o.push({price:parseFloat(t.toFixed(2)),quantity:parseFloat(c.toFixed(4)),total:parseFloat((t*c).toFixed(2))})}return{bids:n,asks:o,timestamp:Date.now()}}generateTrade(e,t){const s={id:Math.random().toString(36).substr(2,9),timestamp:Date.now(),price:parseFloat(t.toFixed(2)),quantity:parseFloat((2*Math.random()+.1).toFixed(4)),side:Math.random()>.5?"buy":"sell"},r=this.tradeHistory.get(e)||[];r.push(s),r.length>100&&r.shift(),this.tradeHistory.set(e,r),this.broadcastTrade(e,s)}updateSnapshot(e,t){const s=this.candleHistory.get(e)||[];if(0===s.length)return;const r=s.slice(-1440),a=r[0]?.open||t,n=Math.max(...r.map(e=>e.high),t),o=Math.min(...r.map(e=>e.low),t),i={pair:e,price:t,change24h:(t-a)/a*100,volume24h:r.reduce((e,t)=>e+t.volume,0),high24h:n,low24h:o,timestamp:Date.now()};this.broadcastSnapshot(e,i)}subscribePrice(e,t){return this.priceSubscribers.has(e)||this.priceSubscribers.set(e,new Set),this.priceSubscribers.get(e).add(t),t(this.dataGenerator.getCurrentPrice(e)),()=>{this.priceSubscribers.get(e)?.delete(t)}}subscribeOrderBook(e,t){return this.orderBookSubscribers.has(e)||this.orderBookSubscribers.set(e,new Set),this.orderBookSubscribers.get(e).add(t),t(this.generateOrderBook(e)),()=>{this.orderBookSubscribers.get(e)?.delete(t)}}subscribeTrades(e,t){return this.tradeSubscribers.has(e)||this.tradeSubscribers.set(e,new Set),this.tradeSubscribers.get(e).add(t),()=>{this.tradeSubscribers.get(e)?.delete(t)}}subscribeCandles(e,t){return this.candleSubscribers.has(e)||this.candleSubscribers.set(e,new Set),this.candleSubscribers.get(e).add(t),()=>{this.candleSubscribers.get(e)?.delete(t)}}subscribeNews(e){return this.newsSubscribers.add(e),()=>{this.newsSubscribers.delete(e)}}subscribeSnapshot(e,t){return this.snapshotSubscribers.has(e)||this.snapshotSubscribers.set(e,new Set),this.snapshotSubscribers.get(e).add(t),()=>{this.snapshotSubscribers.get(e)?.delete(t)}}broadcastPrice(e,t){this.priceSubscribers.get(e)?.forEach(e=>e(t))}broadcastOrderBook(e,t){this.orderBookSubscribers.get(e)?.forEach(e=>e(t))}broadcastTrade(e,t){this.tradeSubscribers.get(e)?.forEach(e=>e(t))}broadcastCandle(e,t){this.candleSubscribers.get(e)?.forEach(e=>e(t))}broadcastNews(e){this.newsSubscribers.forEach(t=>t(e))}broadcastSnapshot(e,t){this.snapshotSubscribers.get(e)?.forEach(e=>e(t))}getTradeHistory(e){return this.tradeHistory.get(e)||[]}getCandleHistory(e){return this.candleHistory.get(e)||[]}getCurrentPrice(e){return this.dataGenerator.getCurrentPrice(e)}}let it=null;const lt=(it||(it=new ot),it);function ct({symbol:t,timeframe:s}){const r=e.useRef(null),a=t.replace("/","-").replace("-USD","-RGB"),n=function(t){const[s,r]=e.useState([]);return e.useEffect(()=>{const e=lt.getCandleHistory(t);return r(e),lt.subscribeCandles(t,e=>{r(t=>[...t,e])})},[t]),s}(a);!function(t){const[s,r]=e.useState(0);e.useEffect(()=>lt.subscribePrice(t,r),[t])}(a);const[o,i]=e.useState({width:0,height:0}),l=n.map(e=>({time:e.timestamp,open:e.open,high:e.high,low:e.low,close:e.close,volume:e.volume}));return e.useEffect(()=>{const e=r.current?.parentElement;if(!e)return;const t=()=>{i({width:e.clientWidth,height:e.clientHeight})},s=new ResizeObserver(t);return s.observe(e),t(),()=>s.disconnect()},[]),e.useEffect(()=>{const e=r.current;if(!e||0===l.length)return;const t=e.getContext("2d");if(!t)return;const s=window.devicePixelRatio||1;e.width=o.width*s,e.height=o.height*s,t.scale(s,s),t.clearRect(0,0,o.width,o.height);const a=.8*o.height,n=.2*o.height,i=60,c=80,d=20,m=40,h=l.flatMap(e=>[e.high,e.low]),u=Math.max(...h),x=Math.min(...h),p=u-x,g=Math.max(2,(o.width-i-c)/l.length-2);t.strokeStyle="rgba(0, 0, 0, 0.08)",t.lineWidth=1;for(let r=0;r<=5;r++){const e=d+r/5*(a-d-m);t.beginPath(),t.moveTo(i,e),t.lineTo(o.width-c,e),t.stroke()}l.forEach((e,s)=>{const r=i+s*(g+2),n=e.close>=e.open,o=d+(u-e.high)/p*(a-d-m),l=d+(u-e.low)/p*(a-d-m),c=d+(u-e.open)/p*(a-d-m),h=d+(u-e.close)/p*(a-d-m);t.strokeStyle=n?"rgba(34, 197, 94, 0.8)":"rgba(239, 68, 68, 0.8)",t.lineWidth=1,t.beginPath(),t.moveTo(r+g/2,o),t.lineTo(r+g/2,l),t.stroke(),t.fillStyle=n?"rgba(34, 197, 94, 0.9)":"rgba(239, 68, 68, 0.9)";const x=Math.min(c,h),b=Math.abs(h-c);t.fillRect(r,x,g,Math.max(1,b))}),t.fillStyle="rgba(0, 0, 0, 0.6)",t.font="11px monospace",t.textAlign="left";for(let r=0;r<=5;r++){const e=u-p*r/5,s=d+r/5*(a-d-m);t.fillText(e.toFixed(2),o.width-c+10,s+4)}const b=Math.max(...l.map(e=>e.volume));l.forEach((e,s)=>{const r=i+s*(g+2),o=e.volume/b*(n-10),l=a+n-o;t.fillStyle=e.close>=e.open?"rgba(34, 197, 94, 0.4)":"rgba(239, 68, 68, 0.4)",t.fillRect(r,l,g,o)})},[l,o]),x.jsxs("div",{className:"w-full h-full bg-[var(--color-bg-tertiary)] rounded relative",children:[x.jsx("canvas",{ref:r,style:{width:o.width,height:o.height},className:"block"}),0===l.length&&x.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-[var(--color-text-secondary)]",children:x.jsxs("div",{className:"text-center",children:[x.jsx("p",{className:"text-lg mb-2",children:"\uD83D\uDCCA"}),x.jsx("p",{children:"Waiting for market data..."}),x.jsxs("p",{className:"text-sm mt-1",children:[t," â€¢ ",s]})]})})]})}function dt({symbol:t,onPriceClick:s}){const[r,a]=e.useState([]),[n,o]=e.useState([]),[i,l]=e.useState(0);e.useEffect(()=>{},[t]);const c=Math.max(...r.map(e=>e.total),...n.map(e=>e.total)),d=({entry:e,isBid:t})=>{const r=e.total/c*100;return x.jsxs("div",{className:"relative flex justify-between items-center py-1 px-2 text-xs font-mono cursor-pointer hover:bg-[var(--color-bg-primary)]/50 transition-colors",onClick:()=>s?.(e.price),children:[x.jsx("div",{className:"absolute inset-0 opacity-20",style:{background:t?`linear-gradient(to right, transparent ${100-r}%, var(--color-success) ${100-r}%)`:`linear-gradient(to left, transparent ${100-r}%, var(--color-error) ${100-r}%)`}}),x.jsx("span",{className:t?"text-[var(--color-success)] z-10":"text-[var(--color-error)] z-10",children:e.price.toFixed(2)}),x.jsx("span",{className:"text-[var(--color-text-secondary)] z-10",children:e.amount.toFixed(4)}),x.jsx("span",{className:"text-[var(--color-text-secondary)] z-10",children:e.total.toFixed(2)})]})};return x.jsxs("div",{className:"flex flex-col h-full",children:[x.jsxs("div",{className:"flex justify-between items-center px-2 py-2 text-xs font-mono text-[var(--color-text-secondary)] border-b border-[var(--color-border)]",children:[x.jsx("span",{children:"Price"}),x.jsx("span",{children:"Amount"}),x.jsx("span",{children:"Total"})]}),x.jsx("div",{className:"flex-1 overflow-y-auto scrollbar-thin",children:n.length>0?x.jsx("div",{className:"flex flex-col-reverse",children:n.slice(0,15).map((e,t)=>x.jsx(d,{entry:e,isBid:!1},`ask-${t}`))}):x.jsx("div",{className:"flex items-center justify-center h-full text-[var(--color-text-secondary)] text-sm",children:"No asks"})}),x.jsx("div",{className:"px-2 py-3 bg-[var(--color-bg-secondary)] border-y border-[var(--color-border)]",children:x.jsxs("div",{className:"flex justify-between items-center text-xs font-mono",children:[x.jsx("span",{className:"text-[var(--color-text-secondary)]",children:"Spread"}),i>0?x.jsxs(x.Fragment,{children:[x.jsx("span",{className:"font-semibold",children:i.toFixed(2)}),x.jsxs("span",{className:"text-[var(--color-text-secondary)]",children:["(",(i/((r[0]?.price||0)+(n[0]?.price||0))/2*100).toFixed(2),"%)"]})]}):x.jsx("span",{className:"text-[var(--color-text-secondary)]",children:"â€”"})]})}),x.jsx("div",{className:"flex-1 overflow-y-auto scrollbar-thin",children:r.length>0?r.slice(0,15).map((e,t)=>x.jsx(d,{entry:e,isBid:!0},`bid-${t}`)):x.jsx("div",{className:"flex items-center justify-center h-full text-[var(--color-text-secondary)] text-sm",children:"No bids"})})]})}function mt({symbol:t,side:s,onSideChange:r,initialPrice:a,balance:n=0,disabled:o=!1}){const[i,l]=e.useState("limit"),[c,d]=e.useState(a?.toString()||""),[m,h]=e.useState(""),[u,p]=e.useState("0.00"),g=(e,t)=>{const s=parseFloat(e)||0,r=parseFloat(t)||0;p((s*r).toFixed(2))},b=e=>{h(e),g(e,c)};return x.jsxs("form",{onSubmit:e=>{e.preventDefault(),o||console.log("Order submitted:",{symbol:t,side:s,orderType:i,price:"limit"===i?c:"market",amount:m,total:u})},className:"space-y-4",children:[x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsx("button",{type:"button",onClick:()=>r("buy"),className:"py-2.5 rounded font-semibold transition-colors "+("buy"===s?"bg-[var(--color-success)] text-white":"bg-[var(--color-bg-tertiary)] text-[var(--color-text-secondary)] hover:bg-[var(--color-success)]/20"),children:"Buy"}),x.jsx("button",{type:"button",onClick:()=>r("sell"),className:"py-2.5 rounded font-semibold transition-colors "+("sell"===s?"bg-[var(--color-error)] text-white":"bg-[var(--color-bg-tertiary)] text-[var(--color-text-secondary)] hover:bg-[var(--color-error)]/20"),children:"Sell"})]}),x.jsxs("div",{className:"flex gap-2 border-b border-[var(--color-border)]",children:[x.jsx("button",{type:"button",onClick:()=>l("limit"),className:"pb-2 px-1 text-sm font-medium transition-colors "+("limit"===i?"text-[var(--color-text-primary)] border-b-2 border-[var(--color-sky-blue)]":"text-[var(--color-text-secondary)] hover:text-[var(--color-text-primary)]"),children:"Limit"}),x.jsx("button",{type:"button",onClick:()=>l("market"),className:"pb-2 px-1 text-sm font-medium transition-colors "+("market"===i?"text-[var(--color-text-primary)] border-b-2 border-[var(--color-sky-blue)]":"text-[var(--color-text-secondary)] hover:text-[var(--color-text-primary)]"),children:"Market"})]}),"limit"===i&&x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium mb-2",children:"Price"}),x.jsxs("div",{className:"relative",children:[x.jsx("input",{type:"number",step:"0.01",value:c,onChange:e=>{return t=e.target.value,d(t),void g(m,t);var t},placeholder:"0.00",disabled:o,className:"w-full px-3 py-2 bg-[var(--color-bg-tertiary)] border border-[var(--color-border)] rounded focus:outline-none focus:border-[var(--color-sky-blue)] font-mono"}),x.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-sm text-[var(--color-text-secondary)]",children:"USD"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium mb-2",children:"Amount"}),x.jsxs("div",{className:"relative",children:[x.jsx("input",{type:"number",step:"0.0001",value:m,onChange:e=>b(e.target.value),placeholder:"0.0000",disabled:o,className:"w-full px-3 py-2 bg-[var(--color-bg-tertiary)] border border-[var(--color-border)] rounded focus:outline-none focus:border-[var(--color-sky-blue)] font-mono"}),x.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-sm text-[var(--color-text-secondary)]",children:t.split("/")[0]})]}),x.jsx("div",{className:"flex gap-2 mt-2",children:[25,50,75,100].map(e=>x.jsxs("button",{type:"button",onClick:()=>(e=>{if(!n)return;const t=(n*e/100).toString();b(t)})(e),disabled:o||!n,className:"flex-1 py-1 text-xs bg-[var(--color-bg-tertiary)] border border-[var(--color-border)] rounded hover:bg-[var(--color-bg-primary)] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[e,"%"]},e))})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium mb-2",children:"Total"}),x.jsxs("div",{className:"relative",children:[x.jsx("input",{type:"text",value:u,readOnly:!0,className:"w-full px-3 py-2 bg-[var(--color-bg-secondary)] border border-[var(--color-border)] rounded font-mono text-[var(--color-text-secondary)]"}),x.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-sm text-[var(--color-text-secondary)]",children:"USD"})]})]}),x.jsxs("div",{className:"flex justify-between text-sm",children:[x.jsx("span",{className:"text-[var(--color-text-secondary)]",children:"Available"}),x.jsxs("span",{className:"font-mono",children:[n.toFixed(4)," ","buy"===s?"USD":t.split("/")[0]]})]}),x.jsx("button",{type:"submit",disabled:o||!m||"limit"===i&&!c,className:"w-full py-3 rounded font-semibold transition-colors disabled:opacity-50 disabled:cursor-not-allowed "+("buy"===s?"bg-[var(--color-success)] hover:bg-[var(--color-success)]/90 text-white":"bg-[var(--color-error)] hover:bg-[var(--color-error)]/90 text-white"),children:o?"Connect to Trade":`${"buy"===s?"Buy":"Sell"} ${t.split("/")[0]}`}),o&&x.jsx("p",{className:"text-xs text-[var(--color-text-secondary)] text-center",children:"Connect your Nostr identity to begin trading"})]})}function ht({positions:t=[],onClosePosition:s,onSetStopLoss:r,onSetTakeProfit:a}){const[n,o]=e.useState(null),[i,l]=e.useState(null),[c,d]=e.useState(null),[m,h]=e.useState(""),[u,p]=e.useState("");return 0===t.length?x.jsxs("div",{className:"text-center py-12 text-[var(--color-text-secondary)]",children:[x.jsx("p",{className:"text-lg mb-2",children:"No open positions"}),x.jsx("p",{className:"text-sm",children:"Your active positions will appear here"})]}):x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full text-sm",children:[x.jsx("thead",{className:"bg-[var(--color-bg-tertiary)] border-b border-[var(--color-border)]",children:x.jsxs("tr",{children:[x.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Symbol"}),x.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Side"}),x.jsx("th",{className:"px-4 py-3 text-right font-semibold",children:"Entry"}),x.jsx("th",{className:"px-4 py-3 text-right font-semibold",children:"Current"}),x.jsx("th",{className:"px-4 py-3 text-right font-semibold",children:"Amount"}),x.jsx("th",{className:"px-4 py-3 text-right font-semibold",children:"Leverage"}),x.jsx("th",{className:"px-4 py-3 text-right font-semibold",children:"P&L"}),x.jsx("th",{className:"px-4 py-3 text-center font-semibold",children:"Actions"})]})}),x.jsx("tbody",{children:t.map(e=>x.jsxs(x.Fragment,{children:[x.jsxs("tr",{className:"border-b border-[var(--color-border)] hover:bg-[var(--color-bg-tertiary)]/50 transition-colors cursor-pointer",onClick:()=>o(n===e.id?null:e.id),children:[x.jsx("td",{className:"px-4 py-3 font-mono font-semibold",children:e.symbol}),x.jsx("td",{className:"px-4 py-3",children:x.jsx("span",{className:"inline-block px-2 py-1 rounded text-xs font-semibold "+("long"===e.side?"bg-[var(--color-success)]/20 text-[var(--color-success)]":"bg-[var(--color-error)]/20 text-[var(--color-error)]"),children:e.side.toUpperCase()})}),x.jsxs("td",{className:"px-4 py-3 text-right font-mono",children:["$",e.entryPrice.toFixed(2)]}),x.jsxs("td",{className:"px-4 py-3 text-right font-mono",children:["$",e.currentPrice.toFixed(2)]}),x.jsx("td",{className:"px-4 py-3 text-right font-mono",children:e.amount.toFixed(4)}),x.jsx("td",{className:"px-4 py-3 text-right",children:x.jsxs("span",{className:"inline-block px-2 py-0.5 bg-[var(--color-bg-tertiary)] rounded text-xs",children:[e.leverage,"x"]})}),x.jsxs("td",{className:"px-4 py-3 text-right",children:[x.jsxs("div",{className:"font-mono font-semibold "+(e.pnl>=0?"text-[var(--color-success)]":"text-[var(--color-error)]"),children:[e.pnl>=0?"+":"",e.pnl.toFixed(2)]}),x.jsxs("div",{className:"text-xs "+(e.pnlPercentage>=0?"text-[var(--color-success)]":"text-[var(--color-error)]"),children:["(",e.pnlPercentage>=0?"+":"",e.pnlPercentage.toFixed(2),"%)"]})]}),x.jsx("td",{className:"px-4 py-3 text-center",children:x.jsx("button",{onClick:t=>{t.stopPropagation(),s?.(e.id)},className:"px-3 py-1 bg-[var(--color-error)] hover:bg-[var(--color-error)]/90 text-white rounded text-xs font-semibold transition-colors",children:"Close"})})]},e.id),n===e.id&&x.jsx("tr",{className:"bg-[var(--color-bg-tertiary)]/30",children:x.jsx("td",{colSpan:8,className:"px-4 py-4",children:x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.liquidationPrice&&x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-[var(--color-text-secondary)] mb-1",children:"Liquidation Price"}),x.jsxs("div",{className:"text-lg font-mono font-semibold text-[var(--color-error)]",children:["$",e.liquidationPrice.toFixed(2)]})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-[var(--color-text-secondary)] mb-1",children:"Stop Loss"}),i===e.id?x.jsxs("div",{className:"flex gap-2",children:[x.jsx("input",{type:"number",step:"0.01",value:m,onChange:e=>h(e.target.value),placeholder:"Price",className:"flex-1 px-2 py-1 bg-[var(--color-bg-primary)] border border-[var(--color-border)] rounded text-sm font-mono",autoFocus:!0}),x.jsx("button",{onClick:()=>(e=>{const t=parseFloat(m);t>0&&r&&(r(e,t),l(null),h(""))})(e.id),className:"px-2 py-1 bg-[var(--color-success)] text-white rounded text-xs",children:"Set"}),x.jsx("button",{onClick:()=>{l(null),h("")},className:"px-2 py-1 bg-[var(--color-bg-secondary)] rounded text-xs",children:"Cancel"})]}):x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"text-lg font-mono font-semibold",children:e.stopLoss?`$${e.stopLoss.toFixed(2)}`:"â€”"}),x.jsx("button",{onClick:()=>{l(e.id),h(e.stopLoss?.toString()||"")},className:"text-xs text-[var(--color-sky-blue)] hover:underline",children:e.stopLoss?"Edit":"Set"})]})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-[var(--color-text-secondary)] mb-1",children:"Take Profit"}),c===e.id?x.jsxs("div",{className:"flex gap-2",children:[x.jsx("input",{type:"number",step:"0.01",value:u,onChange:e=>p(e.target.value),placeholder:"Price",className:"flex-1 px-2 py-1 bg-[var(--color-bg-primary)] border border-[var(--color-border)] rounded text-sm font-mono",autoFocus:!0}),x.jsx("button",{onClick:()=>(e=>{const t=parseFloat(u);t>0&&a&&(a(e,t),d(null),p(""))})(e.id),className:"px-2 py-1 bg-[var(--color-success)] text-white rounded text-xs",children:"Set"}),x.jsx("button",{onClick:()=>{d(null),p("")},className:"px-2 py-1 bg-[var(--color-bg-secondary)] rounded text-xs",children:"Cancel"})]}):x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"text-lg font-mono font-semibold",children:e.takeProfit?`$${e.takeProfit.toFixed(2)}`:"â€”"}),x.jsx("button",{onClick:()=>{d(e.id),p(e.takeProfit?.toString()||"")},className:"text-xs text-[var(--color-sky-blue)] hover:underline",children:e.takeProfit?"Edit":"Set"})]})]})]})})})]}))})]})})}const ut=({name:e,size:t=24,className:s=""})=>x.jsx("img",{src:`/akau/icons/akau/icon-${e}.png`,alt:e,width:t,height:t,className:`inline-block ${s}`,style:{imageRendering:"crisp-edges"}});function xt(){const[t,s]=e.useState("BTC/USD"),[r,a]=e.useState("15m"),[n,o]=e.useState("buy"),[i,l]=e.useState();return x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[x.jsx(ut,{name:"trade-exchange",size:32}),"Trading Interface"]}),x.jsxs("select",{value:t,onChange:e=>s(e.target.value),className:"px-4 py-2 bg-[var(--color-bg-secondary)] border border-[var(--color-border)] rounded text-lg font-semibold focus:outline-none focus:border-[var(--color-sky-blue)]",children:[x.jsx("option",{value:"BTC/USD",children:"BTC/USD"}),x.jsx("option",{value:"ETH/USD",children:"ETH/USD"}),x.jsx("option",{value:"SOL/USD",children:"SOL/USD"})]})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:"text-sm text-[var(--color-text-secondary)]",children:"Market Status:"}),x.jsxs("span",{className:"inline-flex items-center gap-1",children:[x.jsx("span",{className:"w-2 h-2 rounded-full bg-[var(--color-text-secondary)]"}),x.jsx("span",{className:"text-sm font-semibold",children:"Disconnected"})]})]})]}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[x.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[x.jsxs("div",{className:"card",children:[x.jsxs("div",{className:"flex items-center justify-between mb-4",children:[x.jsxs("h2",{className:"text-xl font-semibold flex items-center gap-2",children:[x.jsx(ut,{name:"chart-line",size:20}),"Price Chart"]}),x.jsx("div",{className:"flex items-center gap-2",children:x.jsxs("select",{value:r,onChange:e=>a(e.target.value),className:"px-3 py-1.5 bg-[var(--color-bg-tertiary)] border border-[var(--color-border)] rounded text-sm focus:outline-none focus:border-[var(--color-sky-blue)]",children:[x.jsx("option",{value:"1m",children:"1m"}),x.jsx("option",{value:"5m",children:"5m"}),x.jsx("option",{value:"15m",children:"15m"}),x.jsx("option",{value:"1h",children:"1h"}),x.jsx("option",{value:"4h",children:"4h"}),x.jsx("option",{value:"1d",children:"1d"})]})})]}),x.jsx("div",{className:"h-[500px]",children:x.jsx(ct,{symbol:t,timeframe:r})})]}),x.jsxs("div",{className:"card",children:[x.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[x.jsx(ut,{name:"order-book-spread",size:20}),"Order Book"]}),x.jsx("div",{className:"h-96",children:x.jsx(dt,{symbol:t,onPriceClick:e=>{l(e)}})})]}),x.jsxs("div",{className:"card",children:[x.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[x.jsx(ut,{name:"portfolio",size:20}),"Open Positions"]}),x.jsx(ht,{positions:[],onClosePosition:e=>console.log("Close position:",e),onSetStopLoss:(e,t)=>console.log("Set SL:",e,t),onSetTakeProfit:(e,t)=>console.log("Set TP:",e,t)})]})]}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"card",children:[x.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[x.jsx(ut,{name:"trade-exchange",size:20}),"Place Order"]}),x.jsx(mt,{symbol:t,side:n,onSideChange:o,initialPrice:i,balance:0,disabled:!0})]}),x.jsxs("div",{className:"card",children:[x.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[x.jsx(ut,{name:"neural-brain",size:20}),x.jsx("span",{children:"Neural Signals"})]}),x.jsxs("div",{className:"space-y-3",children:[x.jsxs("div",{className:"flex justify-between items-center text-sm",children:[x.jsx("span",{className:"text-[var(--color-text-secondary)]",children:"Engine Status"}),x.jsxs("span",{className:"inline-flex items-center gap-1",children:[x.jsx("span",{className:"w-2 h-2 rounded-full bg-[var(--color-text-secondary)]"}),x.jsx("span",{className:"font-semibold",children:"Inactive"})]})]}),x.jsxs("div",{className:"flex justify-between items-center text-sm",children:[x.jsx("span",{className:"text-[var(--color-text-secondary)]",children:"Active Signals"}),x.jsx("span",{className:"font-semibold",children:"0"})]}),x.jsxs("div",{className:"flex justify-between items-center text-sm",children:[x.jsx("span",{className:"text-[var(--color-text-secondary)]",children:"Confidence"}),x.jsx("span",{className:"font-semibold text-[var(--color-text-secondary)]",children:"â€”"})]}),x.jsxs("div",{className:"flex justify-between items-center text-sm",children:[x.jsx("span",{className:"text-[var(--color-text-secondary)]",children:"Win Rate"}),x.jsx("span",{className:"font-semibold text-[var(--color-text-secondary)]",children:"â€”"})]}),x.jsx("button",{className:"btn-secondary w-full text-sm mt-4",disabled:!0,children:"Activate Neural Engine"})]})]}),x.jsxs("div",{className:"card",children:[x.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[x.jsx(ut,{name:"watchlist",size:20}),"Market Stats"]}),x.jsxs("div",{className:"space-y-3 text-sm",children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"text-[var(--color-text-secondary)]",children:"24h Volume"}),x.jsx("span",{className:"font-mono text-[var(--color-text-secondary)]",children:"â€”"})]}),x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"text-[var(--color-text-secondary)]",children:"24h High"}),x.jsx("span",{className:"font-mono text-[var(--color-text-secondary)]",children:"â€”"})]}),x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"text-[var(--color-text-secondary)]",children:"24h Low"}),x.jsx("span",{className:"font-mono text-[var(--color-text-secondary)]",children:"â€”"})]}),x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"text-[var(--color-text-secondary)]",children:"Open Interest"}),x.jsx("span",{className:"font-mono text-[var(--color-text-secondary)]",children:"â€”"})]})]})]})]})]}),x.jsxs("div",{className:"card",children:[x.jsxs("div",{className:"flex items-center justify-between mb-4",children:[x.jsxs("h2",{className:"text-xl font-semibold flex items-center gap-2",children:[x.jsx(ut,{name:"history",size:20}),"Trade History"]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{className:"text-sm text-[var(--color-sky-blue)] hover:underline",children:"Export"}),x.jsx("button",{className:"text-sm text-[var(--color-sky-blue)] hover:underline",children:"Filter"})]})]}),x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full text-sm",children:[x.jsx("thead",{className:"bg-[var(--color-bg-tertiary)] border-b border-[var(--color-border)]",children:x.jsxs("tr",{children:[x.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Time"}),x.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Symbol"}),x.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Side"}),x.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Type"}),x.jsx("th",{className:"px-4 py-3 text-right font-semibold",children:"Price"}),x.jsx("th",{className:"px-4 py-3 text-right font-semibold",children:"Amount"}),x.jsx("th",{className:"px-4 py-3 text-right font-semibold",children:"Total"}),x.jsx("th",{className:"px-4 py-3 text-right font-semibold",children:"Fee"}),x.jsx("th",{className:"px-4 py-3 text-center font-semibold",children:"Status"})]})}),x.jsx("tbody",{children:x.jsx("tr",{children:x.jsxs("td",{colSpan:9,className:"px-4 py-12 text-center text-[var(--color-text-secondary)]",children:[x.jsx("p",{className:"text-lg mb-2",children:"No trade history"}),x.jsx("p",{className:"text-sm",children:"Your completed trades will appear here"})]})})})]})})]})]})}const pt=({name:e,size:t=24,className:s=""})=>x.jsx("img",{src:`/akau/icons/akau/icon-${e}.png`,alt:e,width:t,height:t,className:`inline-block ${s}`,style:{imageRendering:"crisp-edges"}}),gt=[{id:"btc",name:"Bitcoin",symbol:"BTC",icon:"asset-btc",category:"crypto",price:97500,change24h:2.4,description:"Digital gold and store of value"},{id:"eth",name:"Ethereum",symbol:"ETH",icon:"asset-eth",category:"crypto",price:3650,change24h:1.8,description:"Smart contract platform"},{id:"usdt",name:"Tether",symbol:"USDT",icon:"asset-usdt",category:"crypto",price:1,change24h:.01,description:"USD-pegged stablecoin"},{id:"aapl",name:"Apple Inc.",symbol:"AAPL",icon:"asset-aapl",category:"stock",price:232,change24h:.85,description:"Consumer technology giant"},{id:"nvda",name:"NVIDIA",symbol:"NVDA",icon:"asset-nvda",category:"stock",price:142,change24h:3.2,description:"AI and GPU leader"},{id:"msft",name:"Microsoft",symbol:"MSFT",icon:"asset-msft",category:"stock",price:428,change24h:1.1,description:"Enterprise software & cloud"},{id:"googl",name:"Alphabet",symbol:"GOOGL",icon:"asset-googl",category:"stock",price:175,change24h:.65,description:"Search and cloud services"},{id:"meta",name:"Meta Platforms",symbol:"META",icon:"asset-meta",category:"stock",price:605,change24h:2.1,description:"Social media and metaverse"},{id:"tsla",name:"Tesla",symbol:"TSLA",icon:"asset-tsla",category:"stock",price:352,change24h:-1.2,description:"Electric vehicles and energy"},{id:"carbon",name:"Carbon Credits",symbol:"CARBON",icon:"asset-carbon",category:"environmental",price:42.5,change24h:.9,description:"Blue carbon offset tokens"},{id:"biodiversity",name:"Biodiversity",symbol:"BIODIV",icon:"asset-biodiversity",category:"environmental",price:15.75,change24h:1.5,description:"Species protection initiatives"},{id:"lic",name:"Land Impact",symbol:"LIC",icon:"asset-lic",category:"environmental",price:28.4,change24h:.3,description:"Indigenous community projects"}];function bt(){const[t,s]=e.useState("all"),[r,a]=e.useState(""),{prices:n}=$e(),o=gt.filter(e=>{const s="all"===t||e.category===t,a=e.name.toLowerCase().includes(r.toLowerCase())||e.symbol.toLowerCase().includes(r.toLowerCase());return s&&a}),i=e=>"all"===e?gt.length:gt.filter(t=>t.category===e).length;return x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold text-gradient-teal",children:"Assets"}),x.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Browse and trade digital assets"})]}),x.jsx("div",{className:"flex items-center gap-2",children:x.jsx(pt,{name:"buy",size:28,className:"opacity-70"})})]}),x.jsx("div",{className:"card-glass",children:x.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[x.jsxs("div",{className:"relative flex-1",children:[x.jsx(pt,{name:"search",size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 opacity-50"}),x.jsx("input",{type:"text",placeholder:"Search assets...",value:r,onChange:e=>a(e.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-[var(--color-bg-tertiary)] border border-[var(--color-border)] rounded-lg focus:outline-none focus:border-[var(--akau-teal-500)] transition-colors"})]}),x.jsx("div",{className:"flex gap-2",children:["all","crypto","stock","environmental"].map(e=>x.jsxs("button",{onClick:()=>s(e),className:"px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 "+(t===e?"bg-[var(--akau-teal-500)] text-white shadow-md shadow-[var(--akau-teal-500)]/20":"bg-[var(--color-bg-tertiary)] text-[var(--color-text-secondary)] hover:bg-[var(--color-bg-tertiary)]/80 hover:text-[var(--color-text-primary)]"),children:[e.charAt(0).toUpperCase()+e.slice(1),x.jsxs("span",{className:"ml-1.5 opacity-70",children:["(",i(e),")"]})]},e))})]})}),x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 tile-stagger",children:o.map(e=>{const t=n[`${e.symbol}-USD`]?.price,s=n[`${e.symbol}-USD`]?.change24h,r=t||e.price,a=s??e.change24h;return x.jsxs("div",{className:"group card-glass tile-pop-in hover:border-[var(--akau-teal-500)]/50 transition-all duration-300 cursor-pointer hover:shadow-lg hover:shadow-[var(--akau-teal-500)]/10 hover:-translate-y-0.5",children:[x.jsxs("div",{className:"flex items-start gap-4",children:[x.jsxs("div",{className:"relative",children:[x.jsx("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-[var(--color-bg-tertiary)] to-[var(--color-bg-tertiary)]/50 p-2 group-hover:from-[var(--akau-teal-600)]/20 group-hover:to-transparent transition-all duration-300 flex items-center justify-center",children:x.jsx(pt,{name:e.icon,size:40,className:"group-hover:scale-105 transition-transform"})}),x.jsx("span",{className:"absolute -bottom-1 -right-1 text-[10px] px-1.5 py-0.5 rounded-full font-medium "+("crypto"===e.category?"bg-[var(--akau-teal-500)]/20 text-[var(--akau-teal-400)]":"stock"===e.category?"bg-blue-500/20 text-blue-400":"bg-green-500/20 text-green-400"),children:"crypto"===e.category?"Crypto":"stock"===e.category?"Stock":"Eco"})]}),x.jsxs("div",{className:"flex-1 min-w-0",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("h3",{className:"font-semibold text-[var(--color-text-primary)] group-hover:text-[var(--akau-teal-300)] transition-colors",children:e.name}),x.jsx("span",{className:"text-xs font-mono text-[var(--color-text-secondary)]",children:e.symbol})]}),x.jsx("p",{className:"text-xs text-[var(--color-text-secondary)] mt-0.5 truncate",children:e.description}),x.jsxs("div",{className:"flex items-center justify-between mt-3 pt-3 border-t border-[var(--color-border)]/30",children:[x.jsx("div",{children:x.jsxs("span",{className:"text-lg font-bold font-mono text-[var(--akau-cyan-400)]",children:["$",r.toLocaleString("en-AU",{minimumFractionDigits:2,maximumFractionDigits:2})]})}),x.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 rounded-md text-xs font-medium "+(a>=0?"bg-green-500/10 text-green-400":"bg-red-500/10 text-red-400"),children:[x.jsx("span",{children:a>=0?"â†‘":"â†“"}),x.jsxs("span",{children:[Math.abs(a).toFixed(2),"%"]})]})]})]})]}),x.jsxs("div",{className:"flex gap-2 mt-4 pt-3 border-t border-[var(--color-border)]/30",children:[x.jsxs("button",{className:"flex-1 flex items-center justify-center gap-2 py-2 bg-gradient-to-r from-[var(--akau-teal-600)] to-[var(--akau-teal-500)] text-white rounded-lg text-sm font-medium hover:from-[var(--akau-teal-500)] hover:to-[var(--akau-teal-400)] transition-all shadow-sm hover:shadow-md hover:shadow-[var(--akau-teal-500)]/20",children:[x.jsx(pt,{name:"buy",size:16}),"Buy"]}),x.jsxs("button",{className:"flex-1 flex items-center justify-center gap-2 py-2 bg-[var(--color-bg-tertiary)] text-[var(--color-text-secondary)] rounded-lg text-sm font-medium hover:bg-[var(--color-bg-tertiary)]/80 hover:text-[var(--color-text-primary)] transition-all border border-[var(--color-border)]/30",children:[x.jsx(pt,{name:"sell",size:16}),"Sell"]})]})]},e.id)})}),0===o.length&&x.jsxs("div",{className:"card-glass text-center py-12",children:[x.jsx(pt,{name:"search",size:48,className:"opacity-30 mx-auto mb-4"}),x.jsx("h3",{className:"text-lg font-semibold text-[var(--color-text-secondary)]",children:"No assets found"}),x.jsx("p",{className:"text-sm text-[var(--color-text-secondary)] mt-1",children:"Try adjusting your search or filters"})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 tile-stagger section-fade-in section-delay-2",children:[x.jsx("div",{className:"card-glass",children:x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"w-10 h-10 rounded-lg bg-[var(--akau-teal-500)]/20 flex items-center justify-center",children:x.jsx(pt,{name:"chart-line",size:24,className:"text-[var(--akau-teal-400)]"})}),x.jsxs("div",{children:[x.jsx("p",{className:"text-xs text-[var(--color-text-secondary)]",children:"Total Market Cap"}),x.jsx("p",{className:"text-lg font-bold font-mono text-[var(--akau-cyan-400)]",children:"$2.45T"})]})]})}),x.jsx("div",{className:"card-glass",children:x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"w-10 h-10 rounded-lg bg-green-500/20 flex items-center justify-center",children:x.jsx(pt,{name:"signal-bullish",size:24})}),x.jsxs("div",{children:[x.jsx("p",{className:"text-xs text-[var(--color-text-secondary)]",children:"24h Volume"}),x.jsx("p",{className:"text-lg font-bold font-mono text-green-400",children:"$89.2B"})]})]})}),x.jsx("div",{className:"card-glass",children:x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"w-10 h-10 rounded-lg bg-[var(--akau-teal-500)]/20 flex items-center justify-center",children:x.jsx(pt,{name:"asset-carbon",size:24})}),x.jsxs("div",{children:[x.jsx("p",{className:"text-xs text-[var(--color-text-secondary)]",children:"Carbon Credits Traded"}),x.jsx("p",{className:"text-lg font-bold font-mono text-[var(--akau-teal-400)]",children:"12.4K CCT"})]})]})})]})]})}const vt={fuelEmissionFactors:[{fuelType:"jet-a",co2ePerLiter:2.52,co2ePerKg:3.15,description:"Standard aviation fuel",source:"ICAO 2023"},{fuelType:"jet-a1",co2ePerLiter:2.52,co2ePerKg:3.15,description:"International aviation fuel",source:"ICAO 2023"},{fuelType:"diesel",co2ePerLiter:2.68,co2ePerKg:3.19,description:"Marine diesel oil",source:"IMO MEPC 2023"},{fuelType:"hfo",co2ePerLiter:3.11,co2ePerKg:3.11,description:"Heavy fuel oil",source:"IMO MEPC 2023"},{fuelType:"lng",co2ePerLiter:1.98,co2ePerKg:2.75,description:"Liquified natural gas",source:"IMO MEPC 2023"},{fuelType:"bio-fuel",co2ePerLiter:1.89,co2ePerKg:2.36,description:"Biodiesel blend",source:"ICAO 2023"},{fuelType:"sustainable-aviation-fuel",co2ePerLiter:.63,co2ePerKg:.79,description:"SAF (75% reduction)",source:"ICAO 2023"}],privateJetFactors:[{category:"light",fuelConsumptionLitersPerHour:280,averageCruiseSpeed:720,typicalRange:2400,maxPassengers:7,examples:["Citation CJ3+","Learjet 75","Phenom 300"]},{category:"midsize",fuelConsumptionLitersPerHour:420,averageCruiseSpeed:780,typicalRange:3700,maxPassengers:9,examples:["Citation Latitude","Learjet 70","Hawker 900XP"]},{category:"super-midsize",fuelConsumptionLitersPerHour:580,averageCruiseSpeed:850,typicalRange:5500,maxPassengers:12,examples:["Challenger 350","Gulfstream G280","Praetor 600"]},{category:"heavy",fuelConsumptionLitersPerHour:1350,averageCruiseSpeed:900,typicalRange:7400,maxPassengers:16,examples:["Gulfstream G650","Global 7500","Falcon 8X"]},{category:"ultra-long-range",fuelConsumptionLitersPerHour:1680,averageCruiseSpeed:950,typicalRange:13900,maxPassengers:19,examples:["Global 8000","Gulfstream G700","ACJ TwoTwenty"]}],yachtFactors:[{category:"<30m",cruisingFuelConsumption:15,idleFuelConsumption:8,averageCruiseSpeed:12,typicalAnnualUsage:{cruisingHours:400,idleHours:1200}},{category:"30-50m",cruisingFuelConsumption:45,idleFuelConsumption:25,averageCruiseSpeed:15,typicalAnnualUsage:{cruisingHours:500,idleHours:1500}},{category:"50-80m",cruisingFuelConsumption:120,idleFuelConsumption:60,averageCruiseSpeed:16,typicalAnnualUsage:{cruisingHours:600,idleHours:2e3}},{category:"80m+",cruisingFuelConsumption:350,idleFuelConsumption:180,averageCruiseSpeed:18,typicalAnnualUsage:{cruisingHours:700,idleHours:2500}}],shippingFactors:[{category:"cargo",fuelConsumptionPerNM:85,averageSpeed:14,typicalDWT:{min:1e4,max:6e4,average:35e3},intensityFactor:8.2},{category:"tanker",fuelConsumptionPerNM:110,averageSpeed:13,typicalDWT:{min:5e4,max:32e4,average:15e4},intensityFactor:6.5},{category:"container",fuelConsumptionPerNM:175,averageSpeed:20,typicalDWT:{min:5e4,max:2e5,average:1e5},intensityFactor:7.8},{category:"bulk-carrier",fuelConsumptionPerNM:95,averageSpeed:14,typicalDWT:{min:3e4,max:18e4,average:8e4},intensityFactor:7.1}],carbonSequestration:{mangrove:7.5,seagrass:5.2,kelp:2.5},offsetPricing:{mangroveUSDPerHectare:850,seagrassUSDPerHectare:620},exchangeRates:{AUDUSD:.66},ciiThresholds:{A:{max:-20},B:{min:-20,max:-10},C:{min:-10,max:10},D:{min:10,max:20},E:{min:20}}};const ft=new class{config;constructor(e=vt){this.config=e}calculateFleetEmissions(e){const t=Date.now(),s=[],r=e.config?{...this.config,...e.config}:this.config;e.fleet.forEach(e=>{const t=this.validateAsset(e);s.push(...t)});const a=[];e.fleet.forEach(e=>{try{const t=this.calculateAssetEmissions(e,r);a.push(t)}catch(t){s.push({field:"calculation",assetId:e.id,message:`Failed to calculate emissions: ${t instanceof Error?t.message:"Unknown error"}`,severity:"error"})}});const n=this.calculateFleetSummary(a,r),o={success:0===s.filter(e=>"error"===e.severity).length,summary:n,errors:s,calculatedAt:new Date,configUsed:r};return console.log(`Fleet calculation completed in ${Date.now()-t}ms`),o}calculateAssetEmissions(e,t){switch(e.assetType){case"private-jet":return this.calculatePrivateJetEmissions(e,t);case"yacht":return this.calculateYachtEmissions(e,t);case"commercial-shipping":return this.calculateShippingEmissions(e,t);default:throw new Error(`Unknown asset type: ${e.assetType}`)}}calculatePrivateJetEmissions(e,t){const s=t.privateJetFactors.find(t=>t.category===e.category);if(!s)throw new Error(`No emission factor for jet category: ${e.category}`);const r=t.fuelEmissionFactors.find(t=>t.fuelType===e.fuelType);if(!r)throw new Error(`No emission factor for fuel type: ${e.fuelType}`);const a=e.annualFlightHours*s.fuelConsumptionLitersPerHour,n=.8*a/1e3,o=a*r.co2ePerLiter/1e3,i=1e6*o/(e.annualFlightHours*s.averageCruiseSpeed*(e.passengers||s.maxPassengers/2)),l=o/t.carbonSequestration.mangrove,c=o/t.carbonSequestration.seagrass,d=l*t.offsetPricing.mangroveUSDPerHectare,m=d/t.exchangeRates.AUDUSD,h=this.calculateJetRating(i);return{assetId:e.id,assetName:e.name,assetType:"private-jet",totalCO2eTonnesPerYear:o,fuelConsumedLitersPerYear:a,fuelConsumedTonnesPerYear:n,carbonIntensityRating:h,intensityMetric:{value:i,unit:"g CO2e/passenger-km",description:"Emissions per passenger-kilometer"},blueCarbonOffsetRequired:{hectaresMangrove:l,hectaresSeagrass:c,costUSD:d,costAUD:m},equivalentMetrics:{treesRequired:Math.round(1e3*o/21.77),carsOffRoad:Math.round(o/4.6),homesEmissions:Math.round(o/7.5)}}}calculateYachtEmissions(e,t){const s=t.yachtFactors.find(t=>t.category===e.category);if(!s)throw new Error(`No emission factor for yacht category: ${e.category}`);const r=t.fuelEmissionFactors.find(t=>t.fuelType===e.fuelType);if(!r)throw new Error(`No emission factor for fuel type: ${e.fuelType}`);let a;if("cruising"===e.operatingProfile)a=e.annualNauticalMiles*s.cruisingFuelConsumption;else if("idle"===e.operatingProfile){a=e.annualNauticalMiles/s.averageCruiseSpeed*s.idleFuelConsumption}else{a=.7*e.annualNauticalMiles*s.cruisingFuelConsumption+.3*e.annualNauticalMiles/s.averageCruiseSpeed*s.idleFuelConsumption}const n=.85*a/1e3,o=a*r.co2ePerLiter/1e3,i=1e3*o/e.annualNauticalMiles,l=o/t.carbonSequestration.mangrove,c=o/t.carbonSequestration.seagrass,d=l*t.offsetPricing.mangroveUSDPerHectare,m=d/t.exchangeRates.AUDUSD,h=this.calculateYachtRating(i);return{assetId:e.id,assetName:e.name,assetType:"yacht",totalCO2eTonnesPerYear:o,fuelConsumedLitersPerYear:a,fuelConsumedTonnesPerYear:n,carbonIntensityRating:h,intensityMetric:{value:i,unit:"kg CO2e/NM",description:"Emissions per nautical mile"},blueCarbonOffsetRequired:{hectaresMangrove:l,hectaresSeagrass:c,costUSD:d,costAUD:m},equivalentMetrics:{treesRequired:Math.round(1e3*o/21.77),carsOffRoad:Math.round(o/4.6),homesEmissions:Math.round(o/7.5)}}}calculateShippingEmissions(e,t){const s=t.shippingFactors.find(t=>t.category===e.category);if(!s)throw new Error(`No emission factor for shipping category: ${e.category}`);const r=t.fuelEmissionFactors.find(t=>t.fuelType===e.fuelType);if(!r)throw new Error(`No emission factor for fuel type: ${e.fuelType}`);const a=e.annualNauticalMiles*s.fuelConsumptionPerNM,n=.95*a/1e3,o=a*r.co2ePerLiter/1e3,i=1e6*o/(1.852*e.annualNauticalMiles*e.cargoCapacity),l=this.calculateCIIRating(i,s.intensityFactor,t),c=o/t.carbonSequestration.mangrove,d=o/t.carbonSequestration.seagrass,m=c*t.offsetPricing.mangroveUSDPerHectare,h=m/t.exchangeRates.AUDUSD;return{assetId:e.id,assetName:e.name,assetType:"commercial-shipping",totalCO2eTonnesPerYear:o,fuelConsumedLitersPerYear:a,fuelConsumedTonnesPerYear:n,carbonIntensityRating:l,intensityMetric:{value:i,unit:"g CO2e/tonne-km",description:"IMO Carbon Intensity Indicator"},blueCarbonOffsetRequired:{hectaresMangrove:c,hectaresSeagrass:d,costUSD:m,costAUD:h},equivalentMetrics:{treesRequired:Math.round(1e3*o/21.77),carsOffRoad:Math.round(o/4.6),homesEmissions:Math.round(o/7.5)}}}calculateFleetSummary(e,t){const s=e.reduce((e,t)=>e+t.totalCO2eTonnesPerYear,0),r=e.reduce((e,t)=>e+t.fuelConsumedLitersPerYear,0),a=e.filter(e=>"private-jet"===e.assetType),n=e.filter(e=>"yacht"===e.assetType),o=e.filter(e=>"commercial-shipping"===e.assetType),i=e.reduce((e,t)=>e+t.blueCarbonOffsetRequired.hectaresMangrove,0),l=e.reduce((e,t)=>e+t.blueCarbonOffsetRequired.hectaresSeagrass,0),c=e.reduce((e,t)=>e+t.blueCarbonOffsetRequired.costUSD,0),d=e.reduce((e,t)=>e+t.blueCarbonOffsetRequired.costAUD,0),m={A:5,B:4,C:3,D:2,E:1},h=e.reduce((e,t)=>e+m[t.carbonIntensityRating],0)/e.length,u=h>=4.5?"A":h>=3.5?"B":h>=2.5?"C":h>=1.5?"D":"E";return{totalAssets:e.length,totalCO2eTonnesPerYear:s,totalFuelConsumedLitersPerYear:r,totalCostUSD:c,totalCostAUD:d,byAssetType:{privateJets:{count:a.length,totalEmissions:a.reduce((e,t)=>e+t.totalCO2eTonnesPerYear,0),percentOfFleet:a.length/e.length*100},yachts:{count:n.length,totalEmissions:n.reduce((e,t)=>e+t.totalCO2eTonnesPerYear,0),percentOfFleet:n.length/e.length*100},commercialShipping:{count:o.length,totalEmissions:o.reduce((e,t)=>e+t.totalCO2eTonnesPerYear,0),percentOfFleet:o.length/e.length*100}},offsetRequirements:{totalHectaresMangrove:i,totalHectaresSeagrass:l,costBreakdown:{mangroveUSD:i*t.offsetPricing.mangroveUSDPerHectare,mangroveAUD:i*t.offsetPricing.mangroveUSDPerHectare/t.exchangeRates.AUDUSD,seagrassUSD:l*t.offsetPricing.seagrassUSDPerHectare,seagrassAUD:l*t.offsetPricing.seagrassUSDPerHectare/t.exchangeRates.AUDUSD}},fleetAverageRating:u,complianceStatus:{imoCompliant:o.every(e=>"E"!==e.carbonIntensityRating),recommendedActions:this.generateRecommendations(e)},assetResults:e}}calculateCIIRating(e,t,s){const r=(e-t)/t*100;return r<=s.ciiThresholds.A.max?"A":r<=s.ciiThresholds.B.max?"B":r<=s.ciiThresholds.C.max?"C":r<=s.ciiThresholds.D.max?"D":"E"}calculateJetRating(e){return e<80?"A":e<100?"B":e<130?"C":e<160?"D":"E"}calculateYachtRating(e){return e<5?"A":e<8?"B":e<12?"C":e<16?"D":"E"}generateRecommendations(e){const t=[],s=e.filter(e=>"D"===e.carbonIntensityRating||"E"===e.carbonIntensityRating);s.length>0&&t.push(`${s.length} asset(s) have poor carbon intensity ratings (D/E) - consider operational efficiency improvements`);const r=e.filter(e=>e.totalCO2eTonnesPerYear>1e3);return r.length>0&&t.push(`${r.length} asset(s) emit >1000 tonnes CO2e annually - evaluate alternative fuels (SAF, LNG, biodiesel)`),t.length>0?t:["Fleet performance is within acceptable ranges"]}validateAsset(e){const t=[];switch(e.id&&""!==e.id.trim()||t.push({field:"id",message:"Asset ID is required",severity:"error"}),e.name&&""!==e.name.trim()||t.push({field:"name",assetId:e.id,message:"Asset name is required",severity:"error"}),e.assetType){case"private-jet":e.annualFlightHours<=0&&t.push({field:"annualFlightHours",assetId:e.id,message:"Flight hours must be positive",severity:"error"}),e.annualFlightHours>8760&&t.push({field:"annualFlightHours",assetId:e.id,message:"Annual flight hours exceed maximum (8760)",severity:"warning"});break;case"yacht":case"commercial-shipping":e.annualNauticalMiles<=0&&t.push({field:"annualNauticalMiles",assetId:e.id,message:"Distance must be positive",severity:"error"})}return t}updateExchangeRate(e){this.config.exchangeRates.AUDUSD=e}getConfig(){return{...this.config}}},yt=({name:e,size:t=24,className:s=""})=>x.jsx("img",{src:`/akau/icons/akau/icon-${e}.png`,alt:e,width:t,height:t,className:`inline-block ${s}`,style:{imageRendering:"crisp-edges"}}),jt=[{value:"private-jet",label:"Private Jet",icon:"market"},{value:"yacht",label:"Yacht",icon:"market"},{value:"commercial-shipping",label:"Commercial Shipping",icon:"market"}],Nt=[{value:"light",label:"Light Jet",examples:"Citation CJ3+, Phenom 300"},{value:"midsize",label:"Midsize Jet",examples:"Citation Latitude, Hawker 900XP"},{value:"super-midsize",label:"Super Midsize",examples:"Challenger 350, G280"},{value:"heavy",label:"Heavy Jet",examples:"Gulfstream G650, Global 7500"},{value:"ultra-long-range",label:"Ultra Long Range",examples:"Global 8000, G700"}],wt=[{value:"<30m",label:"Small (<30m)"},{value:"30-50m",label:"Medium (30-50m)"},{value:"50-80m",label:"Large (50-80m)"},{value:"80m+",label:"Mega (80m+)"}],St=[{value:"cargo",label:"Cargo Ship"},{value:"tanker",label:"Tanker"},{value:"container",label:"Container Ship"},{value:"bulk-carrier",label:"Bulk Carrier"}],kt=[{value:"jet-a",label:"Jet A",assetTypes:["private-jet"]},{value:"jet-a1",label:"Jet A-1",assetTypes:["private-jet"]},{value:"sustainable-aviation-fuel",label:"SAF (Sustainable)",assetTypes:["private-jet"]},{value:"diesel",label:"Marine Diesel",assetTypes:["yacht","commercial-shipping"]},{value:"hfo",label:"Heavy Fuel Oil",assetTypes:["commercial-shipping"]},{value:"lng",label:"LNG",assetTypes:["yacht","commercial-shipping"]},{value:"bio-fuel",label:"Biodiesel",assetTypes:["yacht","commercial-shipping"]}],Ct=[{value:"cruising",label:"Mostly Cruising"},{value:"mixed",label:"Mixed Usage"},{value:"idle",label:"Mostly Idle/At Anchor"}],Pt={A:"bg-green-500/20 text-green-400 border-green-500/30",B:"bg-lime-500/20 text-lime-400 border-lime-500/30",C:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",D:"bg-orange-500/20 text-orange-400 border-orange-500/30",E:"bg-red-500/20 text-red-400 border-red-500/30"},Et=(e,t="USD")=>new Intl.NumberFormat("en-AU",{style:"currency",currency:t,minimumFractionDigits:0,maximumFractionDigits:0}).format(e),Mt=(e,t=1)=>e>=1e6?(e/1e6).toFixed(t)+"M":e>=1e3?(e/1e3).toFixed(t)+"K":e.toFixed(t);function Dt({onAdd:t,onCancel:s}){const[r,a]=e.useState("private-jet"),[n,o]=e.useState(""),[i,l]=e.useState("light"),[c,d]=e.useState("jet-a"),[m,h]=e.useState("400"),[u,p]=e.useState("5000"),[g,b]=e.useState("6"),[v,f]=e.useState("mixed"),[y,j]=e.useState("50000"),[N,w]=e.useState("30000"),[S,k]=e.useState("2000"),C=kt.filter(e=>e.assetTypes.includes(r));return x.jsxs("div",{className:"card-glass p-6 space-y-4",children:[x.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[x.jsx(yt,{name:"market",size:20}),"Add Asset to Fleet"]}),x.jsx("div",{className:"grid grid-cols-3 gap-2",children:jt.map(e=>x.jsx("button",{onClick:()=>(e=>{a(e);const t=kt.filter(t=>t.assetTypes.includes(e));t.length>0&&!t.find(e=>e.value===c)&&d(t[0].value),l("private-jet"===e?"light":"yacht"===e?"<30m":"cargo")})(e.value),className:"py-3 px-4 rounded-lg text-sm font-medium transition-all "+(r===e.value?"bg-[var(--akau-teal-500)]/20 text-[var(--akau-teal-400)] border border-[var(--akau-teal-500)]/50":"bg-[var(--color-bg-tertiary)] text-[var(--color-text-secondary)] border border-[var(--color-border)] hover:border-[var(--akau-teal-500)]/30"),children:e.label},e.value))}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium mb-2 text-[var(--color-text-secondary)]",children:"Asset Name"}),x.jsx("input",{type:"text",value:n,onChange:e=>o(e.target.value),placeholder:"My "+("private-jet"===r?"Jet":"yacht"===r?"Yacht":"Ship"),className:"w-full px-3 py-2 bg-[var(--color-bg-tertiary)] border border-[var(--color-border)] rounded focus:outline-none focus:border-[var(--color-sky-blue)]"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium mb-2 text-[var(--color-text-secondary)]",children:"Category"}),x.jsxs("select",{value:i,onChange:e=>l(e.target.value),className:"w-full px-3 py-2 bg-[var(--color-bg-tertiary)] border border-[var(--color-border)] rounded focus:outline-none focus:border-[var(--color-sky-blue)]",children:["private-jet"===r&&Nt.map(e=>x.jsxs("option",{value:e.value,children:[e.label," - ",e.examples]},e.value)),"yacht"===r&&wt.map(e=>x.jsx("option",{value:e.value,children:e.label},e.value)),"commercial-shipping"===r&&St.map(e=>x.jsx("option",{value:e.value,children:e.label},e.value))]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium mb-2 text-[var(--color-text-secondary)]",children:"Fuel Type"}),x.jsx("select",{value:c,onChange:e=>d(e.target.value),className:"w-full px-3 py-2 bg-[var(--color-bg-tertiary)] border border-[var(--color-border)] rounded focus:outline-none focus:border-[var(--color-sky-blue)]",children:C.map(e=>x.jsx("option",{value:e.value,children:e.label},e.value))})]}),"private-jet"===r?x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium mb-2 text-[var(--color-text-secondary)]",children:"Annual Flight Hours"}),x.jsxs("div",{className:"relative",children:[x.jsx("input",{type:"number",value:m,onChange:e=>h(e.target.value),className:"w-full px-3 py-2 bg-[var(--color-bg-tertiary)] border border-[var(--color-border)] rounded focus:outline-none focus:border-[var(--color-sky-blue)] font-mono"}),x.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-sm text-[var(--color-text-secondary)]",children:"hrs"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium mb-2 text-[var(--color-text-secondary)]",children:"Avg Passengers"}),x.jsx("input",{type:"number",value:g,onChange:e=>b(e.target.value),className:"w-full px-3 py-2 bg-[var(--color-bg-tertiary)] border border-[var(--color-border)] rounded focus:outline-none focus:border-[var(--color-sky-blue)] font-mono"})]})]}):"yacht"===r?x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium mb-2 text-[var(--color-text-secondary)]",children:"Annual Nautical Miles"}),x.jsxs("div",{className:"relative",children:[x.jsx("input",{type:"number",value:u,onChange:e=>p(e.target.value),className:"w-full px-3 py-2 bg-[var(--color-bg-tertiary)] border border-[var(--color-border)] rounded focus:outline-none focus:border-[var(--color-sky-blue)] font-mono"}),x.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-sm text-[var(--color-text-secondary)]",children:"NM"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium mb-2 text-[var(--color-text-secondary)]",children:"Engine Power"}),x.jsxs("div",{className:"relative",children:[x.jsx("input",{type:"number",value:S,onChange:e=>k(e.target.value),className:"w-full px-3 py-2 bg-[var(--color-bg-tertiary)] border border-[var(--color-border)] rounded focus:outline-none focus:border-[var(--color-sky-blue)] font-mono"}),x.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-sm text-[var(--color-text-secondary)]",children:"kW"})]})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium mb-2 text-[var(--color-text-secondary)]",children:"Operating Profile"}),x.jsx("select",{value:v,onChange:e=>f(e.target.value),className:"w-full px-3 py-2 bg-[var(--color-bg-tertiary)] border border-[var(--color-border)] rounded focus:outline-none focus:border-[var(--color-sky-blue)]",children:Ct.map(e=>x.jsx("option",{value:e.value,children:e.label},e.value))})]})]}):x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium mb-2 text-[var(--color-text-secondary)]",children:"Annual Nautical Miles"}),x.jsxs("div",{className:"relative",children:[x.jsx("input",{type:"number",value:u,onChange:e=>p(e.target.value),className:"w-full px-3 py-2 bg-[var(--color-bg-tertiary)] border border-[var(--color-border)] rounded focus:outline-none focus:border-[var(--color-sky-blue)] font-mono"}),x.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-sm text-[var(--color-text-secondary)]",children:"NM"})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium mb-2 text-[var(--color-text-secondary)]",children:"Deadweight Tonnage"}),x.jsxs("div",{className:"relative",children:[x.jsx("input",{type:"number",value:y,onChange:e=>j(e.target.value),className:"w-full px-3 py-2 bg-[var(--color-bg-tertiary)] border border-[var(--color-border)] rounded focus:outline-none focus:border-[var(--color-sky-blue)] font-mono"}),x.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-sm text-[var(--color-text-secondary)]",children:"DWT"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium mb-2 text-[var(--color-text-secondary)]",children:"Cargo Capacity"}),x.jsxs("div",{className:"relative",children:[x.jsx("input",{type:"number",value:N,onChange:e=>w(e.target.value),className:"w-full px-3 py-2 bg-[var(--color-bg-tertiary)] border border-[var(--color-border)] rounded focus:outline-none focus:border-[var(--color-sky-blue)] font-mono"}),x.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-sm text-[var(--color-text-secondary)]",children:"t"})]})]})]})]}),x.jsxs("div",{className:"flex gap-3 pt-2",children:[x.jsx("button",{onClick:()=>{const e=Math.random().toString(36).substring(2,9),s=n.trim()||`${r}-${e}`;let a;a="private-jet"===r?{id:e,name:s,assetType:"private-jet",category:i,fuelType:c,annualFlightHours:parseFloat(m)||400,passengers:parseInt(g)||6}:"yacht"===r?{id:e,name:s,assetType:"yacht",category:i,fuelType:c,annualNauticalMiles:parseFloat(u)||5e3,operatingProfile:v,enginePowerKW:parseFloat(S)||2e3}:{id:e,name:s,assetType:"commercial-shipping",category:i,fuelType:c,annualNauticalMiles:parseFloat(u)||5e4,deadweightTonnage:parseFloat(y)||5e4,cargoCapacity:parseFloat(N)||3e4},t(a),o(""),h("400"),p("5000")},className:"flex-1 py-2.5 bg-[var(--color-success)] hover:bg-[var(--color-success)]/90 text-white rounded font-semibold transition-colors",children:"Add to Fleet"}),x.jsx("button",{onClick:s,className:"px-4 py-2.5 bg-[var(--color-bg-tertiary)] text-[var(--color-text-secondary)] rounded font-semibold transition-colors hover:bg-[var(--color-bg-primary)]",children:"Cancel"})]})]})}function Tt({assets:e,onRemove:t}){return 0===e.length?x.jsxs("div",{className:"text-center py-12 text-[var(--color-text-secondary)]",children:[x.jsx(yt,{name:"market",size:48,className:"mx-auto mb-4 opacity-30"}),x.jsx("p",{className:"text-lg",children:"No assets in fleet"}),x.jsx("p",{className:"text-sm",children:"Add assets to calculate emissions"})]}):x.jsx("div",{className:"space-y-3",children:e.map(e=>x.jsxs("div",{className:"flex items-center justify-between p-4 bg-[var(--color-bg-tertiary)]/50 rounded-lg border border-[var(--color-border)]/30",children:[x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx("div",{className:"w-10 h-10 rounded-lg bg-[var(--akau-teal-500)]/20 flex items-center justify-center",children:x.jsx(yt,{name:"market",size:20})}),x.jsxs("div",{children:[x.jsx("p",{className:"font-semibold",children:e.name}),x.jsxs("p",{className:"text-sm text-[var(--color-text-secondary)]",children:["private-jet"===e.assetType&&`${e.category} jet - ${e.annualFlightHours} hrs/year`,"yacht"===e.assetType&&`${e.category} yacht - ${e.annualNauticalMiles.toLocaleString()} NM/year`,"commercial-shipping"===e.assetType&&`${e.category} - ${e.annualNauticalMiles.toLocaleString()} NM/year`]})]})]}),x.jsx("button",{onClick:()=>t(e.id),className:"p-2 text-[var(--color-error)] hover:bg-[var(--color-error)]/10 rounded transition-colors",title:"Remove asset",children:x.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},e.id))})}function At({summary:e,currency:t}){const s="USD"===t?e.totalCostUSD:e.totalCostAUD;return x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 tile-stagger",children:[x.jsxs("div",{className:"card-glass tile-pop-in p-5",children:[x.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[x.jsx("div",{className:"w-10 h-10 rounded-lg bg-red-500/20 flex items-center justify-center",children:x.jsx(yt,{name:"chart-line",size:20})}),x.jsx("span",{className:"text-sm text-[var(--color-text-secondary)]",children:"Total Emissions"})]}),x.jsx("p",{className:"text-3xl font-bold font-mono text-[var(--color-error)]",children:Mt(e.totalCO2eTonnesPerYear,0)}),x.jsx("p",{className:"text-sm text-[var(--color-text-secondary)]",children:"tonnes CO2e/year"})]}),x.jsxs("div",{className:"card-glass tile-pop-in p-5",children:[x.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[x.jsx("div",{className:"w-10 h-10 rounded-lg bg-[var(--akau-teal-500)]/20 flex items-center justify-center",children:x.jsx(yt,{name:"portfolio",size:20})}),x.jsx("span",{className:"text-sm text-[var(--color-text-secondary)]",children:"Offset Cost"})]}),x.jsx("p",{className:"text-3xl font-bold font-mono text-[var(--color-sky-blue)]",children:Et(s,t)}),x.jsxs("p",{className:"text-sm text-[var(--color-text-secondary)]",children:["per year (",t,")"]})]}),x.jsxs("div",{className:"card-glass tile-pop-in p-5",children:[x.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[x.jsx("div",{className:"w-10 h-10 rounded-lg bg-green-500/20 flex items-center justify-center",children:x.jsx(yt,{name:"asset-carbon",size:20})}),x.jsx("span",{className:"text-sm text-[var(--color-text-secondary)]",children:"Mangrove Required"})]}),x.jsx("p",{className:"text-3xl font-bold font-mono text-[var(--color-success)]",children:Mt(e.offsetRequirements.totalHectaresMangrove,1)}),x.jsx("p",{className:"text-sm text-[var(--color-text-secondary)]",children:"hectares"})]}),x.jsxs("div",{className:"card-glass tile-pop-in p-5",children:[x.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[x.jsx("div",{className:"w-10 h-10 rounded-lg bg-yellow-500/20 flex items-center justify-center",children:x.jsx(yt,{name:"neural-brain",size:20})}),x.jsx("span",{className:"text-sm text-[var(--color-text-secondary)]",children:"Fleet Rating"})]}),x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("span",{className:`text-4xl font-bold px-4 py-1 rounded-lg border ${Pt[e.fleetAverageRating]}`,children:e.fleetAverageRating}),x.jsxs("span",{className:"text-sm text-[var(--color-text-secondary)]",children:["A"===e.fleetAverageRating&&"Superior","B"===e.fleetAverageRating&&"Good","C"===e.fleetAverageRating&&"Moderate","D"===e.fleetAverageRating&&"Poor","E"===e.fleetAverageRating&&"Inferior"]})]})]})]}),x.jsxs("div",{className:"card-glass p-5",children:[x.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[x.jsx(yt,{name:"chart-line",size:20}),"Emissions by Asset Type"]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[x.jsxs("div",{className:"bg-[var(--color-bg-tertiary)]/50 rounded-lg p-4 border border-[var(--color-border)]/30",children:[x.jsxs("div",{className:"flex justify-between items-center mb-2",children:[x.jsx("span",{className:"text-sm font-medium",children:"Private Jets"}),x.jsxs("span",{className:"text-xs px-2 py-0.5 bg-[var(--akau-teal-500)]/20 text-[var(--akau-teal-400)] rounded",children:[e.byAssetType.privateJets.count," assets"]})]}),x.jsx("p",{className:"text-2xl font-bold font-mono",children:Mt(e.byAssetType.privateJets.totalEmissions,0)}),x.jsx("p",{className:"text-xs text-[var(--color-text-secondary)]",children:"tonnes CO2e"}),x.jsx("div",{className:"mt-2 h-2 bg-[var(--color-bg-primary)] rounded-full overflow-hidden",children:x.jsx("div",{className:"h-full bg-[var(--akau-teal-500)]",style:{width:(e.totalCO2eTonnesPerYear>0?e.byAssetType.privateJets.totalEmissions/e.totalCO2eTonnesPerYear*100:0)+"%"}})})]}),x.jsxs("div",{className:"bg-[var(--color-bg-tertiary)]/50 rounded-lg p-4 border border-[var(--color-border)]/30",children:[x.jsxs("div",{className:"flex justify-between items-center mb-2",children:[x.jsx("span",{className:"text-sm font-medium",children:"Yachts"}),x.jsxs("span",{className:"text-xs px-2 py-0.5 bg-blue-500/20 text-blue-400 rounded",children:[e.byAssetType.yachts.count," assets"]})]}),x.jsx("p",{className:"text-2xl font-bold font-mono",children:Mt(e.byAssetType.yachts.totalEmissions,0)}),x.jsx("p",{className:"text-xs text-[var(--color-text-secondary)]",children:"tonnes CO2e"}),x.jsx("div",{className:"mt-2 h-2 bg-[var(--color-bg-primary)] rounded-full overflow-hidden",children:x.jsx("div",{className:"h-full bg-blue-500",style:{width:(e.totalCO2eTonnesPerYear>0?e.byAssetType.yachts.totalEmissions/e.totalCO2eTonnesPerYear*100:0)+"%"}})})]}),x.jsxs("div",{className:"bg-[var(--color-bg-tertiary)]/50 rounded-lg p-4 border border-[var(--color-border)]/30",children:[x.jsxs("div",{className:"flex justify-between items-center mb-2",children:[x.jsx("span",{className:"text-sm font-medium",children:"Shipping"}),x.jsxs("span",{className:"text-xs px-2 py-0.5 bg-purple-500/20 text-purple-400 rounded",children:[e.byAssetType.commercialShipping.count," assets"]})]}),x.jsx("p",{className:"text-2xl font-bold font-mono",children:Mt(e.byAssetType.commercialShipping.totalEmissions,0)}),x.jsx("p",{className:"text-xs text-[var(--color-text-secondary)]",children:"tonnes CO2e"}),x.jsx("div",{className:"mt-2 h-2 bg-[var(--color-bg-primary)] rounded-full overflow-hidden",children:x.jsx("div",{className:"h-full bg-purple-500",style:{width:(e.totalCO2eTonnesPerYear>0?e.byAssetType.commercialShipping.totalEmissions/e.totalCO2eTonnesPerYear*100:0)+"%"}})})]})]})]}),x.jsxs("div",{className:"card-glass p-5",children:[x.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[x.jsx(yt,{name:"order-book-spread",size:20}),"Asset Breakdown"]}),x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full",children:[x.jsx("thead",{children:x.jsxs("tr",{className:"border-b border-[var(--color-border)]",children:[x.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-[var(--color-text-secondary)]",children:"Asset"}),x.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-[var(--color-text-secondary)]",children:"Type"}),x.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-[var(--color-text-secondary)]",children:"Emissions"}),x.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-[var(--color-text-secondary)]",children:"Fuel Used"}),x.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-[var(--color-text-secondary)]",children:"Rating"}),x.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-[var(--color-text-secondary)]",children:"Offset (ha)"}),x.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-[var(--color-text-secondary)]",children:"Cost"})]})}),x.jsx("tbody",{children:e.assetResults.map(e=>x.jsxs("tr",{className:"border-b border-[var(--color-border)]/30 hover:bg-[var(--color-bg-tertiary)]/30",children:[x.jsx("td",{className:"py-3 px-4",children:x.jsx("span",{className:"font-medium",children:e.assetName})}),x.jsx("td",{className:"py-3 px-4",children:x.jsx("span",{className:"text-sm text-[var(--color-text-secondary)] capitalize",children:e.assetType.replace("-"," ")})}),x.jsxs("td",{className:"py-3 px-4 text-right",children:[x.jsx("span",{className:"font-mono",children:Mt(e.totalCO2eTonnesPerYear,1)}),x.jsx("span",{className:"text-xs text-[var(--color-text-secondary)] ml-1",children:"t"})]}),x.jsxs("td",{className:"py-3 px-4 text-right",children:[x.jsx("span",{className:"font-mono",children:Mt(e.fuelConsumedLitersPerYear,0)}),x.jsx("span",{className:"text-xs text-[var(--color-text-secondary)] ml-1",children:"L"})]}),x.jsx("td",{className:"py-3 px-4 text-center",children:x.jsx("span",{className:`inline-block px-2.5 py-0.5 rounded text-sm font-bold ${Pt[e.carbonIntensityRating]}`,children:e.carbonIntensityRating})}),x.jsx("td",{className:"py-3 px-4 text-right",children:x.jsx("span",{className:"font-mono",children:e.blueCarbonOffsetRequired.hectaresMangrove.toFixed(1)})}),x.jsx("td",{className:"py-3 px-4 text-right",children:x.jsx("span",{className:"font-mono text-[var(--color-sky-blue)]",children:Et("USD"===t?e.blueCarbonOffsetRequired.costUSD:e.blueCarbonOffsetRequired.costAUD,t)})})]},e.assetId))})]})})]}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[x.jsxs("div",{className:"card-glass p-5",children:[x.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[x.jsx(yt,{name:"help",size:20}),"Equivalent Impact"]}),x.jsx("div",{className:"space-y-3",children:e.assetResults.length>0&&(()=>{const t=e.assetResults.reduce((e,t)=>({trees:e.trees+t.equivalentMetrics.treesRequired,cars:e.cars+t.equivalentMetrics.carsOffRoad,homes:e.homes+t.equivalentMetrics.homesEmissions}),{trees:0,cars:0,homes:0});return x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"flex justify-between items-center p-3 bg-[var(--color-bg-tertiary)]/50 rounded",children:[x.jsx("span",{className:"text-sm",children:"Trees needed to offset"}),x.jsx("span",{className:"font-mono font-semibold",children:Mt(t.trees,0)})]}),x.jsxs("div",{className:"flex justify-between items-center p-3 bg-[var(--color-bg-tertiary)]/50 rounded",children:[x.jsx("span",{className:"text-sm",children:"Equivalent passenger cars"}),x.jsx("span",{className:"font-mono font-semibold",children:Mt(t.cars,0)})]}),x.jsxs("div",{className:"flex justify-between items-center p-3 bg-[var(--color-bg-tertiary)]/50 rounded",children:[x.jsx("span",{className:"text-sm",children:"Equivalent home emissions"}),x.jsx("span",{className:"font-mono font-semibold",children:Mt(t.homes,0)})]})]})})()})]}),x.jsxs("div",{className:"card-glass p-5",children:[x.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[x.jsx(yt,{name:"neural-brain",size:20}),"Recommendations"]}),x.jsx("div",{className:"space-y-3",children:e.complianceStatus.recommendedActions.map((e,t)=>x.jsxs("div",{className:"flex gap-3 p-3 bg-[var(--color-bg-tertiary)]/50 rounded",children:[x.jsx("div",{className:"w-6 h-6 rounded-full bg-[var(--akau-teal-500)]/20 flex items-center justify-center flex-shrink-0 mt-0.5",children:x.jsx("span",{className:"text-xs text-[var(--akau-teal-400)]",children:t+1})}),x.jsx("p",{className:"text-sm",children:e})]},t))}),!e.complianceStatus.imoCompliant&&e.byAssetType.commercialShipping.count>0&&x.jsx("div",{className:"mt-4 p-3 bg-[var(--color-error)]/10 border border-[var(--color-error)]/30 rounded",children:x.jsxs("p",{className:"text-sm text-[var(--color-error)]",children:[x.jsx("strong",{children:"IMO Compliance Warning:"})," Some shipping assets have E-rated carbon intensity and may face regulatory penalties."]})})]})]})]})}function Rt(){const[t,s]=e.useState([]),[r,a]=e.useState(!1),[n,o]=e.useState("USD"),[i,l]=e.useState(null),[c,d]=e.useState(!1),m=e.useCallback(e=>{s(t=>[...t,e]),a(!1),l(null)},[]),h=e.useCallback(e=>{s(t=>t.filter(t=>t.id!==e)),l(null)},[]),u=e.useCallback(()=>{0!==t.length&&(d(!0),setTimeout(()=>{const e=ft.calculateFleetEmissions({fleet:t});e.success&&l(e.summary),d(!1)},500))},[t]),p=e.useCallback(()=>{if(!i)return;const e=i.assetResults.map(e=>[e.assetName,e.assetType,e.totalCO2eTonnesPerYear.toFixed(1),e.fuelConsumedLitersPerYear.toFixed(0),e.carbonIntensityRating,e.blueCarbonOffsetRequired.hectaresMangrove.toFixed(2),e.blueCarbonOffsetRequired.costUSD.toFixed(0),e.blueCarbonOffsetRequired.costAUD.toFixed(0)]),t=[["Asset Name","Type","Emissions (t CO2e)","Fuel (L)","Rating","Offset (ha)","Cost (USD)","Cost (AUD)"].join(","),...e.map(e=>e.join(","))].join("\n"),s=new Blob([t],{type:"text/csv"}),r=URL.createObjectURL(s),a=document.createElement("a");a.href=r,a.download=`blue-carbon-report-${(new Date).toISOString().split("T")[0]}.csv`,a.click(),URL.revokeObjectURL(r)},[i]);return x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("div",{className:"flex items-center gap-4",children:x.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[x.jsx(yt,{name:"asset-carbon",size:32}),x.jsx("span",{className:"text-gradient-teal",children:"Blue Carbon Calculator"})]})}),x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsxs("div",{className:"flex items-center gap-2 bg-[var(--color-bg-tertiary)] rounded-lg p-1",children:[x.jsx("button",{onClick:()=>o("USD"),className:"px-3 py-1.5 rounded text-sm font-medium transition-colors "+("USD"===n?"bg-[var(--akau-teal-500)] text-white":"text-[var(--color-text-secondary)] hover:text-[var(--color-text-primary)]"),children:"USD"}),x.jsx("button",{onClick:()=>o("AUD"),className:"px-3 py-1.5 rounded text-sm font-medium transition-colors "+("AUD"===n?"bg-[var(--akau-teal-500)] text-white":"text-[var(--color-text-secondary)] hover:text-[var(--color-text-primary)]"),children:"AUD"})]}),i&&x.jsxs("button",{onClick:p,className:"px-4 py-2 bg-[var(--color-bg-tertiary)] text-[var(--color-text-secondary)] rounded font-medium transition-colors hover:bg-[var(--color-bg-primary)] hover:text-[var(--color-text-primary)] flex items-center gap-2",children:[x.jsx(yt,{name:"history",size:16}),"Export CSV"]})]})]}),x.jsx("div",{className:"card-glass p-4",children:x.jsx("p",{className:"text-sm text-[var(--color-text-secondary)]",children:"Calculate carbon emissions for your fleet of private jets, yachts, and commercial shipping vessels. Get blue carbon offset requirements and costs based on mangrove and seagrass restoration projects. All calculations use ICAO/IMO-sourced emission factors and scientific blue carbon sequestration rates."})}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[x.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[x.jsxs("div",{className:"card-glass p-5",children:[x.jsxs("div",{className:"flex items-center justify-between mb-4",children:[x.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[x.jsx(yt,{name:"portfolio",size:20}),"Your Fleet"]}),x.jsxs("span",{className:"text-sm text-[var(--color-text-secondary)]",children:[t.length," asset",1!==t.length?"s":""]})]}),x.jsx(Tt,{assets:t,onRemove:h})]}),r?x.jsx(Dt,{onAdd:m,onCancel:()=>a(!1)}):x.jsxs("button",{onClick:()=>a(!0),className:"w-full py-4 border-2 border-dashed border-[var(--color-border)] rounded-lg text-[var(--color-text-secondary)] hover:border-[var(--akau-teal-500)]/50 hover:text-[var(--akau-teal-400)] transition-colors flex items-center justify-center gap-2",children:[x.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Asset"]}),x.jsx("button",{onClick:u,disabled:0===t.length||c,className:"w-full py-4 bg-[var(--akau-teal-500)] hover:bg-[var(--akau-teal-600)] text-white rounded-lg font-semibold transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:c?x.jsxs(x.Fragment,{children:[x.jsxs("svg",{className:"w-5 h-5 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[x.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),x.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Calculating..."]}):x.jsxs(x.Fragment,{children:[x.jsx(yt,{name:"neural-brain",size:20}),"Calculate Emissions"]})})]}),x.jsx("div",{className:"lg:col-span-2",children:i?x.jsx(At,{summary:i,currency:n}):x.jsxs("div",{className:"card-glass p-12 text-center",children:[x.jsx(yt,{name:"chart-line",size:64,className:"mx-auto mb-4 opacity-20"}),x.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No Results Yet"}),x.jsx("p",{className:"text-[var(--color-text-secondary)] max-w-md mx-auto",children:'Add assets to your fleet and click "Calculate Emissions" to see your carbon footprint, blue carbon offset requirements, and cost estimates.'})]})})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[x.jsxs("div",{className:"card-glass p-4",children:[x.jsxs("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[x.jsx(yt,{name:"asset-carbon",size:18}),"Mangrove Restoration"]}),x.jsx("p",{className:"text-sm text-[var(--color-text-secondary)]",children:"Mangroves sequester ~7.5 tonnes CO2/hectare/year. They also provide coastal protection and biodiversity benefits."})]}),x.jsxs("div",{className:"card-glass p-4",children:[x.jsxs("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[x.jsx(yt,{name:"asset-lic",size:18}),"Seagrass Meadows"]}),x.jsx("p",{className:"text-sm text-[var(--color-text-secondary)]",children:"Seagrass captures ~5.2 tonnes CO2/hectare/year. These underwater meadows are critical marine habitats."})]}),x.jsxs("div",{className:"card-glass p-4",children:[x.jsxs("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[x.jsx(yt,{name:"neural-brain",size:18}),"IMO CII Ratings"]}),x.jsx("p",{className:"text-sm text-[var(--color-text-secondary)]",children:"Carbon Intensity Indicator ratings (A-E) help assess fleet efficiency. Ships rated D or E face regulatory action."})]})]})]})}function Bt(){return x.jsx(Je,{config:{useMockMode:!0,network:"regtest"},children:x.jsx(_e,{children:x.jsx(Ge,{children:x.jsxs("div",{className:"min-h-screen flex flex-col",children:[x.jsx(Ze,{}),x.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[x.jsx(tt,{}),x.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:x.jsxs(we,{children:[x.jsx(je,{path:"/",element:x.jsx(at,{})}),x.jsx(je,{path:"/trade",element:x.jsx(xt,{})}),x.jsx(je,{path:"/assets",element:x.jsx(bt,{})}),x.jsx(je,{path:"/calculator",element:x.jsx(Rt,{})})]})})]})]})})})})}function Ut({children:t}){const s=de();return e.useEffect(()=>{const e=sessionStorage.getItem("spa-redirect");e&&(sessionStorage.removeItem("spa-redirect"),s("/"+e,{replace:!0}))},[s]),x.jsx(x.Fragment,{children:t})}p.createRoot(document.getElementById("root")).render(x.jsx(r.StrictMode,{children:x.jsx(Ee,{basename:"/akau/",children:x.jsx(Ut,{children:x.jsx(Bt,{})})})}))})();export{qe as _,__tla};